"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[1091],{1091:(H,y,s)=>{s.r(y),s.d(y,{ConferenceModule:()=>zt});var u=s(6814),c=s(6223),Z=s(1640),q=s(7582),e=s(2029),N=s(8645),T=s(5619),m=s(3620),V=s(3997),p=s(7398),b=s(4279);function g(r=["http:","https:"]){return i=>{const t=i.value;if(null==t)return null;const n=String(t).trim();if(0===n.length)return null;if(!/^https?:\/\//i.test(n))return{invalidUrl:!0};try{const o=new URL(n);if(!r.includes(o.protocol))return{invalidUrl:!0};const l=o.hostname;if(!l)return{invalidUrl:!0};if(l.endsWith(".")||l.startsWith(".")||l.includes(".."))return{invalidUrl:!0};const a="localhost"===l,d=/^\d{1,3}(\.\d{1,3}){3}$/.test(l),f=/^\[[0-9a-f:]+\]$/i.test(l);if(!(l.includes(".")||a||d||f))return{invalidUrl:!0};if(!a&&!d&&!f){const v=l.split(".");if(v.length<2)return{invalidUrl:!0};for(const F of v){if(!/^[a-z0-9-]{1,63}$/i.test(F))return{invalidUrl:!0};if(F.startsWith("-")||F.endsWith("-"))return{invalidUrl:!0}}const E=v[v.length-1];if(!E.startsWith("xn--")&&!/^[a-z]{2,}$/i.test(E))return{invalidUrl:!0}}return null}catch{return{invalidUrl:!0}}}}var S=s(1836),x=s(5219),U=s(6676),B=s(1206),j=s(3859),R=s(219),Q=s(8814);let W=(()=>{class r{constructor(t){this.apiService=t,this.apiURL=t.apiURL,this.data$=new T.X(null),this.message$=new T.X(null)}get questionObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(t,n,o,l){let a="";""!==o&&(a=""!=o.sortField?`sort=${o.sortField}&order=${1===o.sortOrder?"ASC":"DESC"}`:"");const d=""!==a&&""!==l?a+"&"+l:""!==a&&""===l?a:""===a&&""!==l?l:"";this.apiService.get(`questions/get/${t}/${n}${""!==d?"?"+d:""}`).subscribe({next:h=>{this.data$.next(h)},error:h=>{this.message$.next(h)}})}getBySearch(t,n){let o="";""!==n&&(o=""!=n.sortField?`?sort=${n.sortField}&order=${1===n.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`questions/search/${t}${o}`).subscribe({next:l=>{this.data$.next(l)},error:l=>{this.message$.next(l)}})}getBySearchQuery(t){this.apiService.get(`questions/searchquery?${t}`).subscribe({next:n=>{this.data$.next(n)},error:n=>{this.message$.next(n)}})}create(t){this.apiService.post("questions/create/",t).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres k\xe9rd\xe9s r\xf6gz\xedt\xe9s"})},error:n=>{this.message$.next(n)}})}update(t){this.apiService.put(`questions/update/${t.id}`,t).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres k\xe9rd\xe9s m\xf3dos\xedt\xe1s"})},error:n=>{this.message$.next(n)}})}delete(t){this.apiService.delete(`questions/delete/${t.id}`).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres k\xe9rd\xe9s t\xf6rl\xe9s"})},error:n=>{this.message$.next(n)}})}bulkdelete(t){let n={ids:t.map(o=>o.id)};this.apiService.post("question/bulkdelete",n).subscribe({next:o=>{this.message$.next({severity:"success",summary:"Sikeres k\xe9rd\xe9s t\xf6rl\xe9s"})},error:o=>{this.message$.next(o)}})}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(Q.s))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var X=s(3139),ee=s(8022),_=s(9552),A=s(707),L=s(4480),k=s(4104),z=s(3714),G=s(7213),I=s(9246),w=s(7680),M=s(4204),D=s(3259),K=s(3212),P=s(4227),Y=s(6128),te=s(7939),ne=s(117),oe=s(6890),ie=s(4520),re=s(9474),le=s(8913),se=s(3069),ae=s(2991),ce=s(2169),ue=s(6804),de=s(9515);function pe(r,i){1&r&&(e.TgZ(0,"span",28),e._uU(1," Szoba konferenci\xe1hoz rendel\xe9s "),e.qZA())}const me=function(){return{minWidth:"40rem",maxWidth:"60rem"}};function ge(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th",29),e._uU(3," V\xe1lasztott konferenci\xe1val nem \xf6sszerendelt szob\xe1k "),e._UZ(4,"p-sortIcon",30),e.qZA(),e.TgZ(5,"th",31),e._uU(6," P\xf3t\xe1gy "),e._UZ(7,"p-sortIcon",32),e.qZA(),e.TgZ(8,"th")(9,"span",33),e._uU(10," Szob\xe1hoz rendelt konferenci\xe1k "),e.qZA(),e.TgZ(11,"span",34),e._UZ(12,"i",12),e.qZA(),e.TgZ(13,"span",13),e._uU(14),e.qZA(),e.TgZ(15,"span",35)(16,"span",34),e.O4$(),e.TgZ(17,"svg",14),e._UZ(18,"g",15)(19,"g",16),e.TgZ(20,"g",17)(21,"g",18)(22,"g",19),e._UZ(23,"path",20),e.qZA()()()()(),e.kcU(),e.TgZ(24,"span",13),e._uU(25),e.qZA()()()(),e.TgZ(26,"tr")(27,"th",36),e._UZ(28,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(29,"th")(30,"input",37),e.NdJ("input",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onFilter(o,"roomNum"))}),e.qZA(),e.TgZ(31,"app-building-selector",38),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onFilter(o,"building"))}),e.qZA(),e.TgZ(32,"app-bedtype-selector",39),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onFilter(o,"bedType"))}),e.qZA()(),e.TgZ(33,"th")(34,"app-sparebed-selector",40),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.onFilter(o,"spareBeds"))}),e.qZA()(),e.TgZ(35,"th")(36,"app-conference-selector",41),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw(2);return e.KtG(l.selectedFilterConferences=o)})("ngModelChange",function(o){e.CHM(t);const l=e.oxw(2);return l.onFilter(o,"conferences"),e.KtG(l.onConferenceFilterSelection(o))}),e.qZA()()()}if(2&r){const t=e.oxw(2);e.xp6(14),e.hij(" ",t.numberOfFilteredGuests," "),e.xp6(11),e.hij(" ",t.numberOfFilteredBeds," "),e.xp6(6),e.Q6J("showClear",!0),e.xp6(1),e.Q6J("showClear",!0),e.xp6(2),e.Q6J("showClear",!0),e.xp6(2),e.Akn(e.DdM(11,me)),e.Q6J("ngModel",t.selectedFilterConferences)("disabledOptions",t.selectedConferences)("showNoneOption",!1)("showClear",!0)}}function fe(r,i){if(1&r&&(e.TgZ(0,"span",55),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.floor,")")}}function _e(r,i){1&r&&(e.TgZ(0,"span",56),e._uU(1,"\u2744\ufe0f"),e.qZA())}function he(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(", ",t.bathroom,"")}}function be(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=e.oxw().$implicit;e.Gre("sparebed-badge ",t.spareBeds,""),e.xp6(1),e.hij(" ",e.lcZ(2,4,"SPAREBEDS."+(null==t.spareBeds?null:t.spareBeds.toUpperCase()))," ")}}function Ce(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"p-chip",58),e.NdJ("onRemove",function(){e.CHM(t);const o=e.oxw().$implicit,l=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onRemove(o,l))}),e.qZA()}if(2&r){const t=e.oxw().$implicit,n=e.oxw(3);e.Q6J("styleClass",n.isConferenceOverlapping(t)?"bg-red-100":"")("label",t.name)("removable",!0)("pTooltip",n.isConferenceOverlapping(t)?"\xc1tfed\xe9s van a konferenci\xe1val, amihez szob\xe1t rendelne":void 0)}}function xe(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Ce,1,4,"p-chip",57),e.BQk()),2&r){const t=i.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",(null==t?null:t.enabled)&&(n.selectedConferences.length<1||n.isConferenceOverlapping(t)))}}const ve=function(){return[]};function Ze(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",42),e.qZA(),e.TgZ(3,"td")(4,"span",43),e._uU(5,"Szoba sz\xe1m"),e.qZA(),e.TgZ(6,"div")(7,"div",10)(8,"div",11),e._UZ(9,"i",44),e.TgZ(10,"span",45),e._uU(11),e.qZA()(),e.TgZ(12,"div",46)(13,"div",47)(14,"span",48),e._uU(15),e.ALo(16,"translate"),e.YNc(17,fe,2,1,"span",49),e.YNc(18,_e,2,0,"span",50),e.qZA(),e.TgZ(19,"span",51),e._uU(20),e.YNc(21,he,2,1,"span",1),e._uU(22,") "),e.qZA()()()()()(),e.TgZ(23,"td")(24,"span",43),e._uU(25,"P\xf3t\xe1gy"),e.qZA(),e.YNc(26,be,3,6,"span",52),e.qZA(),e.TgZ(27,"td")(28,"span",43),e._uU(29,"Konferenci\xe1k"),e.qZA(),e.TgZ(30,"div",53),e.YNc(31,xe,2,1,"ng-container",54),e.qZA()()()),2&r){const t=i.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("value",t),e.xp6(4),e.Gre("building-badge ",t.building," border-round-xl w-min p-0"),e.xp6(4),e.MGl("pTooltip","Szoba sz\xe1m: ",t.roomNum,""),e.xp6(1),e.hij(" ",t.roomNum," "),e.xp6(1),e.MGl("pTooltip","Szoba k\xf3d: ",t.roomCode,""),e.xp6(3),e.hij(" ",e.lcZ(16,16,"BUILDINGS."+t.building.toUpperCase())," "),e.xp6(2),e.Q6J("ngIf",t.floor),e.xp6(1),e.Q6J("ngIf",t.climate),e.xp6(2),e.AsE(" ",t.beds," SZEM\xc9LYES (",t.bedType,""),e.xp6(1),e.Q6J("ngIf",t.bathroom),e.xp6(5),e.Q6J("ngIf",t.spareBeds),e.xp6(5),e.Q6J("ngForOf",t.conferences||e.DdM(18,ve))("ngForTrackBy",n.trackById)}}function Te(r,i){1&r&&(e.TgZ(0,"tr")(1,"td",59),e._uU(2,"Nincs tal\xe1lat..."),e.qZA()()),2&r&&(e.xp6(1),e.uIk("colspan",4))}const Fe=function(){return{minWidth:"50rem"}},ye=function(){return["roomNum"]},Ue=function(){return{flex:"1 1 auto","min-height":"0"}};function Ae(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"p-sidebar",3),e.NdJ("visibleChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.visible=o)}),e.YNc(2,pe,2,0,"ng-template",4),e.TgZ(3,"div",5)(4,"div",6)(5,"app-conference-selector",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedConferences=o)})("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onConferenceSelection(o))}),e.qZA(),e.TgZ(6,"span",8)(7,"div",9)(8,"div",10)(9,"div",11),e._UZ(10,"i",12),e.TgZ(11,"span",13),e._uU(12),e.qZA()()()()(),e.TgZ(13,"span",8)(14,"div",9)(15,"div",10)(16,"div",11),e.O4$(),e.TgZ(17,"svg",14),e._UZ(18,"g",15)(19,"g",16),e.TgZ(20,"g",17)(21,"g",18)(22,"g",19),e._UZ(23,"path",20),e.qZA()()()(),e.kcU(),e.TgZ(24,"span",13),e._uU(25),e.qZA()()()()(),e.TgZ(26,"p-toggleButton",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.showOnlyFreeRooms=o)}),e.qZA(),e.TgZ(27,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAssign())}),e.qZA()(),e.TgZ(28,"div",23)(29,"p-table",24,25),e.NdJ("selectionChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedRooms=o)})("onLazyLoad",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onLazyLoad(o))}),e.YNc(31,ge,37,12,"ng-template",4),e.YNc(32,Ze,32,19,"ng-template",26),e.YNc(33,Te,3,1,"ng-template",27),e.qZA()()()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("visible",t.visible)("transitionOptions",".3s cubic-bezier(0, 0, 0.2, 1)")("fullScreen",!0)("showCloseIcon",!0)("blockScroll",!0),e.xp6(4),e.Akn(e.DdM(32,Fe)),e.Q6J("ngModel",t.selectedConferences)("disabledOptions",t.selectedFilterConferences)("showNoneOption",!1)("selectionLimit",1)("showClear",!0),e.xp6(2),e.MGl("pTooltip","Vend\xe9gek sz\xe1ma: ",t.numberOfGuests,""),e.xp6(5),e.hij(" ",t.numberOfGuests," "),e.xp6(2),e.MGl("pTooltip","\xc1gyak sz\xe1ma: ",t.numberOfBeds,""),e.xp6(11),e.hij(" ",t.numberOfBeds," "),e.xp6(1),e.Q6J("ngModel",t.showOnlyFreeRooms)("disabled",!t.selectedConferences||!t.selectedConferences.length),e.xp6(1),e.Q6J("disabled",!(t.selectedRooms&&t.selectedRooms.length&&t.selectedConferences&&t.selectedConferences.length)),e.xp6(2),e.Q6J("value",t.displayedRooms)("rows",t.rowsPerPage)("totalRecords",t.showOnlyFreeRooms?t.displayedRooms.length:t.totalRecords)("globalFilterFields",e.DdM(33,ye))("paginator",!0)("rowsPerPageOptions",t.rowsPerPageOptions)("showCurrentPageReport",!0)("selection",t.selectedRooms)("rowHover",!0)("lazy",!t.showOnlyFreeRooms)("scrollable",!0)("scrollHeight","flex")("ngStyle",e.DdM(34,Ue))}}U.locale("hu");let Ee=(()=>{class r{constructor(t,n,o,l){this.roomService=t,this.conferenceService=n,this.userService=o,this.messageService=l,this.visible=!1,this.loading=!0,this.loadingConferences=!0,this.tableItem={},this.tableData=[],this.rowsPerPageOptions=[20,50,100,9999],this.rowsPerPage=20,this.totalRecords=0,this.page=0,this.sortField="",this.sortOrder=1,this.globalFilter="",this.filterValues={},this.debounce={},this.conferences=[],this.rooms=[],this.selected=[],this.selectedConferences=[],this.selectedFilterConferences=[],this.selectedRooms=[],this.canBindRoomToConference=!0,this.numberOfBeds=0,this.numberOfGuests=0,this.numberOfFilteredBeds=0,this.numberOfFilteredGuests=0,this.showOnlyFreeRooms=!1,this.trackById=(a,d)=>"object"==typeof d?d?.id??a:d}get displayedRooms(){return this.showOnlyFreeRooms&&this.selectedConferences?.length?this.tableData.filter(t=>!this.roomHasOverlapWithSelected(t)):this.tableData}ngOnInit(){this.userService.hasRole(["Super Admin","Nagy Admin","Kis Admin"]).subscribe(t=>this.canBindRoomToConference=t),this.roomObs$=this.roomService.roomObs,this.roomObs$.subscribe(t=>{this.loading=!1,t&&(this.tableData=t.rows||[],this.totalRecords=t.totalItems||0,this.page=t.currentPage||0)})}showDialog(){this.visible=!0}doQuery(){this.loading=!0,this.selectedConferences&&(this.filterValues.notAssignedConferences=this.selectedConferences.map(o=>o.id).join(","));const n=Object.keys(this.filterValues).map(o=>this.filterValues[o].length>0?`${o}=${this.filterValues[o]}`:"").filter(o=>o.length>0).join("&");return""!==this.globalFilter?this.roomService.getBySearch(this.globalFilter,{sortField:this.sortField,sortOrder:this.sortOrder}):this.roomService.get(this.page,this.rowsPerPage,{sortField:this.sortField,sortOrder:this.sortOrder},n)}onFilter(t,n){let l="";"conferences"===n?l=t.map(a=>a.id).join(","):t instanceof Date?l=U(t).format("YYYY.MM.DD"):t&&(t.value||t.target?.value)?(l=t.value||t.target?.value,l=l.toString()):this.filterValues[n]="",this.filterValues[n]=l,["building","bedType","spareBeds","conferences"].includes(n)?this.doQuery():(this.debounce[n]&&clearTimeout(this.debounce[n]),this.debounce[n]=setTimeout(()=>{this.doQuery()},500))}onLazyLoad(t){this.page=t.first/t.rows,this.rowsPerPage=t.rows??this.rowsPerPage,this.sortField=t.sortField??"",this.sortOrder=t.sortOrder??1,this.globalFilter=t.globalFilter??"",this.doQuery()}onGlobalFilter(t,n){t.filterGlobal(n.target.value,"contains")}onConferenceSelection(t){this.loadConferenceStats(t,"selected"),this.doQuery()}onConferenceFilterSelection(t){this.loadConferenceStats(t,"filter")}onAssign(){if(!this.selectedConferences||0===this.selectedConferences.length)return;const t=this.selectedConferences[0],n=this.selectedRooms.map(o=>Number(o.id));this.conferenceService.assignRoomsToConference(t,n).subscribe({next:o=>{this.messageService.add({severity:"success",summary:"Sikeres szoba-konferencia \xf6sszerendel\xe9s",detail:"Szob\xe1k hozz\xe1rendelve"});let l=0;this.selectedRooms.forEach(a=>{l+=a.beds||0}),this.numberOfBeds+=l,this.selectedRooms=[],this.refreshSelectedConferenceStats(),this.doQuery()},error:o=>{this.messageService.add({severity:"error",summary:"Sikertelen szoba-konferencia \xf6sszerendel\xe9s",detail:`Hiba: ${o}`})}})}onRemove(t,n){this.conferenceService.removeRoomsFromConference(t.id,[n.id]).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"\xd6sszerendel\xe9s t\xf6r\xf6lve",detail:"Szoba-konferencia \xf6sszerendel\xe9s t\xf6r\xf6lve"}),this.refreshSelectedConferenceStats(),this.doQuery()},error:o=>{this.messageService.add({severity:"error",summary:"Elt\xe1vol\xedt\xe1s sikertelen",detail:`Hiba: ${o}`})}})}calculateConferenceGuestsAndBeds(t){return t&&0!==t.length?{guests:t.reduce((l,a)=>l+(a.guestsNumber||0),0),beds:t.reduce((l,a)=>l+(a?.rooms?.reduce((f,h)=>f+(h.beds||0),0)||0),0)}:{guests:0,beds:0}}applyStatsToTarget(t,n,o){const l=n.reduce((a,d)=>{const f=t[d]??t[String(d)];return a.guests+=f?.guests??0,a.beds+=f?.beds??0,a},{guests:0,beds:0});"selected"===o?(this.numberOfGuests=l.guests,this.numberOfBeds=l.beds):(this.numberOfFilteredGuests=l.guests,this.numberOfFilteredBeds=l.beds)}loadConferenceStats(t,n){const o=(t??[]).map(l=>Number(l?.id)).filter(Boolean);o.length?this.conferenceService.getConferenceStatsByIds(o).subscribe({next:l=>this.applyStatsToTarget(l,o,n),error:()=>{const l=this.calculateConferenceGuestsAndBeds(t);"selected"===n?(this.numberOfGuests=l.guests,this.numberOfBeds=l.beds):(this.numberOfFilteredGuests=l.guests,this.numberOfFilteredBeds=l.beds)}}):"selected"===n?(this.numberOfGuests=0,this.numberOfBeds=0):(this.numberOfFilteredGuests=0,this.numberOfFilteredBeds=0)}refreshSelectedConferenceStats(){this.loadConferenceStats(this.selectedConferences,"selected")}isConferenceOverlapping(t){return!(!t.beginDate||!t.endDate)&&this.selectedConferences.some(n=>{if(!n.beginDate||!n.endDate)return!1;const o=new Date(t.beginDate),l=new Date(t.endDate),a=new Date(n.beginDate);return o<new Date(n.endDate)&&l>a})}overlaps(t,n){if(!(t?.beginDate&&t?.endDate&&n?.beginDate&&n?.endDate))return!1;const o=new Date(t.beginDate),l=new Date(t.endDate),a=new Date(n.beginDate);return o<new Date(n.endDate)&&l>a}roomHasOverlapWithSelected(t){return!!this.selectedConferences?.length&&(t?.conferences??[]).filter(o=>o?.enabled).some(o=>this.selectedConferences.some(l=>this.overlaps(o,l)))}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(ie.X),e.Y36(R.Z),e.Y36(B.K),e.Y36(x.ez))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-room-conference-binder"]],features:[e._Bn([x.ez])],decls:5,vars:4,consts:[["pButton","","pRipple","","label","Szoba konferenci\xe1hoz rendel\xe9s","icon","pi pi-list-check","severity","help",1,"p-button","mr-2",3,"disabled","click"],[4,"ngIf"],[3,"autoZIndex","blocked"],["id","sidebar","position","right","styleClass","p-sidebar-md binder-sidebar",3,"visible","transitionOptions","fullScreen","showCloseIcon","blockScroll","visibleChange"],["pTemplate","header"],[2,"display","flex","flex-direction","column","height","100%","overflow","hidden"],[1,"flex","w-full","mb-2",2,"flex","0 0 auto"],["placeholder","V\xe1lasszon konferenci\xe1t, amihez szob\xe1t rendelne...",3,"ngModel","disabledOptions","showNoneOption","selectionLimit","showClear","ngModelChange"],[1,"block","ml-2","mt-2","md:mt-0","p-input-icon-left"],["tooltipPosition","top",1,"border-round-xl","w-min","p-0",2,"background-color","#E2E8F0",3,"pTooltip"],[1,"flex","align-items-center","justify-content-center","py-1","px-1"],[1,"flex","align-items-center","justify-content-center","gap-2","px-2"],[1,"pi","pi-users",2,"font-size","1.5rem"],[1,"text-2xl","font-normal","white-space-nowrap","vertical-align-middle","w-2rem","text-left"],["width","24px","height","24px","viewBox","0 0 24 24","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","fill","#000000"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","ic_fluent_bed_24_filled","fill","#334155","fill-rule","nonzero"],["d","M19.25,11 C20.7125318,11 21.9084043,12.1417046 21.9949812,13.5824777 L22,13.75 L22,20.25 C22,20.6642136 21.6642136,21 21.25,21 C20.8703042,21 20.556509,20.7178461 20.5068466,20.3517706 L20.5,20.25 L20.5,18 L3.5,18 L3.5,20.25 C3.5,20.6296958 3.21784612,20.943491 2.85177056,20.9931534 L2.75,21 C2.37030423,21 2.05650904,20.7178461 2.00684662,20.3517706 L2,20.25 L2,13.75 C2,12.2874682 3.1417046,11.0915957 4.58247767,11.0050188 L4.75,11 L19.25,11 Z M6.75,4 L17.25,4 C18.7125318,4 19.9084043,5.1417046 19.9949812,6.58247767 L20,6.75 L20,10 L17,10 L16.9932723,9.88337887 C16.9399506,9.42429701 16.575703,9.06004937 16.1166211,9.00672773 L16,9 L14,9 C13.4871642,9 13.0644928,9.38604019 13.0067277,9.88337887 L13,10 L11,10 L10.9932723,9.88337887 C10.9399506,9.42429701 10.575703,9.06004937 10.1166211,9.00672773 L10,9 L8,9 C7.48716416,9 7.06449284,9.38604019 7.00672773,9.88337887 L7,10 L4,10 L4,6.75 C4,5.28746816 5.1417046,4.09159572 6.58247767,4.00501879 L6.75,4 Z"],["onLabel","Szabad-szob\xe1k","offLabel","\xd6sszes szoba","pTooltip","Csak azokat a szob\xe1kat mutatja, amelyeknek nincs \xe1tfed\u0151 konferenci\xe1ja a kiv\xe1lasztottal.","tooltipPosition","top",1,"ml-2",3,"ngModel","disabled","ngModelChange"],["pButton","","pRipple","","label","\xd6sszerendel\xe9s","icon","pi pi-check",1,"p-button","ml-2",3,"disabled","click"],[1,"flex","w-full",2,"flex","1 1 auto","min-height","0"],["dataKey","id","responsiveLayout","scroll","currentPageReportTemplate","{first} - {last} szoba a(z) {totalRecords}-b\xf3l megjelen\xedt\xe9se","selectionMode","multiple",3,"value","rows","totalRecords","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","lazy","scrollable","scrollHeight","ngStyle","selectionChange","onLazyLoad"],["dt",""],["pTemplate","body"],["pTemplate","emptymessage"],[1,"font-semibold","text-xl"],["pSortableColumn","roomNum"],["field","roomNum"],["pSortableColumn","spareBeds"],["field","spareBeds"],[1,"vertical-align-middle","mr-4"],[1,"vertical-align-middle"],[1,"ml-2","mt-2","md:mt-0","p-input-icon-left"],["styleClass","w-3rem"],["pInputText","","type","text","placeholder","Szobasz\xe1m...",1,"mr-2",2,"width","8rem",3,"input"],["placeholder","\xc9p\xfclet...",1,"mr-2",3,"showClear","change"],["placeholder","\xc1gytipus...",3,"showClear","change"],[3,"showClear","change"],["placeholder","Konferencia...",3,"ngModel","disabledOptions","showNoneOption","showClear","ngModelChange"],[3,"value"],[1,"p-column-title"],[1,"pi","pi-key","vertical-align-middle"],["tooltipPosition","top",1,"text-2xl","font-semibold","white-space-nowrap","vertical-align-middle",3,"pTooltip"],["tooltipPosition","top",1,"block","min-w-max","border-left-1","px-2",3,"pTooltip"],[1,"flex","flex-column","align-items-left","justify-content-center"],[1,"text-base","font-semibold","uppercase"],["class","font-normal text-sm uppercase",4,"ngIf"],["class","pl-1",4,"ngIf"],[1,"font-light","text-xs","uppercase"],[3,"class",4,"ngIf"],[1,"flex","flex-column","gap-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"font-normal","text-sm","uppercase"],[1,"pl-1"],["icon","pi pi-calendar","tooltipStyleClass","min-w-max","tooltipPosition","top",3,"styleClass","label","removable","pTooltip","onRemove",4,"ngIf"],["icon","pi pi-calendar","tooltipStyleClass","min-w-max","tooltipPosition","top",3,"styleClass","label","removable","pTooltip","onRemove"],[1,"text-center"]],template:function(n,o){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return o.showDialog()}),e.qZA(),e.YNc(1,Ae,34,35,"ng-container",1),e.TgZ(2,"p-blockUI",2),e._UZ(3,"p-progressSpinner"),e.qZA(),e._UZ(4,"p-toast")),2&n&&(e.Q6J("disabled",!o.canBindRoomToConference),e.xp6(1),e.Q6J("ngIf",o.visible),e.xp6(1),e.Q6J("autoZIndex",!0)("blocked",o.loading))},dependencies:[u.sg,u.O5,u.PC,c.JJ,c.On,x.jx,A.Hq,I.Y,re.w,le.q,se.n,ae.p,_.iA,_.lQ,_.fz,_.UA,_.Mo,z.o,D.u,ce.A,M.b,w.G,k.FN,ue.CO,de.X$],styles:["[_nghost-%COMP%]     .binder-sidebar .p-sidebar-footer{display:none!important;height:0!important;padding:0!important;border:0!important}[_nghost-%COMP%]     .binder-sidebar .p-sidebar-content{padding-bottom:0!important}"]})}return r})();function qe(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"span",31),e._UZ(1,"i",32),e.TgZ(2,"input",33),e.NdJ("input",function(o){e.CHM(t);const l=e.oxw(2),a=e.MAs(4);return e.KtG(l.onGlobalFilter(a,o))}),e.qZA()()}}function Ne(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",26)(1,"h5",27),e._uU(2,"Konferenci\xe1k"),e.qZA(),e.YNc(3,qe,3,0,"span",28),e.TgZ(4,"span",29),e._UZ(5,"app-room-conference-binder"),e.TgZ(6,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.create())}),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.isOrganizer),e.xp6(3),e.Q6J("disabled",!t.canCreate)}}function Se(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th",34),e._uU(3,"N\xe9v "),e._UZ(4,"p-sortIcon",35),e.qZA(),e.TgZ(5,"th",36),e._uU(6,"Kezdete "),e._UZ(7,"p-sortIcon",37),e.qZA(),e.TgZ(8,"th",38),e._uU(9,"Els\u0151 \xe9tkez\xe9s "),e._UZ(10,"p-sortIcon",37),e.qZA(),e.TgZ(11,"th",39),e._uU(12,"V\xe9ge "),e._UZ(13,"p-sortIcon",40),e.qZA(),e.TgZ(14,"th",41),e._uU(15,"Utols\xf3 \xe9tkez\xe9s "),e._UZ(16,"p-sortIcon",40),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Enged\xe9lyezve "),e.qZA()(),e.TgZ(19,"tr"),e._UZ(20,"th"),e.TgZ(21,"th")(22,"input",42),e.NdJ("input",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(o,"name"))}),e.qZA()(),e.TgZ(23,"th")(24,"p-calendar",43),e.NdJ("onSelect",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(o,"beginDate"))})("onClearClick",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(o,"beginDate"))}),e.qZA()(),e.TgZ(25,"th")(26,"app-meal-selector",44),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(o,"firstMeal"))}),e.qZA()(),e.TgZ(27,"th")(28,"p-calendar",45),e.NdJ("onSelect",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(o,"endDate"))})("onClearClick",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(o,"endDate"))}),e.qZA()(),e.TgZ(29,"th")(30,"app-meal-selector",44),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(o,"lastMeal"))}),e.qZA()(),e.TgZ(31,"th")(32,"app-yes-no-selector",46),e.NdJ("ngModelChange",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(o,"enabled"))}),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(24),e.Q6J("showButtonBar",!0),e.xp6(2),e.Q6J("showNothing",!1)("showClear",!0),e.xp6(2),e.Q6J("showButtonBar",!0),e.xp6(2),e.Q6J("showNothing",!1)("showClear",!0),e.xp6(2),e.Q6J("ngModel",t.filterValues.enabled)("yesText","Igen")("noText","Nem")("minHeight","30.5px")("lineHeight","30.5px")}}function ke(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",47),e._UZ(2,"p-button",48),e.qZA(),e.TgZ(3,"td",49)(4,"span",50),e._uU(5,"N\xe9v"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",51)(8,"span",50),e._uU(9,"Kezdete"),e.qZA(),e.TgZ(10,"span",52),e._UZ(11,"i",53),e._uU(12),e.ALo(13,"date"),e.qZA()(),e.TgZ(14,"td",51)(15,"span",50),e._uU(16,"Els\u0151 \xe9tkez\xe9s"),e.qZA(),e.TgZ(17,"span",54),e._uU(18),e.qZA()(),e.TgZ(19,"td",51)(20,"span",50),e._uU(21,"V\xe9ge"),e.qZA(),e.TgZ(22,"span",52),e._UZ(23,"i",53),e._uU(24),e.ALo(25,"date"),e.qZA()(),e.TgZ(26,"td",51)(27,"span",50),e._uU(28,"Utols\xf3 \xe9tkez\xe9s"),e.qZA(),e.TgZ(29,"span",54),e._uU(30),e.qZA()(),e.TgZ(31,"td")(32,"div",55)(33,"button",56),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.copyUrl(l.formUrl))}),e.qZA(),e.TgZ(34,"button",57),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.navigateToConferenceForm(l))}),e.qZA(),e.TgZ(35,"button",58),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editFormFieldInfos(l))}),e.qZA(),e.TgZ(36,"button",59),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editQuestions(l))}),e.qZA(),e.TgZ(37,"button",60),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.edit(l))}),e.qZA(),e.TgZ(38,"button",61),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw();return a.tableItem=l,e.KtG(a.deleteDialog=!0)}),e.qZA()()()()}if(2&r){const t=i.$implicit,n=i.expanded,o=e.oxw();e.xp6(2),e.Q6J("pRowToggler",t)("icon",n?"pi pi-chevron-down":"pi pi-chevron-right"),e.xp6(4),e.hij(" ",t.name," "),e.xp6(6),e.hij(" ",e.xi3(13,14,t.beginDate,"yyyy.MM.dd")," "),e.xp6(5),e.Q6J("ngClass","meal-badge "+o.getMealStyle(t.firstMeal)),e.xp6(1),e.hij(" ",t.firstMeal," "),e.xp6(6),e.hij(" ",e.xi3(25,17,t.endDate,"yyyy.MM.dd")," "),e.xp6(5),e.Q6J("ngClass","meal-badge "+o.getMealStyle(t.lastMeal)),e.xp6(1),e.hij(" ",t.lastMeal," "),e.xp6(3),e.Q6J("disabled",!t.formUrl),e.xp6(2),e.Q6J("disabled",o.isOrganizer&&t.organizer_user_id!==o.loggedInUserId),e.xp6(1),e.Q6J("disabled",o.isOrganizer&&t.organizer_user_id!==o.loggedInUserId),e.xp6(1),e.Q6J("disabled",!o.canEdit),e.xp6(1),e.Q6J("disabled",!o.canDelete)}}function ze(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.organizer.fullname)}}function Ie(r,i){1&r&&(e.TgZ(0,"span"),e._UZ(1,"p-skeleton",72),e.qZA())}function we(r,i){if(1&r&&(e.TgZ(0,"div",74)(1,"div",75),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._UZ(4,"img",76),e._uU(5),e.qZA(),e.TgZ(6,"div"),e._UZ(7,"img",77),e._uU(8),e.qZA()()),2&r){const t=e.oxw(),n=t.index,o=t.$implicit;e.xp6(2),e.hij("",n+1,". k\xe9rd\xe9s"),e.xp6(3),e.hij(" ",o.hu," "),e.xp6(3),e.hij(" ",o.en," ")}}function Me(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,we,9,3,"div",73),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",""!==t.hu||""!==t.en)}}function De(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Me,2,1,"div",71),e.qZA()),2&r){const t=i.$implicit;e.xp6(1),e.Q6J("ngForOf",t.translations)}}function Oe(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td",62)(2,"div",63)(3,"div",64)(4,"div",65)(5,"div",66)(6,"table",67)(7,"tr")(8,"td",68),e._uU(9,"Regisztr\xe1ci\xf3s \u0171rlap link:"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA()(),e.TgZ(12,"tr")(13,"td",68),e._uU(14,"Szerz\u0151d\u0151 neve:"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()(),e.TgZ(17,"tr")(18,"td",68),e._uU(19,"Szerz\u0151d\u0151 ad\xf3sz\xe1ma:"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA()(),e.TgZ(22,"tr")(23,"td",68),e._uU(24,"Szerz\u0151d\u0151 c\xedme:"),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA()(),e.TgZ(27,"tr")(28,"td",68),e._uU(29,"Szervez\u0151:"),e.qZA(),e.TgZ(30,"td"),e.YNc(31,ze,2,1,"span",11),e.YNc(32,Ie,2,0,"span",11),e.qZA()(),e.TgZ(33,"tr")(34,"td",68),e._uU(35,"Kapcsolattart\xf3 neve:"),e.qZA(),e.TgZ(36,"td"),e._uU(37),e.qZA()(),e.TgZ(38,"tr")(39,"td",68),e._uU(40,"Kapcsolattart\xf3 telefonsz\xe1ma:"),e.qZA(),e.TgZ(41,"td")(42,"a",69),e._uU(43),e.qZA()()(),e.TgZ(44,"tr")(45,"td",68),e._uU(46,"Kapcsolattart\xf3 e-mail c\xedme:"),e.qZA(),e.TgZ(47,"td")(48,"a",69),e._uU(49),e.qZA()()(),e.TgZ(50,"tr")(51,"td",68),e._uU(52,"Regisztr\xe1ci\xf3 v\xe9ge"),e.qZA(),e.TgZ(53,"td"),e._uU(54),e.ALo(55,"date"),e.qZA()(),e.TgZ(56,"tr")(57,"td",68),e._uU(58,"Vend\xe9g m\xf3dos\xedt\xe1s hat\xe1rideje"),e.qZA(),e.TgZ(59,"td"),e._uU(60),e.ALo(61,"date"),e.qZA()(),e.TgZ(62,"tr")(63,"td",68),e._uU(64,"Enged\xe9lyezve"),e.qZA(),e.TgZ(65,"td"),e._uU(66),e.qZA()()()(),e.TgZ(67,"div",70),e.YNc(68,De,2,1,"div",71),e.qZA()()()()()()),2&r){const t=i.$implicit,n=e.oxw();e.xp6(11),e.Oqu(t.formUrl),e.xp6(5),e.Oqu(t.contractorName),e.xp6(5),e.Oqu(t.contractorTaxNumber),e.xp6(5),e.Oqu(t.contractorAdress),e.xp6(5),e.Q6J("ngIf",n.organizer),e.xp6(1),e.Q6J("ngIf",t.organizer_user_id&&!n.organizer),e.xp6(5),e.Oqu(t.contactName),e.xp6(5),e.MGl("href","tel:",t.contactPhone,"",e.LSH),e.xp6(1),e.Oqu(t.contactPhone),e.xp6(5),e.MGl("href","mailto:",t.contactEmail,"",e.LSH),e.xp6(1),e.Oqu(t.contactEmail),e.xp6(5),e.Oqu(e.xi3(55,15,t.registrationEndDate,"yyyy.MM.dd")),e.xp6(6),e.Oqu(e.xi3(61,18,t.guestEditEndDate,"yyyy.MM.dd")),e.xp6(6),e.Oqu(t.enabled?"Igen":"Nem"),e.xp6(2),e.Q6J("ngForOf",t.questions)}}function Je(r,i){1&r&&(e.TgZ(0,"tr")(1,"td",78),e._uU(2,"Nincs tal\xe1lat..."),e.qZA()()),2&r&&(e.xp6(1),e.uIk("colspan",7))}function Be(r,i){if(1&r&&(e.TgZ(0,"span",79),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",null!=t.id&&t.id.value?"Konferencia adatai":"\xdaj konferencia"," ")}}function Re(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni "),e.qZA())}function Qe(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function Le(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function Ge(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function Ke(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function Pe(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function Ye(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1," K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function $e(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function He(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function Ve(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function je(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1," K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function We(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1," K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function Xe(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1," Nem megfelel\u0151 email form\xe1tum "),e.qZA())}function et(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function tt(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function nt(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1," K\xf6telez\u0151 kit\xf6lteni "),e.qZA())}function ot(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1," K\xf6telez\u0151 kit\xf6lteni "),e.qZA())}function it(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1," Nem megfelel\u0151 URL form\xe1tum (pl. https://valami.hu) "),e.qZA())}function rt(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",80),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._UZ(2,"input",81),e.TgZ(3,"div",82)(4,"label",83),e._uU(5,"Konferencia neve"),e.qZA(),e._UZ(6,"input",84),e.YNc(7,Re,2,0,"div",85),e.qZA(),e.TgZ(8,"div",82)(9,"label",86),e._uU(10,"Regisztr\xe1ci\xf3s \u0171rlap link"),e.qZA(),e.TgZ(11,"span",87)(12,"i",88),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.copyUrl(null==o.formUrl?null:o.formUrl.value))}),e.qZA(),e._UZ(13,"input",89),e.qZA(),e.YNc(14,Qe,2,0,"div",85),e.qZA(),e.TgZ(15,"div",90)(16,"label",91),e._uU(17,"Kezdete"),e.qZA(),e._UZ(18,"p-calendar",92),e.YNc(19,Le,2,0,"div",85),e.qZA(),e.TgZ(20,"div",90)(21,"label",93),e._uU(22,"Els\u0151 \xe9tkez\xe9s"),e.qZA(),e._UZ(23,"app-meal-selector",94),e.YNc(24,Ge,2,0,"div",85),e.qZA(),e.TgZ(25,"div",90)(26,"label",95),e._uU(27,"V\xe9ge"),e.qZA(),e._UZ(28,"p-calendar",96),e.YNc(29,Ke,2,0,"div",85),e.qZA(),e.TgZ(30,"div",90)(31,"label",97),e._uU(32,"Utols\xf3 \xe9tkez\xe9s"),e.qZA(),e._UZ(33,"app-meal-selector",98),e.YNc(34,Pe,2,0,"div",85),e.qZA(),e.TgZ(35,"div",90)(36,"label",99),e._uU(37,"Szerz\u0151d\u0151 neve"),e.qZA(),e._UZ(38,"input",100),e.YNc(39,Ye,2,0,"div",85),e.qZA(),e.TgZ(40,"div",90)(41,"label",101),e._uU(42,"Szerz\u0151d\u0151 ad\xf3sz\xe1ma"),e.qZA(),e._UZ(43,"input",102),e.YNc(44,$e,2,0,"div",85),e.qZA(),e.TgZ(45,"div",90)(46,"label",103),e._uU(47,"Szerz\u0151d\u0151 c\xedme"),e.qZA(),e._UZ(48,"input",104),e.YNc(49,He,2,0,"div",85),e.qZA(),e.TgZ(50,"div",90)(51,"label",105),e._uU(52,"Szervez\u0151"),e.qZA(),e._UZ(53,"app-user-selector",106),e.qZA(),e.TgZ(54,"div",90)(55,"label",107),e._uU(56,"Kapcsolattart\xf3 neve"),e.qZA(),e._UZ(57,"input",108),e.YNc(58,Ve,2,0,"div",85),e.qZA(),e.TgZ(59,"div",90)(60,"label",109),e._uU(61,"Kapcsolattart\xf3 telefonsz\xe1ma"),e.qZA(),e._UZ(62,"input",110),e.YNc(63,je,2,0,"div",85),e.qZA(),e.TgZ(64,"div",90)(65,"label",111),e._uU(66,"Kapcsolattart\xf3 e-mail c\xedme"),e.qZA(),e._UZ(67,"input",112),e.YNc(68,We,2,0,"div",85),e.YNc(69,Xe,2,0,"div",85),e.qZA(),e.TgZ(70,"div",90)(71,"label",113),e._uU(72,"Regisztr\xe1ci\xf3 v\xe9ge"),e.qZA(),e._UZ(73,"p-calendar",114),e.YNc(74,et,2,0,"div",85),e.qZA(),e.TgZ(75,"div",90)(76,"label",115),e._uU(77,"Vend\xe9g m\xf3dos\xedt\xe1s hat\xe1rideje"),e.qZA(),e._UZ(78,"p-calendar",116),e.YNc(79,tt,2,0,"div",85),e.qZA(),e.TgZ(80,"div",90)(81,"label",117),e._uU(82,"Enged\xe9lyezve"),e.qZA(),e._UZ(83,"app-yes-no-selector",118),e.YNc(84,nt,2,0,"div",85),e.qZA(),e.TgZ(85,"div",82)(86,"label",119),e._uU(87,"Adatv\xe9delmi nyilatkozat URL"),e.qZA(),e.TgZ(88,"span",87)(89,"i",88),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.copyUrl(null==o.acceptanceCriteriaUrl?null:o.acceptanceCriteriaUrl.value))}),e.qZA(),e._UZ(90,"input",120),e.qZA(),e.YNc(91,ot,2,0,"div",85),e.YNc(92,it,2,0,"div",85),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.conferenceForm),e.xp6(6),e.Q6J("ngIf",(null==t.name?null:t.name.dirty)&&(null==t.name||null==t.name.errors?null:t.name.errors.required)),e.xp6(7),e.Q6J("ngIf",(null==t.formUrl?null:t.formUrl.dirty)&&(null==t.formUrl||null==t.formUrl.errors?null:t.formUrl.errors.required)),e.xp6(4),e.Q6J("showButtonBar",!0),e.xp6(1),e.Q6J("ngIf",(null==t.beginDate?null:t.beginDate.dirty)&&(null==t.beginDate||null==t.beginDate.errors?null:t.beginDate.errors.required)),e.xp6(4),e.Q6J("parentForm",t.conferenceForm),e.xp6(1),e.Q6J("ngIf",(null==t.firstMeal?null:t.firstMeal.dirty)&&(null==t.firstMeal||null==t.firstMeal.errors?null:t.firstMeal.errors.required)),e.xp6(4),e.Q6J("showButtonBar",!0),e.xp6(1),e.Q6J("ngIf",(null==t.endDate?null:t.endDate.dirty)&&(null==t.endDate||null==t.endDate.errors?null:t.endDate.errors.required)),e.xp6(4),e.Q6J("parentForm",t.conferenceForm),e.xp6(1),e.Q6J("ngIf",(null==t.lastMeal?null:t.lastMeal.dirty)&&(null==t.lastMeal||null==t.lastMeal.errors?null:t.lastMeal.errors.required)),e.xp6(5),e.Q6J("ngIf",(null==t.contractorName?null:t.contractorName.dirty)&&(null==t.contractorName||null==t.contractorName.errors?null:t.contractorName.errors.required)),e.xp6(5),e.Q6J("ngIf",(null==t.contractorTaxNumber?null:t.contractorTaxNumber.dirty)&&(null==t.contractorTaxNumber||null==t.contractorTaxNumber.errors?null:t.contractorTaxNumber.errors.required)),e.xp6(5),e.Q6J("ngIf",(null==t.contractorAdress?null:t.contractorAdress.dirty)&&(null==t.contractorAdress||null==t.contractorAdress.errors?null:t.contractorAdress.errors.required)),e.xp6(4),e.Q6J("parentForm",t.conferenceForm)("user_rolesid",4),e.xp6(5),e.Q6J("ngIf",(null==t.contactName?null:t.contactName.dirty)&&(null==t.contactName||null==t.contactName.errors?null:t.contactName.errors.required)),e.xp6(5),e.Q6J("ngIf",(null==t.contactPhone?null:t.contactPhone.dirty)&&(null==t.contactPhone||null==t.contactPhone.errors?null:t.contactPhone.errors.required)),e.xp6(5),e.Q6J("ngIf",(null==t.contactEmail?null:t.contactEmail.dirty)&&(null==t.contactEmail||null==t.contactEmail.errors?null:t.contactEmail.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==t.contactEmail?null:t.contactEmail.dirty)&&(null==t.contactEmail||null==t.contactEmail.errors?null:t.contactEmail.errors.invalidEmail)),e.xp6(4),e.Q6J("showButtonBar",!0),e.xp6(1),e.Q6J("ngIf",(null==t.registrationEndDate?null:t.registrationEndDate.dirty)&&(null==t.registrationEndDate||null==t.registrationEndDate.errors?null:t.registrationEndDate.errors.required)),e.xp6(4),e.Q6J("showButtonBar",!0),e.xp6(1),e.Q6J("ngIf",(null==t.guestEditEndDate?null:t.guestEditEndDate.dirty)&&(null==t.guestEditEndDate||null==t.guestEditEndDate.errors?null:t.guestEditEndDate.errors.required)),e.xp6(4),e.Q6J("yesText","Igen")("noText","Nem")("minHeight","44px")("lineHeight","44px"),e.xp6(1),e.Q6J("ngIf",(null==t.enabled?null:t.enabled.dirty)&&(null==t.enabled||null==t.enabled.errors?null:t.enabled.errors.required)),e.xp6(7),e.Q6J("ngIf",(null==t.acceptanceCriteriaUrl?null:t.acceptanceCriteriaUrl.dirty)&&(null==t.acceptanceCriteriaUrl||null==t.acceptanceCriteriaUrl.errors?null:t.acceptanceCriteriaUrl.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==t.acceptanceCriteriaUrl?null:t.acceptanceCriteriaUrl.dirty)&&(null==t.acceptanceCriteriaUrl||null==t.acceptanceCriteriaUrl.errors?null:t.acceptanceCriteriaUrl.errors.invalidUrl))}}function lt(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",122)(1,"button",123),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancel())}),e.qZA(),e.TgZ(2,"button",124),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.conferenceForm.dirty),e.xp6(1),e.Q6J("disabled",!t.conferenceForm.valid||!t.conferenceForm.dirty)}}function st(r,i){1&r&&(e.TgZ(0,"span",79),e._uU(1,"\u0170rlap mez\u0151 inform\xe1ci\xf3k"),e.qZA())}function at(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1," Mindk\xe9t nyelven meg kell adni az inform\xe1ci\xf3t! "),e.qZA())}function ct(r,i){if(1&r&&(e.TgZ(0,"div",125)(1,"label",126),e._uU(2),e.qZA(),e.TgZ(3,"div",127)(4,"i"),e._UZ(5,"img",128),e.qZA(),e._UZ(6,"input",129),e.qZA(),e.TgZ(7,"div",127)(8,"i"),e._UZ(9,"img",130),e.qZA(),e._UZ(10,"input",131),e.qZA(),e.YNc(11,at,2,0,"div",85),e.TgZ(12,"div",132),e._UZ(13,"p-selectButton",133),e.qZA()()),2&r){const t=i.$implicit,n=i.index,o=e.oxw();e.Q6J("formGroupName",n),e.xp6(2),e.hij(" ",o.FORM_FIELD_INFOS_CONFIG[n].label," inform\xe1ci\xf3 "),e.xp6(9),e.Q6J("ngIf",(null==t.errors?null:t.errors.allLanguagesRequired)&&(t.dirty||t.touched)),e.xp6(2),e.Q6J("options",o.formFieldsInfosPosition)}}function ut(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",122)(1,"button",123),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelFormFieldInfos())}),e.qZA(),e.TgZ(2,"button",124),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveFormFieldInfos())}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.formFieldInfosForm.dirty),e.xp6(1),e.Q6J("disabled",!t.formFieldInfosForm.valid||!t.formFieldInfosForm.dirty)}}function dt(r,i){1&r&&(e.TgZ(0,"span",79),e._uU(1,"Szervez\u0151 k\xe9rd\xe9sei"),e.qZA())}function pt(r,i){1&r&&(e.TgZ(0,"div",121),e._uU(1," Mindk\xe9t nyelven meg kell adni a k\xe9rd\xe9st! "),e.qZA())}function mt(r,i){if(1&r&&(e.TgZ(0,"div",125)(1,"label",134),e._uU(2),e.qZA(),e.TgZ(3,"div",135)(4,"i"),e._UZ(5,"img",128),e.qZA(),e._UZ(6,"input",136),e.qZA(),e.TgZ(7,"div",135)(8,"i"),e._UZ(9,"img",130),e.qZA(),e._UZ(10,"input",137),e.qZA(),e.YNc(11,pt,2,0,"div",85),e.qZA()),2&r){const t=i.$implicit,n=i.index;e.Q6J("formGroupName",n),e.xp6(1),e.MGl("for","en-",n,""),e.xp6(1),e.hij(" ",n+1,". k\xe9rd\xe9s "),e.xp6(4),e.MGl("id","hu-",n,""),e.xp6(4),e.MGl("id","en-",n,""),e.xp6(1),e.Q6J("ngIf",null==t.errors?null:t.errors.allLanguagesRequired)}}function gt(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",122)(1,"button",123),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cancelQuestions())}),e.qZA(),e.TgZ(2,"button",124),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveQuestions())}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.questionsForm.dirty),e.xp6(1),e.Q6J("disabled",!t.questionsForm.valid||!t.questionsForm.dirty)}}function ft(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1,"Biztosan t\xf6r\xf6lni akarja a(z) "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4," konferenci\xe1t?"),e.qZA()),2&r){const t=e.oxw();e.xp6(3),e.Oqu(t.tableItem.name)}}function _t(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",122)(1,"button",138),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteDialog=!1)}),e.qZA(),e.TgZ(2,"button",139),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.delete())}),e.qZA()()}}function ht(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",122)(1,"button",138),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.bulkDeleteDialog=!1)}),e.qZA(),e.TgZ(2,"button",139),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelected())}),e.qZA()()}}const bt=function(){return["name","beginDate","endDate","contractorName","contactName"]},Ct=function(){return{"min-height":"calc(100vh - 320px)"}},$=function(){return{width:"450px"}};U.locale("hu");let O=class J{constructor(i,t,n,o,l,a,d,f,h,v){this.userService=i,this.router=t,this.formBuilder=n,this.layoutService=o,this.conferenceService=l,this.questionService=a,this.mealService=d,this.apiService=f,this.messageService=h,this.responsiveService=v,this.loading=!0,this.cols=[],this.tableItem={},this.tableData=[],this.rowsPerPageOptions=[20,50,100],this.rowsPerPage=20,this.totalRecords=0,this.page=0,this.sortField="beginDate",this.sortOrder=1,this.globalFilter="",this.filterValues={},this.debounce={},this.sidebar=!1,this.formFieldsInfosSidebar=!1,this.formFieldsInfosPosition=[],this.questionsSidebar=!1,this.deleteDialog=!1,this.bulkDeleteDialog=!1,this.selected=[],this.meals=[],this.organizer=null,this.canCreate=!1,this.canEdit=!1,this.canDelete=!1,this.isOrganizer=!1,this.isMobile=!1,this.FORM_FIELD_INFOS_CONFIG=[{field:"lastName",label:"Vezet\xe9kn\xe9v"},{field:"firstName",label:"Keresztn\xe9v"},{field:"gender",label:"Neme"},{field:"birthDate",label:"Sz\xfclet\xe9si d\xe1tum"},{field:"nationality",label:"\xc1llampolg\xe1rs\xe1g"},{field:"country",label:"Lak\xf3hely - orsz\xe1g"},{field:"zipCode",label:"Lak\xf3hely - ir\xe1ny\xedt\xf3sz\xe1m"},{field:"email",label:"Email"},{field:"telephone",label:"Telefon"},{field:"dateOfArrival",label:"\xc9rkez\xe9s d\xe1tuma"},{field:"firstMeal",label:"Els\u0151 \xe9tkez\xe9s"},{field:"diet",label:"\xc9trend"},{field:"dateOfDeparture",label:"T\xe1voz\xe1s d\xe1tuma"},{field:"lastMeal",label:"Utols\xf3 \xe9tkez\xe9s"},{field:"babyBed",label:"Baba\xe1gyat k\xe9rsz?"},{field:"roomType",label:"Sz\xe1ll\xe1st\xedpus"},{field:"climate",label:"Kl\xedm\xe1t k\xe9rsz?"},{field:"roomMate",label:"Kivel lakn\xe1l egy szob\xe1ban"},{field:"payment",label:"Fizet\xe9si m\xf3d"}],this.initialFormValues={id:null,name:"",beginDate:"",endDate:"",firstMeal:"",lastMeal:"",contractorName:"",contractorAdress:"",contractorTaxNumber:"",contactName:"",contactEmail:"",contactPhone:"",formUrl:"",registrationEndDate:"",guestEditEndDate:"",organizer_user_id:"",enabled:!0,acceptanceCriteriaUrl:""},this.formChanges$=new N.x,this.changeTheme("indigo"),this.conferenceForm=this.formBuilder.group({id:[this.initialFormValues.id],name:[this.initialFormValues.name,c.kI.required],beginDate:[this.initialFormValues.beginDate,c.kI.required],endDate:[this.initialFormValues.endDate,c.kI.required],firstMeal:[this.initialFormValues.firstMeal,c.kI.required],lastMeal:[this.initialFormValues.lastMeal,c.kI.required],contractorName:[this.initialFormValues.contractorName,c.kI.required],contractorAdress:[this.initialFormValues.contractorAdress,c.kI.required],contractorTaxNumber:[this.initialFormValues.contractorTaxNumber,[c.kI.required]],contactName:[this.initialFormValues.contactName,c.kI.required],contactEmail:[this.initialFormValues.contactEmail,[c.kI.required,(0,S.u)()]],contactPhone:[this.initialFormValues.contactPhone,c.kI.required],formUrl:[this.initialFormValues.formUrl,c.kI.required],registrationEndDate:[this.initialFormValues.registrationEndDate,c.kI.required],guestEditEndDate:[this.initialFormValues.guestEditEndDate,c.kI.required],organizer_user_id:[this.initialFormValues.organizer_user_id],enabled:[this.initialFormValues.enabled],acceptanceCriteriaUrl:[this.initialFormValues.acceptanceCriteriaUrl,[g()]]}),this.isFormValid$=new T.X(!1),this.conferenceForm.get("name")?.valueChanges.subscribe(E=>{const F=this.apiService.productionURL,It=this.apiService.developmentURL,wt=(0,e.X6Q)()?It:F;let Mt=this.slugify(E);this.conferenceForm.patchValue({formUrl:`${wt}/#/conference-form/${Mt}`})}),this.initializeFormFieldInfosForm(),this.initializeQuestionsForm()}ngOnInit(){this.userService.hasRole(["Super Admin","Nagy Admin"]).subscribe(i=>this.canCreate=i),this.userService.hasRole(["Super Admin","Nagy Admin"]).subscribe(i=>this.canEdit=i),this.userService.hasRole(["Super Admin","Nagy Admin"]).subscribe(i=>this.canDelete=i),this.userService.hasRole(["Szervezo"]).subscribe(i=>this.isOrganizer=i),this.loggedInUserId=this.userService.getLoggedInUserId(),this.filterValues.enabled="1",this.conferenceObs$=this.conferenceService.conferenceObs,this.conferenceObs$.subscribe(i=>{this.loading=!1,i&&(this.tableData=i.rows||[],this.totalRecords=i.totalItems||0,this.page=i.currentPage||0)}),this.meals=this.mealService.getMealsForSelector(),this.responsiveService.isMobile$.subscribe(i=>{this.isMobile=i}),this.isFormValid$=this.formChanges$.pipe((0,m.b)(300),(0,V.x)(),(0,p.U)(()=>this.conferenceForm.valid)),this.conferenceForm.valueChanges.subscribe(()=>this.formChanges$.next()),this.serviceMessageObs$=this.conferenceService.messageObs,this.serviceMessageObs$.subscribe(i=>this.handleMessage(i)),this.questionMessageObs$=this.questionService.messageObs,this.questionMessageObs$.subscribe(i=>this.handleMessage(i))}get id(){return this.conferenceForm.get("id")}get name(){return this.conferenceForm.get("name")}get beginDate(){return this.conferenceForm.get("beginDate")}get endDate(){return this.conferenceForm.get("endDate")}get firstMeal(){return this.conferenceForm.get("firstMeal")}get lastMeal(){return this.conferenceForm.get("lastMeal")}get contractorName(){return this.conferenceForm.get("contractorName")}get contractorAdress(){return this.conferenceForm.get("contractorAdress")}get contractorTaxNumber(){return this.conferenceForm.get("contractorTaxNumber")}get contactName(){return this.conferenceForm.get("contactName")}get contactEmail(){return this.conferenceForm.get("contactEmail")}get contactPhone(){return this.conferenceForm.get("contactPhone")}get formUrl(){return this.conferenceForm.get("formUrl")}get registrationEndDate(){return this.conferenceForm.get("registrationEndDate")}get guestEditEndDate(){return this.conferenceForm.get("guestEditEndDate")}get enabled(){return this.conferenceForm.get("enabled")}get acceptanceCriteriaUrl(){return this.conferenceForm.get("acceptanceCriteriaUrl")}get questions(){return this.questionsForm.get("questions")}get formFieldInfosArray(){return this.formFieldInfosForm.get("fields")}get formFieldInfosQuestions(){return this.formFieldInfosForm.get("questions")}doQuery(){this.loading=!0;const t=Object.keys(this.filterValues).map(n=>this.filterValues[n].length>0?`${n}=${this.filterValues[n]}`:"").filter(n=>n.length>0).join("&");return""!==this.globalFilter?this.conferenceService.getBySearch(this.globalFilter,{sortField:this.sortField,sortOrder:this.sortOrder}):this.conferenceService.get(this.page,this.rowsPerPage,{sortField:this.sortField,sortOrder:this.sortOrder},t)}onFilter(i,t){let o="";"enabled"===t?o=i:i instanceof Date?o=U(i).format("YYYY.MM.DD"):i&&(i.value||i.target?.value)?(o=i.value||i.target?.value,o=o.toString()):this.filterValues[t]="",this.filterValues[t]=o,["beginDate","endDate","firstMeal","lastMeal","enabled"].includes(t)?this.filterValues[t]===o&&this.doQuery():(this.debounce[t]&&clearTimeout(this.debounce[t]),this.debounce[t]=setTimeout(()=>{this.filterValues[t]===o&&this.doQuery()},500))}onLazyLoad(i){this.page=i.first/i.rows,this.rowsPerPage=i.rows??this.rowsPerPage,this.sortField=i.sortField??"",this.sortOrder=i.sortOrder??1,this.globalFilter=i.globalFilter??"",this.doQuery()}onGlobalFilter(i,t){i.filterGlobal(t.target.value,"contains")}onRowExpand(i){this.organizer=null;const t=i?.organizer_user_id;t&&this.userService.getUserById(t).subscribe(n=>{this.organizer=n})}handleMessage(i){i&&(this.loading=!1,"ERROR"==i?this.messageService.add({severity:"error",summary:"Error",detail:"Hiba t\xf6rt\xe9nt!"}):(this.messageService.add(i),this.tableItem={},this.selected=[],this.doQuery()))}initializeFormFieldInfosForm(i){this.formFieldsInfosPosition=[{label:"Mez\u0151 alatti sz\xf6veg",value:"text"},{label:"Inform\xe1ci\xf3s bubor\xe9k",value:"bubble"}],this.formFieldInfosForm=this.formBuilder.group({conferenceId:[this.tableItem.id,c.kI.required],fields:this.formBuilder.array(this.FORM_FIELD_INFOS_CONFIG.map(t=>{const n=i?.find(o=>o.field===t.field);return this.formBuilder.group({field:[t.field],info:this.formBuilder.group({hu:[n?.info.hu||""],en:[n?.info.en||""]}),position:[n?.position||"text"]},{validators:r=>{const i=r.get("hu")?.value,t=r.get("en")?.value;return i&&!t||!i&&t?{allLanguagesRequired:!0}:null}})}))}),this.originalFormFieldInfosFormValues=this.formFieldInfosForm.value}initializeQuestionsForm(){const i=this.tableItem.questions,n=[];i&&i.length>0&&i.forEach(a=>{a.translations&&(Array.isArray(a.translations)?a.translations.forEach(d=>{(d.hu||d.en)&&n.push(d)}):(a.translations.hu||a.translations.en)&&n.push(a.translations))}),this.questionsForm=this.formBuilder.group({conferenceid:[this.tableItem.id],questions:this.formBuilder.array([])});const o=this.questionsForm.get("questions");n.forEach(a=>{o.push(this.formBuilder.group({hu:[a.hu],en:[a.en]},{validators:r=>{const i=r.get("hu")?.value,t=r.get("en")?.value;return i&&!t||!i&&t?{allLanguagesRequired:!0}:null}}))});const l=5-o.length;for(let a=0;a<l;a++)o.push(this.formBuilder.group({hu:[""],en:[""]},{validators:r=>{const i=r.get("hu")?.value,t=r.get("en")?.value;return i&&!t||!i&&t?{allLanguagesRequired:!0}:null}}));this.originalQuestionsFormValues=this.questionsForm.value}setFormUrl(){let i=this.tableItem.name||"";i=this.slugify(i),this.tableItem.formUrl=`/conference-form/${i}`}navigateToConferenceForm(i){const t=this.slugify(i.name);this.router.navigate(["/conference-form",t])}create(){this.conferenceForm.reset(this.initialFormValues),this.sidebar=!0}edit(i){this.conferenceForm.reset(this.initialFormValues),this.conferenceForm.patchValue(i),this.originalFormValues=this.conferenceForm.value,this.sidebar=!0}delete(){this.loading=!0,this.deleteDialog=!1,this.conferenceService.delete(this.tableItem)}deleteSelected(){this.loading=!0,this.deleteDialog=!1,this.conferenceService.bulkdelete(this.selected)}save(){if(this.conferenceForm.valid){this.loading=!0;const i=this.conferenceForm.value;i.id?this.conferenceService.update(i):this.conferenceService.create(i),this.sidebar=!1}}cancel(){this.conferenceForm.reset(this.originalFormValues)}editFormFieldInfos(i){this.tableItem=i,this.formFieldInfosForm.reset(),this.initializeFormFieldInfosForm(i.formFieldInfos),this.formFieldsInfosSidebar=!0}saveFormFieldInfos(){if(this.formFieldInfosForm.invalid)return;const t=this.formFieldInfosForm.value.fields.filter(o=>o.info.hu?.trim()||o.info.en?.trim()),n={...this.tableItem,formFieldInfos:t};this.conferenceService.update(n),this.formFieldsInfosSidebar=!1}cancelFormFieldInfos(){this.formFieldInfosForm.reset(this.originalFormFieldInfosFormValues)}editQuestions(i){this.tableItem=i,this.questionsForm.reset(),this.initializeQuestionsForm(),this.questionsSidebar=!0}saveQuestions(){this.loading=!0;const i={id:this.tableItem.questions&&this.tableItem.questions[0]?.id?this.tableItem.questions[0].id:null,conferenceid:this.tableItem.id,translations:this.questionsForm.value.questions};null==i.id?this.questionService.create(i):this.questionService.update(i),this.questionsSidebar=!1}cancelQuestions(){this.questionsForm.reset(this.originalQuestionsFormValues)}slugify(i){if(!i)return"";const t={\u00e1:"a",\u00e9:"e",\u00ed:"i",\u00f3:"o",\u00f6:"o",\u0151:"o",\u00fa:"u",\u00fc:"u",\u0171:"u",\u00c1:"A",\u00c9:"E",\u00cd:"I",\u00d3:"O",\u00d6:"O",\u0150:"O",\u00da:"U",\u00dc:"U",\u0170:"U"};return(i=i.split("").map(n=>t[n]||n).join("")).trim().toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}copyUrl(i){i&&(navigator.clipboard.writeText(i),this.messageService.add({severity:"success",summary:"Link a v\xe1g\xf3lapra m\xe1solva",detail:i}))}getMealStyle(i){switch(i){case"reggeli":return"breakfast";case"eb\xe9d":return"lunch";case"vacsora":return"dinner";default:return"nothing"}}replaceThemeLink(i,t){const n=document.getElementById("theme-link"),o=n.cloneNode(!0);o.setAttribute("href",i),o.setAttribute("id","theme-link-clone"),n.parentNode.insertBefore(o,n.nextSibling),o.addEventListener("load",()=>{n.remove(),o.setAttribute("id","theme-link"),t()})}changeTheme(i){const t=document.getElementById("theme-link");if(t){const n=t.getAttribute("href").replace(this.layoutService.config.theme,i);this.replaceThemeLink(n,()=>{this.layoutService.config.theme=i,this.layoutService.onConfigUpdate()})}}ngOnDestroy(){}static#e=this.\u0275fac=function(t){return new(t||J)(e.Y36(B.K),e.Y36(Z.F0),e.Y36(c.qu),e.Y36(j.P),e.Y36(R.Z),e.Y36(W),e.Y36(X.Q),e.Y36(Q.s),e.Y36(x.ez),e.Y36(ee.k))};static#t=this.\u0275cmp=e.Xpm({type:J,selectors:[["conference"]],features:[e._Bn([x.ez])],decls:50,vars:43,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-0","py-0"],["dataKey","id","responsiveLayout","scroll","currentPageReportTemplate","{first} - {last} bejegyz\xe9s a(z) {totalRecords}-b\xf3l megjelen\xedt\xe9se","selectionMode","multiple",3,"value","rows","totalRecords","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","tableStyle","rowHover","lazy","selectionChange","onRowExpand","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["id","sidebar","position","right","styleClass","p-sidebar-md",3,"visible","transitionOptions","fullScreen","blockScroll","visibleChange"],[4,"ngIf"],["pTemplate","footer"],["id","formFieldsSidebar","position","right","styleClass","p-sidebar-md",3,"visible","transitionOptions","fullScreen","blockScroll","visibleChange"],[1,"block","text-sm","mb-0"],["novalidate","",1,"p-fluid",3,"formGroup","ngSubmit"],["formControlName","conferenceId","type","hidden"],["formArrayName","fields",1,"flex","flex-wrap","w-full"],["class","w-full mt-3",3,"formGroupName",4,"ngFor","ngForOf"],["id","questionsSidebar","position","right","styleClass","p-sidebar-md",3,"visible","transitionOptions","fullScreen","blockScroll","visibleChange"],["formControlName","conferenceid","type","hidden"],["formArrayName","questions",1,"flex","flex-wrap","w-full"],["header","T\xf6rl\xe9s",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[3,"autoZIndex","blocked"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],["class","block mt-2 md:mt-0 p-input-icon-left",4,"ngIf"],[1,"block","mt-2","md:mt-0"],["pButton","","pRipple","","label","\xdaj","icon","pi pi-plus",1,"p-button-success","mr-2",3,"disabled","click"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Keres\xe9s...",1,"w-full","sm:w-auto",3,"input"],["pSortableColumn","name"],["field","name"],["pSortableColumn","beginDate"],["field","beginDate"],["pSortableColumn","firstMeal"],["pSortableColumn","endDate"],["field","endDate"],["pSortableColumn","lastMeal"],["pInputText","","type","text","placeholder","Keres\xe9s...",2,"width","40%","min-width","22rem",3,"input"],["appendTo","body","dataType","string","placeholder","Keres\xe9s...",3,"showButtonBar","onSelect","onClearClick"],["placeholder","Keres\xe9s...",3,"showNothing","showClear","change"],["appendTo","body","dataType","string","placeholder","Keres\xe9s...","inputStyleClass","w-6rem",3,"showButtonBar","onSelect","onClearClick"],["styleClass","vertical-align-middle",3,"ngModel","yesText","noText","minHeight","lineHeight","ngModelChange"],[1,"pr-0"],["type","button","styleClass","p-button-rounded p-button-text","pRipple","",3,"pRowToggler","icon"],[2,"width","30%","min-width","15rem"],[1,"p-column-title"],[2,"width","14%","min-width","10rem"],[1,"calendar-badge"],[1,"pi","pi-calendar","mr-1"],[3,"ngClass"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-copy","pTooltip","Regisztr\xe1ci\xf3s link m\xe1sol\xe1sa v\xe1g\xf3lapra","tooltipPosition","top",1,"p-button-rounded","p-button-success","mr-2",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-search","pTooltip","Regisztr\xe1ci\xf3s \u0171rlap megnyit\xe1sa","tooltipPosition","top",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-info-circle","pTooltip","\u0170rlap mez\u0151 inform\xe1ci\xf3k be\xe1ll\xedt\xe1sa","tooltipPosition","top",1,"p-button-rounded","p-button-success","mr-2",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-question","pTooltip","Extra k\xe9rd\xe9sek be\xe1ll\xedt\xe1sa","tooltipPosition","top",1,"p-button-rounded","p-button-success","mr-2",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-pencil","pTooltip","Konferencia szerkeszt\xe9se","tooltipPosition","top",1,"p-button-rounded","p-button-success","mr-2",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-trash","pTooltip","Konferencia t\xf6rl\xe9se","tooltipPosition","top",1,"p-button-rounded","p-button-warning",3,"disabled","click"],["colspan","10"],[1,"p-2"],[1,"w-full"],[1,"grid","w-full"],[1,"col-6"],["cellspacing","0","cellpadding","7"],[1,"font-medium"],[3,"href"],[1,"col-5"],[4,"ngFor","ngForOf"],["width","10rem","styleClass","mb-2"],["class","flex flex-column w-full mb-3",4,"ngIf"],[1,"flex","flex-column","w-full","mb-3"],[1,"font-medium","text-900"],["src","assets/demo/images/flag/flag_placeholder.png",1,"flag","flag-hu","mr-1",2,"width","18px"],["src","assets/demo/images/flag/flag_placeholder.png",1,"flag","flag-gb","mr-1",2,"width","18px"],[1,"text-center"],[1,"font-semibold","text-xl"],["novalidate","",1,"grid","formgrid","p-fluid",3,"formGroup","ngSubmit"],["formControlName","id","type","hidden"],[1,"field","mb-4","col-12"],["for","name",1,"font-medium","text-900"],["id","name","type","text","pInputText","","formControlName","name"],["class","block p-error",4,"ngIf"],["for","formUrl",1,"font-medium","text-900"],[1,"block","mt-2","md:mt-0","p-input-icon-right"],[1,"pi","pi-copy","cursor-pointer","hover:text-blue-500",3,"click"],["id","formUrl","type","text","pInputText","","formControlName","formUrl","readonly",""],[1,"field","mb-4","col-12","lg:col-6"],["for","beginDate",1,"font-medium","text-900"],["formControlName","beginDate","appendTo","body","dataType","string","dateFormat","yy-mm-dd",3,"showButtonBar"],["for","firstMeal",1,"font-medium","text-900"],["controlName","firstMeal",3,"parentForm"],["for","endDate",1,"font-medium","text-900"],["formControlName","endDate","appendTo","body","dataType","string","dateFormat","yy-mm-dd",3,"showButtonBar"],["for","lastMeal",1,"font-medium","text-900"],["controlName","lastMeal",3,"parentForm"],["for","contractorName",1,"font-medium","text-900"],["id","contractorName","type","text","pInputText","","formControlName","contractorName"],["for","contractorTaxNumber",1,"font-medium","text-900"],["id","contractorTaxNumber","type","text","pInputText","","formControlName","contractorTaxNumber"],["for","contractorAdress",1,"font-medium","text-900"],["id","contractorAdress","type","text","pInputText","","formControlName","contractorAdress"],["for","organizer",1,"font-medium","text-900"],["controlName","organizer_user_id",3,"parentForm","user_rolesid"],["for","contactName",1,"font-medium","text-900"],["id","contactName","type","text","pInputText","","formControlName","contactName"],["for","contactPhone",1,"font-medium","text-900"],["id","contactPhone","type","text","pInputText","","formControlName","contactPhone"],["for","contactEmail",1,"font-medium","text-900"],["id","contactEmail","type","text","pInputText","","formControlName","contactEmail"],["for","registrationEndDate",1,"font-medium","text-900"],["formControlName","registrationEndDate","appendTo","body","dataType","string","dateFormat","yy-mm-dd",3,"showButtonBar"],["for","guestEditEndDate",1,"font-medium","text-900"],["formControlName","guestEditEndDate","appendTo","body","dataType","string","dateFormat","yy-mm-dd",3,"showButtonBar"],["for","enabled",1,"font-medium","text-900"],["formControlName","enabled","styleClass","vertical-align-middle",3,"yesText","noText","minHeight","lineHeight"],["for","acceptanceCriteriaUrl",1,"font-medium","text-900"],["id","acceptanceCriteriaUrl","type","text","pInputText","","formControlName","acceptanceCriteriaUrl"],[1,"block","p-error"],[1,"flex","justify-content-end","ap-2"],["pButton","","pRipple","","label","M\xe9gsem","icon","pi pi-times",1,"p-button-outlined",3,"disabled","click"],["pButton","","pRipple","","label","Ment\xe9s","icon","pi pi-check",1,"p-button","ml-2",3,"disabled","click"],[1,"w-full","mt-3",3,"formGroupName"],[1,"font-medium","text-900","mb-2"],["formGroupName","info",1,"block","mt-2","p-input-icon-left"],["src","assets/demo/images/flag/flag_placeholder.png",1,"flag","flag-hu",2,"width","18px","margin-top","-8px"],["type","text","pInputText","","formControlName","hu",1,"w-full"],["src","assets/demo/images/flag/flag_placeholder.png",1,"flag","flag-gb",2,"width","18px","margin-top","-8px"],["type","text","pInputText","","formControlName","en",1,"w-full"],[1,"block","mt-2"],["formControlName","position","optionLabel","label","optionValue","value",3,"options"],[1,"font-medium","text-900","mb-2",3,"for"],[1,"block","mt-2","p-input-icon-left"],["type","text","pInputText","","formControlName","hu",1,"w-full",3,"id"],["type","text","pInputText","","formControlName","en",1,"w-full",3,"id"],["pButton","","pRipple","","label","Nem","icon","pi pi-times",1,"p-button-outlined",3,"click"],["pButton","","pRipple","","label","Igen","icon","pi pi-check",1,"p-button","ml-2",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-table",3,4),e.NdJ("selectionChange",function(l){return n.selected=l})("onRowExpand",function(l){return n.onRowExpand(l.data)})("onLazyLoad",function(l){return n.onLazyLoad(l)}),e.YNc(5,Ne,7,2,"ng-template",5),e.YNc(6,Se,33,11,"ng-template",6),e.YNc(7,ke,39,20,"ng-template",7),e.YNc(8,Oe,69,21,"ng-template",8),e.YNc(9,Je,3,1,"ng-template",9),e.qZA()(),e.TgZ(10,"p-sidebar",10),e.NdJ("visibleChange",function(l){return n.sidebar=l}),e.YNc(11,Be,2,1,"ng-template",6),e.YNc(12,rt,93,31,"ng-container",11),e.YNc(13,lt,3,2,"ng-template",12),e.qZA(),e.TgZ(14,"p-sidebar",13),e.NdJ("visibleChange",function(l){return n.formFieldsInfosSidebar=l}),e.YNc(15,st,2,0,"ng-template",6),e.TgZ(16,"p",14),e._uU(17," \u0170rlap kit\xf6lt\xe9s\xe9hez egyedi inform\xe1ci\xf3k megjelen\xedt\xe9s\xe9re van lehet\u0151s\xe9g t\xf6bb nyelven."),e._UZ(18,"br"),e._uU(19," Az inform\xe1ci\xf3 megjelenhet a mez\u0151 alatt kisebb bet\u0171m\xe9rettel, vagy bubor\xe9kban. "),e.qZA(),e.TgZ(20,"form",15),e.NdJ("ngSubmit",function(){return n.saveFormFieldInfos()}),e._UZ(21,"input",16),e.TgZ(22,"div",17),e.YNc(23,ct,14,4,"div",18),e.qZA()(),e.YNc(24,ut,3,2,"ng-template",12),e.qZA(),e.TgZ(25,"p-sidebar",19),e.NdJ("visibleChange",function(l){return n.questionsSidebar=l}),e.YNc(26,dt,2,0,"ng-template",6),e.TgZ(27,"p",14),e._uU(28," \u0170rlaponk\xe9nt az alap\xe9rtelmezett mez\u0151k\xf6n fel\xfcl 5 extra k\xe9rd\xe9s tehet\u0151 fel."),e._UZ(29,"br"),e._uU(30," Az \xfcresen hagyott k\xe9rd\xe9sek nem fognak megjelenni az \u0171rlapon. "),e.qZA(),e.TgZ(31,"form",15),e.NdJ("ngSubmit",function(){return n.saveQuestions()}),e._UZ(32,"input",20),e.TgZ(33,"div",21),e.YNc(34,mt,12,6,"div",18),e.qZA()(),e.YNc(35,gt,3,2,"ng-template",12),e.qZA(),e.TgZ(36,"p-dialog",22),e.NdJ("visibleChange",function(l){return n.deleteDialog=l}),e.TgZ(37,"div",23),e._UZ(38,"i",24),e.YNc(39,ft,5,1,"span",11),e.qZA(),e.YNc(40,_t,3,0,"ng-template",12),e.qZA(),e.TgZ(41,"p-dialog",22),e.NdJ("visibleChange",function(l){return n.bulkDeleteDialog=l}),e.TgZ(42,"div",23),e._UZ(43,"i",24),e.TgZ(44,"span"),e._uU(45,"Biztosan t\xf6r\xf6lni akarja a kiv\xe1lasztott konferenci\xe1kat?"),e.qZA()(),e.YNc(46,ht,3,0,"ng-template",12),e.qZA()()(),e.TgZ(47,"p-blockUI",25),e._UZ(48,"p-progressSpinner"),e.qZA(),e._UZ(49,"p-toast")),2&t&&(e.xp6(3),e.Q6J("value",n.tableData)("rows",n.rowsPerPage)("totalRecords",n.totalRecords)("globalFilterFields",e.DdM(39,bt))("paginator",!0)("rowsPerPageOptions",n.rowsPerPageOptions)("showCurrentPageReport",!0)("selection",n.selected)("tableStyle",e.DdM(40,Ct))("rowHover",!0)("lazy",!0),e.xp6(7),e.Q6J("visible",n.sidebar)("transitionOptions",".3s cubic-bezier(0, 0, 0.2, 1)")("fullScreen",n.isMobile)("blockScroll",!0),e.xp6(2),e.Q6J("ngIf",n.sidebar),e.xp6(2),e.Q6J("visible",n.formFieldsInfosSidebar)("transitionOptions",".3s cubic-bezier(0, 0, 0.2, 1)")("fullScreen",n.isMobile)("blockScroll",!0),e.xp6(6),e.Q6J("formGroup",n.formFieldInfosForm),e.xp6(3),e.Q6J("ngForOf",n.formFieldInfosArray.controls),e.xp6(2),e.Q6J("visible",n.questionsSidebar)("transitionOptions",".3s cubic-bezier(0, 0, 0.2, 1)")("fullScreen",n.isMobile)("blockScroll",!0),e.xp6(6),e.Q6J("formGroup",n.questionsForm),e.xp6(3),e.Q6J("ngForOf",n.questions.controls),e.xp6(2),e.Akn(e.DdM(41,$)),e.Q6J("visible",n.deleteDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.tableItem),e.xp6(2),e.Akn(e.DdM(42,$)),e.Q6J("visible",n.bulkDeleteDialog)("modal",!0),e.xp6(6),e.Q6J("autoZIndex",!0)("blocked",n.loading))},dependencies:[u.mk,u.sg,u.O5,_.iA,x.jx,_.lQ,_.jB,_.fz,A.Hq,A.zx,c._Y,c.Fj,c.JJ,c.JL,c.On,c.sg,c.u,c.x0,c.CE,L.H,k.FN,z.o,G.V,I.Y,w.G,M.b,D.u,K.f,P.O,Y.UN,te.H,ne.T,oe.L,Ee,u.uU],encapsulation:2})};O=(0,q.gn)([(0,b.k)()],O);let xt=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[Z.Bz.forChild([{path:"",component:O}]),Z.Bz]})}return r})();var vt=s(2610),Zt=s(6340),Tt=s(6022),Ft=s(6218),yt=s(3965),Ut=s(1865),At=s(9653),Et=s(6263),qt=s(5389),Nt=s(8057),St=s(2285),kt=s(9444);let zt=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[u.ez,xt,_.U$,vt.O,c.u5,c.UX,A.hJ,L.T,k.EV,Zt.V,Tt.Xt,z.j,Ft.A,yt.kW,Ut.cc,At.L$,G.S,I.l,w.L,M.u,Et.W,qt.dp,D.z,Nt.nD,K._8,P.m,Y.Qy,St.L,kt.y]})}return r})()},6890:(H,y,s)=>{s.d(y,{L:()=>T});var u=s(2029),c=s(6223),Z=s(6814),q=s(5609);const e=function(m){return{"min-height":m}},N=function(m){return{lineHeight:m}};let T=(()=>{class m{constructor(){this.yesText="Igen",this.noText="Nem",this.minHeight="44px",this.lineHeight="44px",this.styleClass="vertical-align-middle",this.value=!1,this.disabled=!1,this.onChange=p=>{},this.onTouched=()=>{}}writeValue(p){this.value="1"===p||"0"!==p&&!!p}registerOnChange(p){this.onChange=p}registerOnTouched(p){this.onTouched=p}onValueChange(p){const b=p?"1":"0";this.value=p,this.onChange(b),this.onTouched()}setDisabledState(p){this.disabled=p}static#e=this.\u0275fac=function(b){return new(b||m)};static#t=this.\u0275cmp=u.Xpm({type:m,selectors:[["app-yes-no-selector"]],inputs:{yesText:"yesText",noText:"noText",minHeight:"minHeight",lineHeight:"lineHeight",styleClass:"styleClass"},features:[u._Bn([{provide:c.JU,useExisting:(0,u.Gpc)(()=>m),multi:!0}])],decls:4,vars:10,consts:[[1,"flex","align-items-center","vertical-align-middle",3,"ngStyle"],[3,"ngModel","styleClass","ngModelChange"],[1,"pl-2","font-normal","vertical-align-middle"]],template:function(b,g){1&b&&(u.TgZ(0,"div",0)(1,"p-inputSwitch",1),u.NdJ("ngModelChange",function(C){return g.value=C})("ngModelChange",function(C){return g.onValueChange(C)}),u.qZA(),u.TgZ(2,"span",2),u._uU(3),u.qZA()()),2&b&&(u.Q6J("ngStyle",u.VKq(6,e,g.minHeight)),u.xp6(1),u.Akn(u.VKq(8,N,g.lineHeight)),u.Q6J("ngModel",g.value)("styleClass",g.styleClass),u.xp6(2),u.hij(" ",g.value?g.yesText:g.noText," "))},dependencies:[Z.PC,c.JJ,c.On,q.Ql],encapsulation:2})}return m})()}}]);