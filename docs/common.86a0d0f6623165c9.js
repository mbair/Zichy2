"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[8592],{8913:(S,O,a)=>{a.d(O,{q:()=>E});var e=a(2029),p=a(6223),u=a(9515),v=a(6814),T=a(5219),g=a(3965);function o(l,C){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&l){const t=C.$implicit;e.Q6J("ngClass","sparebed-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",t.label," ")}}function n(l,C){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&l){const t=C.$implicit;e.Q6J("ngClass","sparebed-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function h(l,C){if(1&l){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(i){e.CHM(t);const m=e.oxw();return e.KtG(m.handleOnChange(i))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,o,2,2,"ng-template",3),e.YNc(4,n,2,2,"ng-template",4),e.qZA()}if(2&l){const t=C.ngIf,d=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",d.sparebeds)("showClear",d.showClear)}}function f(l,C){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&l){const t=C.$implicit;e.Q6J("ngClass","sparebed-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",t.label," ")}}function r(l,C){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&l){const t=C.$implicit;e.Q6J("ngClass","sparebed-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function c(l,C){if(1&l){const t=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(i){e.CHM(t);const m=e.oxw();return e.KtG(m.selectedSparebed=i)})("onChange",function(i){e.CHM(t);const m=e.oxw();return e.KtG(m.handleOnChange(i))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,f,2,2,"ng-template",3),e.YNc(4,r,2,2,"ng-template",4),e.qZA()}if(2&l){const t=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"P\xf3t\xe1gy...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedSparebed)("options",t.sparebeds)("showClear",t.showClear)}}let E=(()=>{class l{constructor(t,d){this.translate=t,this.cdRef=d,this.change=new e.vpe,this.sparebeds=[],this.selectedSparebed="",this.disabled=!1,this.onChange=i=>{},this.onTouched=()=>{},this.placeholder||(this.placeholder="V\xe1lasszon...")}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setSparebeds()}),this.setSparebeds()}ngOnChanges(t){this.setSparebeds()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setSparebeds(){this.sparebeds=[{label:this.translate.instant("SPAREBEDS.M"),value:"M"},{label:this.translate.instant("SPAREBEDS.MM"),value:"MM"},{label:this.translate.instant("SPAREBEDS.MGY"),value:"MGY"},{label:this.translate.instant("SPAREBEDS.GY"),value:"GY"}]}handleOnChange(t){this.selectedSparebed=t.value,this.onChange(t.value),this.onTouched(),this.change.emit({value:t.value,field:this.controlName})}setDisabledState(t){this.disabled=t,this.cdRef.detectChanges()}writeValue(t){this.selectedSparebed=t,this.cdRef.detectChanges()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}static#e=this.\u0275fac=function(d){return new(d||l)(e.Y36(u.sK),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-sparebed-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",placeholder:"placeholder",showClear:"showClear"},outputs:{change:"change"},features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>l),multi:!0}]),e.TTD],decls:3,vars:2,consts:[["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],["optionLabel","label","optionValue","value","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(d,i){if(1&d&&(e.YNc(0,h,5,9,"p-dropdown",0),e.YNc(1,c,5,9,"ng-template",null,1,e.W1O)),2&d){const m=e.MAs(2);e.Q6J("ngIf",i.getFormControl())("ngIfElse",m)}},dependencies:[v.mk,v.O5,p.JJ,p.On,p.oH,T.jx,g.Lt,u.X$],encapsulation:2})}return l})()},117:(S,O,a)=>{a.d(O,{T:()=>d});var e=a(2029),p=a(6223),u=a(7394),v=a(1206),T=a(6193),g=a(6814),o=a(5219),n=a(3965),h=a(9515);function f(i,m){if(1&i&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&i){const s=m.$implicit,_=e.oxw(2);e.Q6J("ngClass",_.getRoleStyleClass(s.user_rolesid)),e.xp6(2),e.hij(" ",s.fullname," ")}}function r(i,m){if(1&i&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&i){const s=m.$implicit,_=e.oxw(2);e.Q6J("ngClass",_.getRoleStyleClass(s.user_rolesid)),e.xp6(2),e.hij(" ",s.fullname," ")}}const c=function(){return{minWidth:"13rem"}};function E(i,m){if(1&i){const s=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(b){e.CHM(s);const M=e.oxw();return e.KtG(M.handleOnChange(b))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,f,3,2,"ng-template",3),e.YNc(4,r,3,2,"ng-template",4),e.qZA()}if(2&i){const s=m.ngIf,_=e.oxw();e.Akn(e.DdM(11,c)),e.s9C("placeholder",e.lcZ(1,7,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,9,"Nincs tal\xe1lat...")),e.Q6J("formControl",s)("options",_.users)("showClear",_.showClear)}}function l(i,m){if(1&i&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&i){const s=m.$implicit,_=e.oxw(2);e.Q6J("ngClass",_.getRoleStyleClass(s.user_rolesid)),e.xp6(2),e.hij(" ",s.fullname," ")}}function C(i,m){if(1&i&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&i){const s=m.$implicit,_=e.oxw(2);e.Q6J("ngClass",_.getRoleStyleClass(s.user_rolesid)),e.xp6(2),e.hij(" ",null==s?null:s.fullname," ")}}function t(i,m){if(1&i){const s=e.EpF();e.TgZ(0,"p-dropdown",7),e.NdJ("ngModelChange",function(b){e.CHM(s);const M=e.oxw();return e.KtG(M.selectedUser=b)})("onChange",function(b){e.CHM(s);const M=e.oxw();return e.KtG(M.handleOnChange(b))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,l,3,2,"ng-template",3),e.YNc(4,C,3,2,"ng-template",4),e.qZA()}if(2&i){const s=e.oxw();e.Akn(e.DdM(11,c)),e.s9C("placeholder",e.lcZ(1,7,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,9,"Nincs tal\xe1lat...")),e.Q6J("ngModel",s.selectedUser)("options",s.users)("showClear",s.showClear)}}let d=(()=>{class i{constructor(s,_,b){this.userService=s,this.roleService=_,this.cdRef=b,this.change=new e.vpe,this.disabled=!1,this.users=[],this.selectedUser="",this.roles=[],this.subs=new u.w0,this.onChange=M=>{},this.onTouched=()=>{}}ngOnInit(){this.subs.add(this.userService.getUsersForSelector(this.user_rolesid).subscribe({next:s=>{s&&(this.users=this.user_rolesid?s.filter(_=>_.user_rolesid===this.user_rolesid):s,this.fetchRolesForUsers(),this.selectedUser&&!this.users.some(_=>_.id===this.selectedUser)&&(this.selectedUser="",this.onChange("")),this.cdRef.detectChanges())}}))}ngOnDestroy(){this.subs.unsubscribe()}ngOnChanges(s){s.user_rolesid&&!s.user_rolesid.firstChange&&this.userService.getUsersForSelector(this.user_rolesid).subscribe({next:_=>{this.users=this.user_rolesid?_.filter(b=>b.user_rolesid===this.user_rolesid):_,this.selectedUser&&!this.users.some(b=>b.id===this.selectedUser)&&(this.selectedUser="",this.onChange("")),this.cdRef.detectChanges()}})}fetchRolesForUsers(){this.subs.add(this.roleService.fetchRoles().subscribe({next:s=>{this.roles=s,this.cdRef.detectChanges()}}))}getFormControl(){return this.parentForm?this.parentForm.get(this.controlName):null}handleOnChange(s){this.selectedUser=s.value,this.onChange(s.value),this.onTouched(),this.change.emit({value:s.value,field:this.controlName})}getRoleStyleClass(s){const _=this.roles.find(M=>M.id==s);return`user-role-badge role-${_?_?.name?.trim().toLowerCase().replace(/\s+/g,""):""}`}setDisabledState(s){this.disabled=s,this.cdRef.detectChanges()}writeValue(s){this.selectedUser=s,this.cdRef.detectChanges()}registerOnChange(s){this.onChange=s}registerOnTouched(s){this.onTouched=s}static#e=this.\u0275fac=function(_){return new(_||i)(e.Y36(v.K),e.Y36(T.N),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",user_rolesid:"user_rolesid",showClear:"showClear"},outputs:{change:"change"},features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0}]),e.TTD],decls:3,vars:2,consts:[["optionLabel","fullname","optionValue","id","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","style","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","fullname","optionValue","id","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],[1,"pi","pi-user","mr-1"],["optionLabel","fullname","optionValue","id","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(_,b){if(1&_&&(e.YNc(0,E,5,12,"p-dropdown",0),e.YNc(1,t,5,12,"ng-template",null,1,e.W1O)),2&_){const M=e.MAs(2);e.Q6J("ngIf",b.getFormControl())("ngIfElse",M)}},dependencies:[g.mk,g.O5,p.JJ,p.On,p.oH,o.jx,n.Lt,h.X$],encapsulation:2})}return i})()},3139:(S,O,a)=>{a.d(O,{Q:()=>u});var e=a(8645),p=a(2029);let u=(()=>{class v{constructor(){this.mealChanged=new e.x,this.meals={breakfast:{begin:7,end:10},lunch:{begin:11,end:15},dinner:{begin:17,end:20}},this.checkMealStart(),setInterval(()=>{this.checkMealStart()},2e4)}checkMealStart(){const o=(new Date).getHours();for(const n of Object.keys(this.meals)){const h=this.meals[n];if(o>=h.begin&&o<h.end)return void this.mealChanged.next(n)}}getMealNameByTime(g){const o=g.getHours();for(const n in this.meals){const h=this.meals[n];if(o>=h.begin&&o<=h.end)return this.translateMealName(n)}return"Jelenleg nincs \xe9tkeztet\xe9s"}getMealsForSelector(){let g=[];for(const o in this.meals)g.push(this.translateMealName(o));return g}translateMealName(g){return{breakfast:"reggeli",lunch:"eb\xe9d",dinner:"vacsora"}[g]||g}isOpen(){const g=(new Date).getHours();for(const o in this.meals){const n=this.meals[o];if(g>=n.begin&&g<n.end)return!0}return!1}static#e=this.\u0275fac=function(o){return new(o||v)};static#t=this.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},4520:(S,O,a)=>{a.d(O,{X:()=>n});var e=a(5619),p=a(2096),u=a(7398),v=a(2029),T=a(8814),g=a(9862),o=a(9515);let n=(()=>{class h{constructor(r,c,E){this.apiService=r,this.http=c,this.translate=E,this.cache=[],this.apiURL=r.apiURL,this.data$=new e.X(null),this.message$=new e.X(null)}get roomObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(r,c,E,l){let C="";""!==E&&(C=""!=E.sortField?`sort=${E.sortField}&order=${1===E.sortOrder?"ASC":"DESC"}`:"");const t=""!==C&&""!==l?C+"&"+l:""!==C&&""===l?C:""===C&&""!==l?l:"";this.apiService.get(`room/get/${r}/${c}${""!==t?"?"+t:""}`).subscribe({next:i=>{this.data$.next(i)},error:i=>{this.message$.next(i)}})}getBySearch(r,c){let E="";""!==c&&(E=""!=c.sortField?`?sort=${c.sortField}&order=${1===c.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`room/search/${r}${E}`).subscribe({next:l=>{this.data$.next(l)},error:l=>{this.message$.next(l)}})}getBySearchQuery(r){this.apiService.get(`room/searchquery?${r}`).subscribe({next:c=>{this.data$.next(c)},error:c=>{this.message$.next(c)}})}create(r){this.apiService.post("room/create/",r).subscribe({next:c=>{this.message$.next({severity:"success",summary:"Sikeres szoba r\xf6gz\xedt\xe9s",detail:`${r.roomNum} sz\xe1m\xfa szoba r\xf6gz\xedtve`})},error:c=>{this.message$.next(c)}})}update(r){this.apiService.put(`room/update/${r.id}`,r).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres szoba m\xf3dos\xedt\xe1s",detail:`${r.roomNum} sz\xe1m\xfa szoba m\xf3dos\xedtva`})},error:c=>{this.message$.next(c)}})}delete(r){this.apiService.delete(`room/delete/${r.id}`).subscribe({next:c=>{this.message$.next({severity:"success",summary:"Sikeres szoba t\xf6rl\xe9s",detail:`${r.roomNum} sz\xe1m\xfa szoba t\xf6r\xf6lve`})},error:c=>{this.message$.next(c)}})}bulkdelete(r){let c={ids:r.map(E=>E.id)};this.apiService.post("room/bulkdelete",c).subscribe({next:E=>{this.message$.next({severity:"success",summary:"Sikeres szoba t\xf6rl\xe9s",detail:`${r.length} szoba t\xf6r\xf6lve`})},error:E=>{this.message$.next(E)}})}getRoomsForSelector(){return this.cache.length>0?(0,p.of)(this.cache):(this.get(0,999,{sortField:"roomNum",sortOrder:1},""),this.data$.asObservable().pipe((0,u.U)(r=>{const c=r?r.rows:[];return this.cache=c,c})))}getRoomTypeByCode(r,c){return[{code:"KB",beds:4,label:this.translate.instant("ROOMTYPES.CASTLE"),description:this.translate.instant("ROOMTYPES.4-BED-ROOM"),value:"Kast\xe9ly sz\xe1ll\xe1s 4 \xe1gyas szoba",color:"teal"},{code:"KB",beds:6,label:this.translate.instant("ROOMTYPES.CASTLE"),description:this.translate.instant("ROOMTYPES.6-BED-ROOM"),value:"Kast\xe9ly sz\xe1ll\xe1s 6 \xe1gyas szoba",color:"teal"},{code:"KB",beds:8,label:this.translate.instant("ROOMTYPES.CASTLE"),description:this.translate.instant("ROOMTYPES.8-BED-ROOM"),value:"Kast\xe9ly sz\xe1ll\xe1s 8 \xe1gyas szoba",color:"teal"},{code:"MD",beds:2,label:this.translate.instant("ROOMTYPES.MARANATHA-PENSION-HOUSE"),description:this.translate.instant("ROOMTYPES.2-BED-ROOM"),value:"Maranatha Panzi\xf3h\xe1z 2 \xe1gyas szoba (k\xfcl\xf6n f\xfcrd\u0151s)",color:"yellow"},{code:"MQ",beds:2,label:this.translate.instant("ROOMTYPES.MARANATHA-PENSION-HOUSE"),description:this.translate.instant("ROOMTYPES.DOUBLE-BED-ROOM"),value:"Maranatha Panzi\xf3h\xe1z francia\xe1gyas szoba (k\xfcl\xf6n f\xfcrd\u0151s)",color:"yellow"},{code:"MB",beds:4,label:this.translate.instant("ROOMTYPES.MARANATHA-PENSION-HOUSE"),description:this.translate.instant("ROOMTYPES.M-4-BED-ROOM"),value:"Maranatha Panzi\xf3h\xe1z 4 \xe1gyas szoba (emeletes \xe1gyas, k\xfcl\xf6n f\xfcrd\u0151s)",color:"yellow"},{code:"A",label:this.translate.instant("ROOMTYPES.FAMILY-ROOM"),description:this.translate.instant("ROOMTYPES.WITH-KITCHEN"),value:"Csal\xe1di szoba (k\xf6z\xf6s konyh\xe1val, f\xfcrd\u0151vel \xe9s nappalival)",color:"orange"}].find(C=>C.code===r&&(void 0===C.beds||C.beds===c))}static#e=this.\u0275fac=function(c){return new(c||h)(v.LFG(T.s),v.LFG(g.eN),v.LFG(o.sK))};static#t=this.\u0275prov=v.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},2835:(S,O,a)=>{a.d(O,{c:()=>v});var e=a(5619),p=a(2029),u=a(8814);let v=(()=>{class T{constructor(o){this.apiService=o,this.apiURL=o.apiURL,this.data$=new e.X(null),this.message$=new e.X(null)}get tagObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(o,n,h,f){let r="";""!==h&&(r=""!=h.sortField?`sort=${h.sortField}&order=${1===h.sortOrder?"ASC":"DESC"}`:"");const c=""!==r&&""!==f?r+"&"+f:""!==r&&""===f?r:""===r&&""!==f?f:"";this.apiService.get(`rfid/get/${o}/${n}${""!==c?"?"+c:""}`).subscribe({next:l=>{let C=l.rows;C&&C.length>0&&C.forEach(t=>{t.identifier=t.rfid}),this.data$.next(l)},error:l=>{this.message$.next(l)}})}getBySearch(o,n){let h="";""!==n&&(h=""!=n.sortField?`?sort=${n.sortField}&order=${1===n.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`rfid/search/${o}${h}`).subscribe({next:f=>{let r=f.rows;r&&r.length>0&&r.forEach(c=>{c.identifier=c.rfid}),this.data$.next(f)},error:f=>{this.message$.next(f)}})}getBySearchQuery(o){this.apiService.get(`rfid/searchquery?${o}`).subscribe({next:n=>{let h=n.rows;h&&h.length>0&&h.forEach(f=>{f.identifier=f.rfid}),this.data$.next(n)},error:n=>{this.message$.next(n)}})}create(o){this.apiService.post("rfid/create/",o).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke r\xf6gz\xedt\xe9s",detail:`${o.rfid} r\xf6gz\xedtve`})},error:n=>{this.message$.next(n)}})}update(o){this.apiService.put(`rfid/update/${o.id}`,o).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke m\xf3dos\xedt\xe1s",detail:`${o.rfid} m\xf3dos\xedtva`})},error:n=>{this.message$.next(n)}})}delete(o){this.apiService.delete(`rfid/delete/${o.id}`).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${o.rfid} t\xf6r\xf6lve`})},error:n=>{this.message$.next(n)}})}bulkdelete(o){let n={ids:o.map(h=>h.id)};this.apiService.post("rfid/bulkdelete",n).subscribe({next:h=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${o.length} c\xedmke t\xf6r\xf6lve`})},error:h=>{this.message$.next(h)}})}getByRFID(o){return this.apiService.get(`rfid/search/${o}`)}static#e=this.\u0275fac=function(n){return new(n||T)(p.LFG(u.s))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},1836:(S,O,a)=>{function e(){return p=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(p.value)?null:{invalidEmail:{value:p.value}}}a.d(O,{u:()=>e})},8842:(S,O,a)=>{function e(){return p=>{const u=p.get("password"),v=p.get("password_again");return u&&v&&u.value!==v.value?{passwordsDoNotMatch:!0}:null}}a.d(O,{C:()=>e})},4532:(S,O,a)=>{a.d(O,{d:()=>t});var e=a(6814),p=a(2029),u=a(5219);let t=(()=>{class d{static \u0275fac=function(s){return new(s||d)};static \u0275mod=p.oAB({type:d});static \u0275inj=p.cJS({imports:[e.ez,u.m8]})}return d})()},1913:(S,O,a)=>{a.d(O,{h:()=>v,l:()=>T});var e=a(6814),p=a(2029),u=a(2076);let v=(()=>{class g{el;renderer;zone;constructor(n,h,f){this.el=n,this.renderer=h,this.zone=f}selector;enterClass;enterActiveClass;enterToClass;leaveClass;leaveActiveClass;leaveToClass;hideOnOutsideClick;toggleClass;hideOnEscape;eventListener;documentClickListener;documentKeydownListener;target;enterListener;leaveListener;animating;clickListener(){this.target=this.resolveTarget(),this.toggleClass?this.toggle():null===this.target.offsetParent?this.enter():this.leave()}toggle(){u.p.hasClass(this.target,this.toggleClass)?u.p.removeClass(this.target,this.toggleClass):u.p.addClass(this.target,this.toggleClass)}enter(){this.enterActiveClass?this.animating||(this.animating=!0,"slidedown"===this.enterActiveClass&&(this.target.style.height="0px",u.p.removeClass(this.target,"hidden"),this.target.style.maxHeight=this.target.scrollHeight+"px",u.p.addClass(this.target,"hidden"),this.target.style.height=""),u.p.addClass(this.target,this.enterActiveClass),this.enterClass&&u.p.removeClass(this.target,this.enterClass),this.enterListener=this.renderer.listen(this.target,"animationend",()=>{u.p.removeClass(this.target,this.enterActiveClass),this.enterToClass&&u.p.addClass(this.target,this.enterToClass),this.enterListener&&this.enterListener(),"slidedown"===this.enterActiveClass&&(this.target.style.maxHeight=""),this.animating=!1})):(this.enterClass&&u.p.removeClass(this.target,this.enterClass),this.enterToClass&&u.p.addClass(this.target,this.enterToClass)),this.hideOnOutsideClick&&this.bindDocumentClickListener(),this.hideOnEscape&&this.bindDocumentKeydownListener()}leave(){this.leaveActiveClass?this.animating||(this.animating=!0,u.p.addClass(this.target,this.leaveActiveClass),this.leaveClass&&u.p.removeClass(this.target,this.leaveClass),this.leaveListener=this.renderer.listen(this.target,"animationend",()=>{u.p.removeClass(this.target,this.leaveActiveClass),this.leaveToClass&&u.p.addClass(this.target,this.leaveToClass),this.leaveListener&&this.leaveListener(),this.animating=!1})):(this.leaveClass&&u.p.removeClass(this.target,this.leaveClass),this.leaveToClass&&u.p.addClass(this.target,this.leaveToClass)),this.hideOnOutsideClick&&this.unbindDocumentClickListener(),this.hideOnEscape&&this.unbindDocumentKeydownListener()}resolveTarget(){if(this.target)return this.target;switch(this.selector){case"@next":return this.el.nativeElement.nextElementSibling;case"@prev":return this.el.nativeElement.previousElementSibling;case"@parent":return this.el.nativeElement.parentElement;case"@grandparent":return this.el.nativeElement.parentElement.parentElement;default:return document.querySelector(this.selector)}}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"click",n=>{this.isVisible()&&"static"!==getComputedStyle(this.target).getPropertyValue("position")?this.isOutsideClick(n)&&this.leave():this.unbindDocumentClickListener()}))}bindDocumentKeydownListener(){this.documentKeydownListener||this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"keydown",n=>{const{key:h,keyCode:f,which:r}=n;(!this.isVisible()||"static"===getComputedStyle(this.target).getPropertyValue("position"))&&this.unbindDocumentKeydownListener(),this.isVisible()&&"Escape"===h&&27===f&&27===r&&this.leave()})})}isVisible(){return null!==this.target.offsetParent}isOutsideClick(n){return!this.el.nativeElement.isSameNode(n.target)&&!this.el.nativeElement.contains(n.target)&&!this.target.contains(n.target)}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}unbindDocumentKeydownListener(){this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}ngOnDestroy(){this.target=null,this.eventListener&&this.eventListener(),this.unbindDocumentClickListener(),this.unbindDocumentKeydownListener()}static \u0275fac=function(h){return new(h||g)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.R0b))};static \u0275dir=p.lG2({type:g,selectors:[["","pStyleClass",""]],hostAttrs:[1,"p-element"],hostBindings:function(h,f){1&h&&p.NdJ("click",function(c){return f.clickListener(c)})},inputs:{selector:["pStyleClass","selector"],enterClass:"enterClass",enterActiveClass:"enterActiveClass",enterToClass:"enterToClass",leaveClass:"leaveClass",leaveActiveClass:"leaveActiveClass",leaveToClass:"leaveToClass",hideOnOutsideClick:"hideOnOutsideClick",toggleClass:"toggleClass",hideOnEscape:"hideOnEscape"}})}return g})(),T=(()=>{class g{static \u0275fac=function(h){return new(h||g)};static \u0275mod=p.oAB({type:g});static \u0275inj=p.cJS({imports:[e.ez]})}return g})()}}]);