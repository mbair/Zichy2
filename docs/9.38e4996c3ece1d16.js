"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[9],{1645:(O,E,r)=>{r.d(E,{S:()=>c});var e=r(2029),h=r(9515),C=r(7159),d=r(6814),m=r(6223),M=r(5219),g=r(2352);function v(l,n){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){const s=n.$implicit;e.Q6J("ngClass","color-badge "+(null==s?null:s.color)),e.xp6(1),e.hij(" ",e.lcZ(2,2,s.name)," ")}}function a(l,n){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){const s=n.$implicit;e.Q6J("ngClass","color-badge "+(null==s?null:s.color)),e.xp6(1),e.hij(" ",e.lcZ(2,2,null==s?null:s.name)," ")}}function t(l,n){if(1&l){const s=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(u){e.CHM(s);const f=e.oxw();return e.KtG(f.handleOnChange(u))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,v,3,4,"ng-template",3),e.YNc(4,a,3,4,"ng-template",4),e.qZA()}if(2&l){const s=n.ngIf,_=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",s)("options",_.diets)("showClear",_.showClear)}}function o(l,n){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){const s=n.$implicit;e.Q6J("ngClass","color-badge "+(null==s?null:s.color)),e.xp6(1),e.hij(" ",e.lcZ(2,2,s.name)," ")}}function i(l,n){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){const s=n.$implicit;e.Q6J("ngClass","color-badge "+(null==s?null:s.color)),e.xp6(1),e.hij(" ",e.lcZ(2,2,null==s?null:s.name)," ")}}function p(l,n){if(1&l){const s=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(u){e.CHM(s);const f=e.oxw();return e.KtG(f.selectedDiet=u)})("onChange",function(u){e.CHM(s);const f=e.oxw();return e.KtG(f.handleOnChange(u))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,o,3,4,"ng-template",3),e.YNc(4,i,3,4,"ng-template",4),e.qZA()}if(2&l){const s=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",s.selectedDiet)("options",s.diets)("showClear",s.showClear)}}let c=(()=>{class l{constructor(s,_){this.translate=s,this.dietService=_,this.change=new e.vpe,this.diets=[],this.selectedDiet=""}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setDiets()})}ngOnChanges(s){this.setDiets()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setDiets(){this.dietService.getDietsForSelector().subscribe(s=>{this.diets=s})}handleOnChange(s){this.change.emit({value:s.value,field:this.controlName})}static#e=this.\u0275fac=function(_){return new(_||l)(e.Y36(h.sK),e.Y36(C.F))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-diet-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",showClear:"showClear"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","name","optionValue","name","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","name","optionValue","name","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],["optionLabel","name","optionValue","name","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(_,u){if(1&_&&(e.YNc(0,t,5,9,"p-dropdown",0),e.YNc(1,p,5,9,"ng-template",null,1,e.W1O)),2&_){const f=e.MAs(2);e.Q6J("ngIf",u.getFormControl())("ngIfElse",f)}},dependencies:[d.mk,d.O5,m.JJ,m.On,m.oH,M.jx,g.Lt,h.X$],encapsulation:2})}return l})()},1496:(O,E,r)=>{r.d(E,{y:()=>p});var e=r(2029),h=r(9515),C=r(6814),d=r(6223),m=r(5219),M=r(2352);function g(c,l){if(1&c&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&c){const n=l.$implicit;e.Q6J("ngClass","payment-badge "+(null==n?null:n.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==n?null:n.icon)),e.xp6(1),e.hij(" ",n.label," ")}}function v(c,l){if(1&c&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&c){const n=l.$implicit;e.Q6J("ngClass","payment-badge "+(null==n?null:n.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==n?null:n.icon)),e.xp6(1),e.hij(" ",null==n?null:n.label," ")}}function a(c,l){if(1&c){const n=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(_){e.CHM(n);const u=e.oxw();return e.KtG(u.handleOnChange(_))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,g,3,3,"ng-template",3),e.YNc(4,v,3,3,"ng-template",4),e.qZA()}if(2&c){const n=l.ngIf,s=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",n)("options",s.payments)("showClear",s.showClear)}}function t(c,l){if(1&c&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&c){const n=l.$implicit;e.Q6J("ngClass","payment-badge "+(null==n?null:n.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==n?null:n.icon)),e.xp6(1),e.hij(" ",n.label," ")}}function o(c,l){if(1&c&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&c){const n=l.$implicit;e.Q6J("ngClass","payment-badge "+(null==n?null:n.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==n?null:n.icon)),e.xp6(1),e.hij(" ",null==n?null:n.label," ")}}function i(c,l){if(1&c){const n=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(_){e.CHM(n);const u=e.oxw();return e.KtG(u.selectedPayment=_)})("onChange",function(_){e.CHM(n);const u=e.oxw();return e.KtG(u.handleOnChange(_))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,t,3,3,"ng-template",3),e.YNc(4,o,3,3,"ng-template",4),e.qZA()}if(2&c){const n=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",n.selectedPayment)("options",n.payments)("showClear",n.showClear)}}let p=(()=>{class c{constructor(n){this.translate=n,this.change=new e.vpe,this.payments=[],this.selectedPayment=""}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setPayments()})}ngOnChanges(n){this.setPayments()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setPayments(){this.payments=[{label:this.translate.instant("PAYMENTS.BANK-TRANSFER"),value:"Banki \xe1tutal\xe1s",style:"bank-transfer",icon:"pi pi-arrow-circle-right"},{label:this.translate.instant("PAYMENTS.SZEP-CARD"),value:"SZ\xc9P k\xe1rtya",style:"szep-card",icon:"pi pi-id-card"},{label:this.translate.instant("PAYMENTS.CASH"),value:"K\xe9szp\xe9nz",style:"cash",icon:"pi pi-money-bill"}]}handleOnChange(n){this.change.emit({value:n.value,field:this.controlName})}static#e=this.\u0275fac=function(s){return new(s||c)(e.Y36(h.sK))};static#t=this.\u0275cmp=e.Xpm({type:c,selectors:[["app-payment-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",showClear:"showClear"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],["optionLabel","label","optionValue","value","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(s,_){if(1&s&&(e.YNc(0,a,5,9,"p-dropdown",0),e.YNc(1,i,5,9,"ng-template",null,1,e.W1O)),2&s){const u=e.MAs(2);e.Q6J("ngIf",_.getFormControl())("ngIfElse",u)}},dependencies:[C.mk,C.O5,d.JJ,d.On,d.oH,m.jx,M.Lt,h.X$],encapsulation:2})}return c})()},7744:(O,E,r)=>{r.d(E,{T:()=>M});var e=r(2096),h=r(7398),C=r(6306),d=r(2029),m=r(9862);let M=(()=>{class g{constructor(a){this.http=a,this.countries=null}getCountries(){return this.countries?(0,e.of)(this.countries):this.http.get("assets/demo/data/countries.json").pipe((0,h.U)(a=>a.data),(0,C.K)(()=>(0,e.of)([])),(0,h.U)(a=>(this.countries=a,a)))}getHuNationality(a){const t=this.countries?.find(o=>o.code===a);return t?t.hunationality:null}getHuCountryName(a){const t=this.countries?.find(o=>o.name===a);return t?t.huname:null}static#e=this.\u0275fac=function(t){return new(t||g)(d.LFG(m.eN))};static#t=this.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},7159:(O,E,r)=>{r.d(E,{F:()=>M});var e=r(5619),h=r(2096),C=r(7398),d=r(2029),m=r(8814);let M=(()=>{class g{constructor(a){this.apiService=a,this.cache=[],this.apiURL=a.apiURL,this.data$=new e.X(null),this.message$=new e.X(null)}get dietObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(a,t,o,i){let p="";""!==o&&(p=""!=o.sortField?`sort=${o.sortField}&order=${1===o.sortOrder?"ASC":"DESC"}`:"");const c=""!==p&&""!==i?p+"&"+i:""!==p&&""===i?p:""===p&&""!==i?i:"";this.apiService.get(`diet/get/${a}/${t}${""!==c?"?"+c:""}`).subscribe({next:n=>{n&&n.rows&&n.rows.map(s=>{s.name=s.name?.toLowerCase()}),this.data$.next(n)},error:n=>{this.message$.next(n)}})}getBySearch(a,t){let o="";""!==t&&(o=""!=t.sortField?`?sort=${t.sortField}&order=${1===t.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`diet/search/${a}${o}`).subscribe({next:i=>{this.data$.next(i)},error:i=>{this.message$.next(i)}})}getBySearchQuery(a){this.apiService.get(`diet/searchquery?${a}`).subscribe({next:t=>{this.data$.next(t)},error:t=>{this.message$.next(t)}})}create(a){this.apiService.post("diet/create/",a).subscribe({next:t=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend r\xf6gz\xedt\xe9s",detail:`${a.name} r\xf6gz\xedtve`})},error:t=>{this.message$.next(t)}})}update(a){this.apiService.put(`diet/update/${a.id}`,a).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend m\xf3dos\xedt\xe1s",detail:`${a.name} m\xf3dos\xedtva`})},error:t=>{this.message$.next(t)}})}delete(a){this.apiService.delete(`diet/delete/${a.id}`).subscribe({next:t=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend t\xf6rl\xe9s",detail:`${a.name} t\xf6r\xf6lve`})},error:t=>{this.message$.next(t)}})}bulkdelete(a){let t={ids:a.map(o=>o.id)};this.apiService.post("diet/bulkdelete",t).subscribe({next:o=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend t\xf6rl\xe9s",detail:`${a.length} \xe9trend t\xf6r\xf6lve`})},error:o=>{this.message$.next(o)}})}getDietsForSelector(){return this.cache.length>0?(0,h.of)(this.cache):(this.get(0,999,{sortField:"id",sortOrder:1},""),this.data$.asObservable().pipe((0,C.U)(a=>{const t=a?a.rows:[];return this.cache=t,t})))}getDietColor(a){let t="";return this.cache.map(o=>{a?.toLowerCase()==o.name?.toLowerCase()&&(t=o.color??"")}),t}static#e=this.\u0275fac=function(t){return new(t||g)(d.LFG(m.s))};static#t=this.\u0275prov=d.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},746:(O,E,r)=>{r.d(E,{Q:()=>g});var e=r(5619),h=r(9397),C=r(6306),d=r(2096),m=r(2029),M=r(8814);let g=(()=>{class v{constructor(t){this.apiService=t,this.apiURL=t.apiURL,this.guestData$=new e.X(null),this.createdGuest$=new e.X(null),this.serviceMessage$=new e.X(null)}get guestObs(){return this.guestData$.asObservable()}get createdGuestObs(){return this.createdGuest$.asObservable()}get serviceMessageObs(){return this.serviceMessage$.asObservable()}getGuests(t,o,i,p){let c="";""!==i&&(c=""!=i.sortField?`sort=${i.sortField}&order=${1===i.sortOrder?"ASC":"DESC"}`:"");const l=""!==c&&""!==p?c+"&"+p:""!==c&&""===p?c:""===c&&""!==p?p:"";this.apiService.get(`guest/get/${t}/${o}${""!==l?"?"+l:""}`).subscribe({next:s=>{this.guestData$.next(s)},error:s=>{this.serviceMessage$.next(s)}})}getGuestsBySearch(t,o){let i="";""!==o&&(i=""!=o.sortField?`?sort=${o.sortField}&order=${1===o.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`guest/search/${t}${i}`).subscribe({next:p=>{this.guestData$.next(p)},error:p=>{this.serviceMessage$.next(p)}})}getGuestsBySearchQuery(t){this.apiService.get(`guest/searchquery?${t}`).subscribe({next:o=>{this.guestData$.next(o)},error:o=>{this.serviceMessage$.next(o)}})}getByRFID(t){return this.apiService.get(`guest/getbyrfid/${t}`)}updateLastTagUsage(t){this.apiService.get(`guest/updatelasttagusage/${t}`).subscribe({next:o=>{},error:o=>{this.serviceMessage$.next(o)}})}createGuest(t,o){const i=new FormData;if(i.append("guest",JSON.stringify(t)),o&&o.length>0)for(const p of o){if(!p)return;i.append("idcard",p,p.name)}this.apiService.post("guest/create/",i).subscribe({next:p=>{this.createdGuest$.next(p),this.serviceMessage$.next("success")},error:p=>{this.serviceMessage$.next(p)}})}updateGuest(t){this.apiService.put(`guest/update/${t.id}`,t).subscribe({next:()=>{this.serviceMessage$.next("success")},error:o=>{this.serviceMessage$.next(o)}})}updateGuest2(t){return this.apiService.put(`guest/update/${t.id}`,t).pipe((0,h.b)(()=>console.log(`updated guest id=${t.id}`)),(0,C.K)(this.handleError("updateGuest2")))}deleteGuest(t){this.apiService.delete(`guest/delete/${t.id}`).subscribe({next:o=>{this.serviceMessage$.next(o)},error:o=>{this.serviceMessage$.next(o)}})}deleteGuests(t){let o={ids:t.map(i=>i.id)};this.apiService.post("guest/bulkdelete",o).subscribe({next:i=>{this.serviceMessage$.next(i)},error:i=>{this.serviceMessage$.next(i)}})}handleError(t="operation",o){return i=>(console.error(i),console.error(`${t} failed: ${i.message}`),(0,d.of)(o))}static#e=this.\u0275fac=function(o){return new(o||v)(m.LFG(M.s))};static#t=this.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()}}]);