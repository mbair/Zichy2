"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[8592],{9474:(x,f,a)=>{a.d(f,{w:()=>T});var e=a(2029),d=a(9515),c=a(219),m=a(6814),C=a(6223),_=a(5219),i=a(2160);function s(p,g){1&p&&(e._uU(0),e.ALo(1,"translate")),2&p&&e.hij(" ",e.lcZ(1,1,g.$implicit.name)," ")}function o(p,g){if(1&p&&(e._uU(0),e.ALo(1,"translate")),2&p){const t=g.$implicit;e.hij(" ",e.lcZ(1,1,null==t?null:t.name)," ")}}function h(p,g){if(1&p){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.handleOnChange(n))})("onClear",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.handleOnClear())}),e.ALo(1,"translate"),e.YNc(2,s,2,3,"ng-template",3),e.YNc(3,o,2,3,"ng-template",4),e.qZA()}if(2&p){const t=g.ngIf,r=e.oxw();e.Akn(r.style),e.s9C("emptyMessage",e.lcZ(1,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",r.conferences)("placeholder",r.placeholder)("showClear",r.showClear)}}function u(p,g){1&p&&(e._uU(0),e.ALo(1,"translate")),2&p&&e.hij(" ",e.lcZ(1,1,g.$implicit.name)," ")}function v(p,g){if(1&p&&(e._uU(0),e.ALo(1,"translate")),2&p){const t=g.$implicit;e.hij(" ",e.lcZ(1,1,null==t?null:t.name)," ")}}function O(p,g){if(1&p){const t=e.EpF();e.TgZ(0,"p-dropdown",5),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedConference=n)})("onChange",function(n){e.CHM(t);const l=e.oxw();return e.KtG(l.handleOnChange(n))})("onClear",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.handleOnClear())}),e.ALo(1,"translate"),e.YNc(2,u,2,3,"ng-template",3),e.YNc(3,v,2,3,"ng-template",4),e.qZA()}if(2&p){const t=e.oxw();e.Akn(t.style),e.s9C("emptyMessage",e.lcZ(1,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedConference)("options",t.conferences)("placeholder",t.placeholder)("showClear",t.showClear)}}let T=(()=>{class p{constructor(t,r){this.translate=t,this.conferenceService=r,this.change=new e.vpe,this.conferences=[],this.selectedConference={}}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setConferences()})}ngOnChanges(t){this.setConferences()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setConferences(){this.conferenceService.getConferencesForSelector().subscribe(t=>{this.conferences=t,this.selectFirstOption&&this.conferences.length>0&&(this.selectedConference=this.conferences[0],this.getFormControl()?.setValue(this.selectedConference?.name||null),this.handleOnChange({originalEvent:{},value:this.selectedConference?.name||null}))})}handleOnChange(t){const r=this.conferences.find(n=>n.name===t.value)||null;this.change.emit({value:r,field:this.controlName})}handleOnClear(){this.selectedConference=null,this.getFormControl()?.setValue(null),this.handleOnChange({value:null,originalEvent:{}})}static#e=this.\u0275fac=function(r){return new(r||p)(e.Y36(d.sK),e.Y36(c.Z))};static#t=this.\u0275cmp=e.Xpm({type:p,selectors:[["app-conference-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",showClear:"showClear",placeholder:"placeholder",selectFirstOption:"selectFirstOption",style:"style"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","name","optionValue","name","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","style","onChange","onClear",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","name","optionValue","name","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange","onClear"],["pTemplate","item"],["pTemplate","selectedItem"],["optionLabel","name","optionValue","name","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange","onClear"]],template:function(r,n){if(1&r&&(e.YNc(0,h,4,9,"p-dropdown",0),e.YNc(1,O,4,9,"ng-template",null,1,e.W1O)),2&r){const l=e.MAs(2);e.Q6J("ngIf",n.getFormControl())("ngIfElse",l)}},dependencies:[m.O5,C.JJ,C.On,C.oH,_.jx,i.Lt,d.X$],encapsulation:2})}return p})()},117:(x,f,a)=>{a.d(f,{T:()=>g});var e=a(2029),d=a(1206),c=a(6193),m=a(6814),C=a(6223),_=a(5219),i=a(2160),s=a(9515);function o(t,r){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const n=r.$implicit,l=e.oxw(2);e.Q6J("ngClass",l.getRoleStyleClass(n.user_rolesid)),e.xp6(2),e.hij(" ",n.fullname," ")}}function h(t,r){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const n=r.$implicit,l=e.oxw(2);e.Q6J("ngClass",l.getRoleStyleClass(n.user_rolesid)),e.xp6(2),e.hij(" ",n.fullname," ")}}const u=function(){return{minWidth:"13rem"}};function v(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(E){e.CHM(n);const y=e.oxw();return e.KtG(y.handleOnChange(E))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,o,3,2,"ng-template",3),e.YNc(4,h,3,2,"ng-template",4),e.qZA()}if(2&t){const n=r.ngIf,l=e.oxw();e.Akn(e.DdM(11,u)),e.s9C("placeholder",e.lcZ(1,7,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,9,"Nincs tal\xe1lat...")),e.Q6J("formControl",n)("options",l.users)("showClear",l.showClear)}}function O(t,r){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const n=r.$implicit,l=e.oxw(2);e.Q6J("ngClass",l.getRoleStyleClass(n.user_rolesid)),e.xp6(2),e.hij(" ",n.fullname," ")}}function T(t,r){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const n=r.$implicit,l=e.oxw(2);e.Q6J("ngClass",l.getRoleStyleClass(n.user_rolesid)),e.xp6(2),e.hij(" ",null==n?null:n.fullname," ")}}function p(t,r){if(1&t){const n=e.EpF();e.TgZ(0,"p-dropdown",7),e.NdJ("ngModelChange",function(E){e.CHM(n);const y=e.oxw();return e.KtG(y.selecteduser=E)})("onChange",function(E){e.CHM(n);const y=e.oxw();return e.KtG(y.handleOnChange(E))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,O,3,2,"ng-template",3),e.YNc(4,T,3,2,"ng-template",4),e.qZA()}if(2&t){const n=e.oxw();e.Akn(e.DdM(11,u)),e.s9C("placeholder",e.lcZ(1,7,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,9,"Nincs tal\xe1lat...")),e.Q6J("ngModel",n.selecteduser)("options",n.users)("showClear",n.showClear)}}let g=(()=>{class t{constructor(n,l){this.userService=n,this.roleService=l,this.change=new e.vpe,this.users=[],this.selecteduser="",this.roles=[]}ngOnInit(){this.userService.getUsersForSelector(this.user_rolesid).subscribe({next:n=>{n&&(this.users=this.user_rolesid?n.filter(l=>l.user_rolesid===this.user_rolesid):n,this.fetchRolesForUsers())}})}ngOnChanges(n){}fetchRolesForUsers(){this.roleService.fetchRoles().subscribe({next:n=>{this.roles=n}})}getFormControl(){return this.parentForm?this.parentForm.get(this.controlName):null}handleOnChange(n){this.change.emit({value:n.value,field:this.controlName})}getRoleStyleClass(n){const l=this.roles.find(y=>y.id==n);return`user-role-badge role-${l?l?.name?.trim().toLowerCase().replace(/\s+/g,""):""}`}static#e=this.\u0275fac=function(l){return new(l||t)(e.Y36(d.K),e.Y36(c.N))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",user_rolesid:"user_rolesid",showClear:"showClear"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","fullname","optionValue","id","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","style","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","fullname","optionValue","id","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],[1,"pi","pi-user","mr-1"],["optionLabel","fullname","optionValue","id","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(l,E){if(1&l&&(e.YNc(0,v,5,12,"p-dropdown",0),e.YNc(1,p,5,12,"ng-template",null,1,e.W1O)),2&l){const y=e.MAs(2);e.Q6J("ngIf",E.getFormControl())("ngIfElse",y)}},dependencies:[m.mk,m.O5,C.JJ,C.On,C.oH,_.jx,i.Lt,s.X$],encapsulation:2})}return t})()},3139:(x,f,a)=>{a.d(f,{Q:()=>c});var e=a(8645),d=a(2029);let c=(()=>{class m{constructor(){this.mealChanged=new e.x,this.meals={breakfast:{begin:7,end:10},lunch:{begin:11,end:15},dinner:{begin:17,end:20}},this.checkMealStart(),setInterval(()=>{this.checkMealStart()},2e4)}checkMealStart(){const i=(new Date).getHours();for(const s of Object.keys(this.meals)){const o=this.meals[s];if(i>=o.begin&&i<o.end)return void this.mealChanged.next(s)}}getMealNameByTime(_){const i=_.getHours();for(const s in this.meals){const o=this.meals[s];if(i>=o.begin&&i<=o.end)return this.translateMealName(s)}return"Jelenleg nincs \xe9tkeztet\xe9s"}getMealsForSelector(){let _=[];for(const i in this.meals)_.push(this.translateMealName(i));return _}translateMealName(_){return{breakfast:"reggeli",lunch:"eb\xe9d",dinner:"vacsora"}[_]||_}isOpen(){const _=(new Date).getHours();for(const i in this.meals){const s=this.meals[i];if(_>=s.begin&&_<s.end)return!0}return!1}static#e=this.\u0275fac=function(i){return new(i||m)};static#t=this.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},2835:(x,f,a)=>{a.d(f,{c:()=>m});var e=a(5619),d=a(2029),c=a(8814);let m=(()=>{class C{constructor(i){this.apiService=i,this.apiURL=i.apiURL,this.data$=new e.X(null),this.message$=new e.X(null)}get tagObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(i,s,o,h){let u="";""!==o&&(u=""!=o.sortField?`sort=${o.sortField}&order=${1===o.sortOrder?"ASC":"DESC"}`:"");const v=""!==u&&""!==h?u+"&"+h:""!==u&&""===h?u:""===u&&""!==h?h:"";this.apiService.get(`rfid/get/${i}/${s}${""!==v?"?"+v:""}`).subscribe({next:T=>{let p=T.rows;p&&p.length>0&&p.forEach(g=>{g.identifier=g.rfid}),this.data$.next(T)},error:T=>{this.message$.next(T)}})}getBySearch(i,s){let o="";""!==s&&(o=""!=s.sortField?`?sort=${s.sortField}&order=${1===s.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`rfid/search/${i}${o}`).subscribe({next:h=>{let u=h.rows;u&&u.length>0&&u.forEach(v=>{v.identifier=v.rfid}),this.data$.next(h)},error:h=>{this.message$.next(h)}})}getBySearchQuery(i){this.apiService.get(`rfid/searchquery?${i}`).subscribe({next:s=>{let o=s.rows;o&&o.length>0&&o.forEach(h=>{h.identifier=h.rfid}),this.data$.next(s)},error:s=>{this.message$.next(s)}})}create(i){this.apiService.post("rfid/create/",i).subscribe({next:s=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke r\xf6gz\xedt\xe9s",detail:`${i.rfid} r\xf6gz\xedtve`})},error:s=>{this.message$.next(s)}})}update(i){this.apiService.put(`rfid/update/${i.id}`,i).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke m\xf3dos\xedt\xe1s",detail:`${i.rfid} m\xf3dos\xedtva`})},error:s=>{this.message$.next(s)}})}delete(i){this.apiService.delete(`rfid/delete/${i.id}`).subscribe({next:s=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${i.rfid} t\xf6r\xf6lve`})},error:s=>{this.message$.next(s)}})}bulkdelete(i){let s={ids:i.map(o=>o.id)};this.apiService.post("rfid/bulkdelete",s).subscribe({next:o=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${i.length} c\xedmke t\xf6r\xf6lve`})},error:o=>{this.message$.next(o)}})}getByRFID(i){return this.apiService.get(`rfid/search/${i}`)}static#e=this.\u0275fac=function(s){return new(s||C)(d.LFG(c.s))};static#t=this.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},1836:(x,f,a)=>{function e(){return d=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(d.value)?null:{invalidEmail:{value:d.value}}}a.d(f,{u:()=>e})},8842:(x,f,a)=>{function e(){return d=>{const c=d.get("password"),m=d.get("password_again");return c&&m&&c.value!==m.value?{passwordsDoNotMatch:!0}:null}}a.d(f,{C:()=>e})},4532:(x,f,a)=>{a.d(f,{d:()=>g});var e=a(6814),d=a(2029),c=a(5219);let g=(()=>{class t{static \u0275fac=function(l){return new(l||t)};static \u0275mod=d.oAB({type:t});static \u0275inj=d.cJS({imports:[e.ez,c.m8]})}return t})()},1913:(x,f,a)=>{a.d(f,{h:()=>m,l:()=>C});var e=a(6814),d=a(2029),c=a(2076);let m=(()=>{class _{el;renderer;zone;constructor(s,o,h){this.el=s,this.renderer=o,this.zone=h}selector;enterClass;enterActiveClass;enterToClass;leaveClass;leaveActiveClass;leaveToClass;hideOnOutsideClick;toggleClass;hideOnEscape;eventListener;documentClickListener;documentKeydownListener;target;enterListener;leaveListener;animating;clickListener(){this.target=this.resolveTarget(),this.toggleClass?this.toggle():null===this.target.offsetParent?this.enter():this.leave()}toggle(){c.p.hasClass(this.target,this.toggleClass)?c.p.removeClass(this.target,this.toggleClass):c.p.addClass(this.target,this.toggleClass)}enter(){this.enterActiveClass?this.animating||(this.animating=!0,"slidedown"===this.enterActiveClass&&(this.target.style.height="0px",c.p.removeClass(this.target,"hidden"),this.target.style.maxHeight=this.target.scrollHeight+"px",c.p.addClass(this.target,"hidden"),this.target.style.height=""),c.p.addClass(this.target,this.enterActiveClass),this.enterClass&&c.p.removeClass(this.target,this.enterClass),this.enterListener=this.renderer.listen(this.target,"animationend",()=>{c.p.removeClass(this.target,this.enterActiveClass),this.enterToClass&&c.p.addClass(this.target,this.enterToClass),this.enterListener&&this.enterListener(),"slidedown"===this.enterActiveClass&&(this.target.style.maxHeight=""),this.animating=!1})):(this.enterClass&&c.p.removeClass(this.target,this.enterClass),this.enterToClass&&c.p.addClass(this.target,this.enterToClass)),this.hideOnOutsideClick&&this.bindDocumentClickListener(),this.hideOnEscape&&this.bindDocumentKeydownListener()}leave(){this.leaveActiveClass?this.animating||(this.animating=!0,c.p.addClass(this.target,this.leaveActiveClass),this.leaveClass&&c.p.removeClass(this.target,this.leaveClass),this.leaveListener=this.renderer.listen(this.target,"animationend",()=>{c.p.removeClass(this.target,this.leaveActiveClass),this.leaveToClass&&c.p.addClass(this.target,this.leaveToClass),this.leaveListener&&this.leaveListener(),this.animating=!1})):(this.leaveClass&&c.p.removeClass(this.target,this.leaveClass),this.leaveToClass&&c.p.addClass(this.target,this.leaveToClass)),this.hideOnOutsideClick&&this.unbindDocumentClickListener(),this.hideOnEscape&&this.unbindDocumentKeydownListener()}resolveTarget(){if(this.target)return this.target;switch(this.selector){case"@next":return this.el.nativeElement.nextElementSibling;case"@prev":return this.el.nativeElement.previousElementSibling;case"@parent":return this.el.nativeElement.parentElement;case"@grandparent":return this.el.nativeElement.parentElement.parentElement;default:return document.querySelector(this.selector)}}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"click",s=>{this.isVisible()&&"static"!==getComputedStyle(this.target).getPropertyValue("position")?this.isOutsideClick(s)&&this.leave():this.unbindDocumentClickListener()}))}bindDocumentKeydownListener(){this.documentKeydownListener||this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"keydown",s=>{const{key:o,keyCode:h,which:u}=s;(!this.isVisible()||"static"===getComputedStyle(this.target).getPropertyValue("position"))&&this.unbindDocumentKeydownListener(),this.isVisible()&&"Escape"===o&&27===h&&27===u&&this.leave()})})}isVisible(){return null!==this.target.offsetParent}isOutsideClick(s){return!this.el.nativeElement.isSameNode(s.target)&&!this.el.nativeElement.contains(s.target)&&!this.target.contains(s.target)}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}unbindDocumentKeydownListener(){this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}ngOnDestroy(){this.target=null,this.eventListener&&this.eventListener(),this.unbindDocumentClickListener(),this.unbindDocumentKeydownListener()}static \u0275fac=function(o){return new(o||_)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.R0b))};static \u0275dir=d.lG2({type:_,selectors:[["","pStyleClass",""]],hostAttrs:[1,"p-element"],hostBindings:function(o,h){1&o&&d.NdJ("click",function(v){return h.clickListener(v)})},inputs:{selector:["pStyleClass","selector"],enterClass:"enterClass",enterActiveClass:"enterActiveClass",enterToClass:"enterToClass",leaveClass:"leaveClass",leaveActiveClass:"leaveActiveClass",leaveToClass:"leaveToClass",hideOnOutsideClick:"hideOnOutsideClick",toggleClass:"toggleClass",hideOnEscape:"hideOnEscape"}})}return _})(),C=(()=>{class _{static \u0275fac=function(o){return new(o||_)};static \u0275mod=d.oAB({type:_});static \u0275inj=d.cJS({imports:[e.ez]})}return _})()}}]);