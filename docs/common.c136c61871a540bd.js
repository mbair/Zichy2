"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[8592],{7939:(E,h,r)=>{r.d(h,{H:()=>v});var e=r(2029),m=r(9515),g=r(6814),u=r(6223),p=r(2352),M=r(5219);function s(n,a){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngClass","meal-badge "+(null==t?null:t.style)),e.xp6(1),e.hij(" ",t.label," ")}}function l(n,a){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngClass","meal-badge "+(null==t?null:t.style)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function o(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(d){e.CHM(t);const C=e.oxw();return e.KtG(C.handleOnChange(d))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,s,2,2,"ng-template",3),e.YNc(4,l,2,2,"ng-template",4),e.qZA()}if(2&n){const t=a.ngIf,i=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",i.meals)("showClear",i.showClear)}}function c(n,a){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngClass","meal-badge "+(null==t?null:t.style)),e.xp6(1),e.hij(" ",t.label," ")}}function _(n,a){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngClass","meal-badge "+(null==t?null:t.style)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function f(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(d){e.CHM(t);const C=e.oxw();return e.KtG(C.selectedMeal=d)})("onChange",function(d){e.CHM(t);const C=e.oxw();return e.KtG(C.handleOnChange(d))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,c,2,2,"ng-template",3),e.YNc(4,_,2,2,"ng-template",4),e.qZA()}if(2&n){const t=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedMeal)("options",t.meals)("showClear",t.showClear)}}let v=(()=>{class n{constructor(t){this.translate=t,this.change=new e.vpe,this.meals=[],this.selectedMeal=""}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setMeals()})}ngOnChanges(t){this.setMeals()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setMeals(){this.meals=[{label:this.translate.instant("MEALS.BREAKFAST"),value:"reggeli",style:"breakfast"},{label:this.translate.instant("MEALS.LUNCH"),value:"eb\xe9d",style:"lunch"},{label:this.translate.instant("MEALS.DINNER"),value:"vacsora",style:"dinner"}],this.showNothing&&this.meals.push({label:this.translate.instant("MEALS.NOTHING"),value:"Nem k\xe9r \xe9tkez\xe9st",style:"nothing"})}handleOnChange(t){this.change.emit({value:t.value,field:this.controlName})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(m.sK))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-meal-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",showClear:"showClear",showNothing:"showNothing"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],["optionLabel","label","optionValue","value","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(i,d){if(1&i&&(e.YNc(0,o,5,9,"p-dropdown",0),e.YNc(1,f,5,9,"ng-template",null,1,e.W1O)),2&i){const C=e.MAs(2);e.Q6J("ngIf",d.getFormControl())("ngIfElse",C)}},dependencies:[g.mk,g.O5,u.JJ,u.On,u.oH,p.Lt,M.jx,m.X$],encapsulation:2})}return n})()},1496:(E,h,r)=>{r.d(h,{y:()=>v});var e=r(2029),m=r(9515),g=r(6814),u=r(6223),p=r(2352),M=r(5219);function s(n,a){if(1&n&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",t.label," ")}}function l(n,a){if(1&n&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function o(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(d){e.CHM(t);const C=e.oxw();return e.KtG(C.handleOnChange(d))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,s,3,3,"ng-template",3),e.YNc(4,l,3,3,"ng-template",4),e.qZA()}if(2&n){const t=a.ngIf,i=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",i.payments)("showClear",i.showClear)}}function c(n,a){if(1&n&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",t.label," ")}}function _(n,a){if(1&n&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&n){const t=a.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function f(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(d){e.CHM(t);const C=e.oxw();return e.KtG(C.selectedPayment=d)})("onChange",function(d){e.CHM(t);const C=e.oxw();return e.KtG(C.handleOnChange(d))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,c,3,3,"ng-template",3),e.YNc(4,_,3,3,"ng-template",4),e.qZA()}if(2&n){const t=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedPayment)("options",t.payments)("showClear",t.showClear)}}let v=(()=>{class n{constructor(t){this.translate=t,this.change=new e.vpe,this.payments=[],this.selectedPayment=""}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setPayments()})}ngOnChanges(t){this.setPayments()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setPayments(){this.payments=[{label:this.translate.instant("PAYMENTS.BANK-TRANSFER"),value:"Banki \xe1tutal\xe1s",style:"bank-transfer",icon:"pi pi-arrow-circle-right"},{label:this.translate.instant("PAYMENTS.SZEP-CARD"),value:"SZ\xc9P k\xe1rtya",style:"szep-card",icon:"pi pi-id-card"},{label:this.translate.instant("PAYMENTS.CASH"),value:"K\xe9szp\xe9nz",style:"cash",icon:"pi pi-money-bill"}]}handleOnChange(t){this.change.emit({value:t.value,field:this.controlName})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(m.sK))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-payment-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",showClear:"showClear"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],["optionLabel","label","optionValue","value","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(i,d){if(1&i&&(e.YNc(0,o,5,9,"p-dropdown",0),e.YNc(1,f,5,9,"ng-template",null,1,e.W1O)),2&i){const C=e.MAs(2);e.Q6J("ngIf",d.getFormControl())("ngIfElse",C)}},dependencies:[g.mk,g.O5,u.JJ,u.On,u.oH,p.Lt,M.jx,m.X$],encapsulation:2})}return n})()},7744:(E,h,r)=>{r.d(h,{T:()=>u});var e=r(7398),m=r(2029),g=r(9862);let u=(()=>{class p{constructor(s){this.http=s}getCountries(){return this.http.get("assets/demo/data/countries.json").pipe((0,e.U)(s=>s.data))}static#e=this.\u0275fac=function(l){return new(l||p)(m.LFG(g.eN))};static#t=this.\u0275prov=m.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},3763:(E,h,r)=>{r.d(h,{$:()=>u});var e=r(5619),m=r(2029),g=r(8814);let u=(()=>{class p{constructor(s){this.apiService=s,this.apiURL=s.apiURL,this.data$=new e.X(null),this.message$=new e.X(null)}get logObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(s,l,o,c){let _="";""!==o&&(_=""!=o.sortField?`sort=${o.sortField}&order=${1===o.sortOrder?"ASC":"DESC"}`:"");const f=""!==_&&""!==c?_+"&"+c:""!==_&&""===c?_:""===_&&""!==c?c:"";this.apiService.get(`logs/get/${s}/${l}${""!==f?"?"+f:""}`).subscribe({next:n=>{n&&n.rows?.length&&(n.rows=n.rows.filter(a=>"updatelasttagusage"!==a.action_type),n.rows=n.rows.filter(a=>{if("update"==a.action_type){let t=JSON.parse(a.original_data),i=JSON.parse(a.new_data);if(null==t.rfid&&null!==i.rfid)return!1}return!0}),n.rows.forEach(a=>{if(a.expandable=this.isRowExpandable(a),a.status||(a.response_data=a.original_data),"{}"==a.new_data?a.new_data=null:"{}"==a.original_data?a.original_data=null:"{}"==a.response_data&&(a.response_data=null),200==a.status){let i=JSON.parse(a.response_data).message;if(i){let d=JSON.parse(a.original_data);a.response_data="Success delete"==i?`${d.lastName} ${d.firstName} t\xf6r\xf6lve`:"Update success"==i?`${d.fullname} m\xf3dos\xedtva`:"Guest updated successfully"==i?`${d.lastName} ${d.firstName} m\xf3dos\xedtva`:i}}if(201==a.status){let t=JSON.parse(a.new_data),i="";"conference"==a.table_name?i=`${t?.name} konferencia l\xe9trehozva`:"guest"==a.table_name?i=`${t?.lastName} ${t?.firstName} vend\xe9g l\xe9trehozva`:"users"==a.table_name&&(i=`${t?.fullname} felhaszn\xe1l\xf3 l\xe9trehozva`),a.response_data=i}if(400==a.status){let t=JSON.parse(a.response_data),i=t.error,d=t.message;d&&(a.response_data=d),i&&(a.original_data=JSON.stringify(i))}})),this.data$.next(n)},error:n=>{this.message$.next(n)}})}getBySearch(s,l){let o="";""!==l&&(o=""!=l.sortField?`?sort=${l.sortField}&order=${1===l.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`logs/search/${s}${o}`).subscribe({next:c=>{this.data$.next(c)},error:c=>{this.message$.next(c)}})}getBySearchQuery(s){this.apiService.get(`logs/searchquery?${s}`).subscribe({next:l=>{this.data$.next(l)},error:l=>{this.message$.next(l)}})}create(s){s.userid=Number(localStorage.getItem("userid"))||1,s.user_fullname=localStorage.getItem("fullname")||"SYSTEM",s.user_email=localStorage.getItem("email")||"info@nfcreserve.com",this.apiService.post("logs/create/",s).subscribe({next:l=>{this.message$.next({severity:"success",summary:"Sikeres log r\xf6gz\xedt\xe9s",detail:"Log r\xf6gz\xedtve"})},error:l=>{this.message$.next(l)}})}update(s){this.apiService.put(`logs/update/${s.id}`,s).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres log m\xf3dos\xedt\xe1s",detail:"Log m\xf3dos\xedtva"})},error:l=>{this.message$.next(l)}})}delete(s){this.apiService.delete(`logs/delete/${s.id}`).subscribe({next:l=>{this.message$.next({severity:"success",summary:"Sikeres log t\xf6rl\xe9s",detail:"Log t\xf6r\xf6lve"})},error:l=>{this.message$.next(l)}})}bulkdelete(s){let l={ids:s.map(o=>o.id)};this.apiService.post("logs/bulkdelete",l).subscribe({next:o=>{this.message$.next({severity:"success",summary:"Sikeres log t\xf6rl\xe9s",detail:`${s.length} log t\xf6r\xf6lve`})},error:o=>{this.message$.next(o)}})}isRowExpandable(s){return!!s.action_type&&!["scanned code","assign tag","unassign","same code","tag duplicate","already received food","unknown device","import"].includes(s.action_type?.toLowerCase())}static#e=this.\u0275fac=function(l){return new(l||p)(m.LFG(g.s))};static#t=this.\u0275prov=m.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},2835:(E,h,r)=>{r.d(h,{c:()=>u});var e=r(5619),m=r(2029),g=r(8814);let u=(()=>{class p{constructor(s){this.apiService=s,this.apiURL=s.apiURL,this.data$=new e.X(null),this.message$=new e.X(null)}get tagObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(s,l,o,c){let _="";""!==o&&(_=""!=o.sortField?`sort=${o.sortField}&order=${1===o.sortOrder?"ASC":"DESC"}`:"");const f=""!==_&&""!==c?_+"&"+c:""!==_&&""===c?_:""===_&&""!==c?c:"";this.apiService.get(`rfid/get/${s}/${l}${""!==f?"?"+f:""}`).subscribe({next:n=>{let a=n.rows;a&&a.length>0&&a.forEach(t=>{t.identifier=t.rfid}),this.data$.next(n)},error:n=>{this.message$.next(n)}})}getBySearch(s,l){let o="";""!==l&&(o=""!=l.sortField?`?sort=${l.sortField}&order=${1===l.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`rfid/search/${s}${o}`).subscribe({next:c=>{let _=c.rows;_&&_.length>0&&_.forEach(f=>{f.identifier=f.rfid}),this.data$.next(c)},error:c=>{this.message$.next(c)}})}getBySearchQuery(s){this.apiService.get(`rfid/searchquery?${s}`).subscribe({next:l=>{let o=l.rows;o&&o.length>0&&o.forEach(c=>{c.identifier=c.rfid}),this.data$.next(l)},error:l=>{this.message$.next(l)}})}create(s){this.apiService.post("rfid/create/",s).subscribe({next:l=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke r\xf6gz\xedt\xe9s",detail:`${s.identifier} r\xf6gz\xedtve`})},error:l=>{this.message$.next(l)}})}update(s){this.apiService.put(`rfid/update/${s.id}`,s).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke m\xf3dos\xedt\xe1s",detail:`${s.identifier} m\xf3dos\xedtva`})},error:l=>{this.message$.next(l)}})}delete(s){this.apiService.delete(`rfid/delete/${s.id}`).subscribe({next:l=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${s.identifier} t\xf6r\xf6lve`})},error:l=>{this.message$.next(l)}})}bulkdelete(s){let l={ids:s.map(o=>o.id)};this.apiService.post("rfid/bulkdelete",l).subscribe({next:o=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${s.length} c\xedmke t\xf6r\xf6lve`})},error:o=>{this.message$.next(o)}})}getByRFID(s){return this.apiService.get(`rfid/search/${s}`)}static#e=this.\u0275fac=function(l){return new(l||p)(m.LFG(g.s))};static#t=this.\u0275prov=m.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},1836:(E,h,r)=>{function e(){return m=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(m.value)?null:{invalidEmail:{value:m.value}}}r.d(h,{u:()=>e})},8842:(E,h,r)=>{function e(){return m=>{const g=m.get("password"),u=m.get("password_again");return g&&u&&g.value!==u.value?{passwordsDoNotMatch:!0}:null}}r.d(h,{C:()=>e})},3620:(E,h,r)=>{r.d(h,{b:()=>u});var e=r(2832),m=r(9360),g=r(8251);function u(p,M=e.z){return(0,m.e)((s,l)=>{let o=null,c=null,_=null;const f=()=>{if(o){o.unsubscribe(),o=null;const n=c;c=null,l.next(n)}};function v(){const n=_+p,a=M.now();if(a<n)return o=this.schedule(void 0,n-a),void l.add(o);f()}s.subscribe((0,g.x)(l,n=>{c=n,_=M.now(),o||(o=M.schedule(v,p),l.add(o))},()=>{f(),l.complete()},void 0,()=>{c=o=null}))})}}}]);