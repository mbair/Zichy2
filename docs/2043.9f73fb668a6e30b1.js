"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[2043],{2043:(E,a,t)=>{t.r(a),t.d(a,{AuthModule:()=>m});var r=t(6814),e=t(9739),l=t(2029);let v=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#o=this.\u0275mod=l.oAB({type:s});static#n=this.\u0275inj=l.cJS({imports:[e.Bz.forChild([{path:"error",loadChildren:()=>t.e(5938).then(t.bind(t,5938)).then(o=>o.ErrorModule)},{path:"access",loadChildren:()=>t.e(2514).then(t.bind(t,2514)).then(o=>o.AccessdeniedModule)},{path:"login",loadChildren:()=>t.e(2105).then(t.bind(t,2105)).then(o=>o.LoginModule)},{path:"forgotpassword",loadChildren:()=>Promise.all([t.e(1111),t.e(6476)]).then(t.bind(t,6476)).then(o=>o.ForgotPasswordModule)},{path:"register",loadChildren:()=>Promise.all([t.e(1111),t.e(1423),t.e(2426)]).then(t.bind(t,2426)).then(o=>o.RegisterModule)},{path:"newpassword",loadChildren:()=>Promise.all([t.e(1111),t.e(1423),t.e(4632)]).then(t.bind(t,4632)).then(o=>o.NewPasswordModule)},{path:"verification",loadChildren:()=>Promise.all([t.e(1111),t.e(8798)]).then(t.bind(t,8798)).then(o=>o.VerificationModule)},{path:"lockscreen",loadChildren:()=>Promise.all([t.e(1111),t.e(6446)]).then(t.bind(t,6446)).then(o=>o.LockScreenModule)},{path:"**",redirectTo:"/notfound"}]),e.Bz]})}return s})();var h=t(1850),g=t(9862);let m=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#o=this.\u0275mod=l.oAB({type:s});static#n=this.\u0275inj=l.cJS({providers:[h.e],imports:[r.ez,v,g.JF]})}return s})()},1850:(E,a,t)=>{t.d(a,{e:()=>s});var r=t(9397),e=t(940),l=t(6676),h=t(2029),g=t(9862),m=t(8814);l.locale("hu");let s=(()=>{class i{constructor(n,d){this.http=n,this.apiService=d,this.apiURL=this.apiService.apiURL}login(n,d){return this.http.post(`${this.apiURL}/users/login`,{email:n,password:d},{observe:"response"}).pipe((0,r.b)(M=>{this.setSession(M.body);const P=M.headers.get("Authorization");console.log(P)}),(0,e.d)())}logout(){localStorage.removeItem("id_token"),localStorage.removeItem("expires_at")}isLoggedIn(){return l().isBefore(this.getExpiration())}isLoggedOut(){return!this.isLoggedIn()}setSession(n){const d=l().add(n.expiresIn,"second");localStorage.setItem("id_token",n.idToken),localStorage.setItem("expires_at",JSON.stringify(d.valueOf()))}getExpiration(){const n=localStorage.getItem("expires_at"),d=n?JSON.parse(n):null;return l(d)}static#t=this.\u0275fac=function(d){return new(d||i)(h.LFG(g.eN),h.LFG(m.s))};static#o=this.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac})}return i})()}}]);