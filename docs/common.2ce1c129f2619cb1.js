"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[8592],{9474:(O,C,o)=>{o.d(C,{w:()=>u});var e=o(2029),p=o(9515),_=o(219),f=o(6814),m=o(6223),y=o(5219),i=o(2352);function n(a,h){1&a&&(e._uU(0),e.ALo(1,"translate")),2&a&&e.hij(" ",e.lcZ(1,1,h.$implicit.name)," ")}function l(a,h){if(1&a&&(e._uU(0),e.ALo(1,"translate")),2&a){const t=h.$implicit;e.hij(" ",e.lcZ(1,1,null==t?null:t.name)," ")}}function c(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.handleOnChange(s))})("onClear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.handleOnClear())}),e.ALo(1,"translate"),e.YNc(2,n,2,3,"ng-template",3),e.YNc(3,l,2,3,"ng-template",4),e.qZA()}if(2&a){const t=h.ngIf,r=e.oxw();e.s9C("emptyMessage",e.lcZ(1,5,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",r.conferences)("placeholder",r.placeholder)("showClear",r.showClear)}}function g(a,h){1&a&&(e._uU(0),e.ALo(1,"translate")),2&a&&e.hij(" ",e.lcZ(1,1,h.$implicit.name)," ")}function v(a,h){if(1&a&&(e._uU(0),e.ALo(1,"translate")),2&a){const t=h.$implicit;e.hij(" ",e.lcZ(1,1,null==t?null:t.name)," ")}}function T(a,h){if(1&a){const t=e.EpF();e.TgZ(0,"p-dropdown",5),e.NdJ("ngModelChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.selectedConference=s)})("onChange",function(s){e.CHM(t);const d=e.oxw();return e.KtG(d.handleOnChange(s))})("onClear",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.handleOnClear())}),e.ALo(1,"translate"),e.YNc(2,g,2,3,"ng-template",3),e.YNc(3,v,2,3,"ng-template",4),e.qZA()}if(2&a){const t=e.oxw();e.s9C("emptyMessage",e.lcZ(1,5,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedConference)("options",t.conferences)("placeholder",t.placeholder)("showClear",t.showClear)}}let u=(()=>{class a{constructor(t,r){this.translate=t,this.conferenceService=r,this.change=new e.vpe,this.conferences=[],this.selectedConference={}}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setConferences()})}ngOnChanges(t){this.setConferences()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setConferences(){this.conferenceService.getConferencesForSelector().subscribe(t=>{this.conferences=t,this.selectFirstOption&&this.conferences.length>0&&(this.selectedConference=this.conferences[0],this.getFormControl()?.setValue(this.selectedConference?.name||null),this.handleOnChange({originalEvent:{},value:this.selectedConference?.name||null}))})}handleOnChange(t){const r=this.conferences.find(s=>s.name===t.value)||null;this.change.emit({value:r,field:this.controlName})}handleOnClear(){this.selectedConference=null,this.getFormControl()?.setValue(null),this.handleOnChange({value:null,originalEvent:{}})}static#e=this.\u0275fac=function(r){return new(r||a)(e.Y36(p.sK),e.Y36(_.Z))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-conference-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",showClear:"showClear",placeholder:"placeholder",selectFirstOption:"selectFirstOption"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","name","optionValue","name","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange","onClear",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","name","optionValue","name","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange","onClear"],["pTemplate","item"],["pTemplate","selectedItem"],["optionLabel","name","optionValue","name","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange","onClear"]],template:function(r,s){if(1&r&&(e.YNc(0,c,4,7,"p-dropdown",0),e.YNc(1,T,4,7,"ng-template",null,1,e.W1O)),2&r){const d=e.MAs(2);e.Q6J("ngIf",s.getFormControl())("ngIfElse",d)}},dependencies:[f.O5,m.JJ,m.On,m.oH,y.jx,i.Lt,p.X$],encapsulation:2})}return a})()},117:(O,C,o)=>{o.d(C,{T:()=>h});var e=o(2029),p=o(1206),_=o(6193),f=o(6814),m=o(6223),y=o(5219),i=o(2352),n=o(9515);function l(t,r){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const s=r.$implicit,d=e.oxw(2);e.Q6J("ngClass",d.getRoleStyleClass(s.user_rolesid)),e.xp6(2),e.hij(" ",s.fullname," ")}}function c(t,r){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const s=r.$implicit,d=e.oxw(2);e.Q6J("ngClass",d.getRoleStyleClass(s.user_rolesid)),e.xp6(2),e.hij(" ",s.fullname," ")}}const g=function(){return{minWidth:"13rem"}};function v(t,r){if(1&t){const s=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(E){e.CHM(s);const x=e.oxw();return e.KtG(x.handleOnChange(E))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,l,3,2,"ng-template",3),e.YNc(4,c,3,2,"ng-template",4),e.qZA()}if(2&t){const s=r.ngIf,d=e.oxw();e.Akn(e.DdM(11,g)),e.s9C("placeholder",e.lcZ(1,7,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,9,"Nincs tal\xe1lat...")),e.Q6J("formControl",s)("options",d.users)("showClear",d.showClear)}}function T(t,r){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const s=r.$implicit,d=e.oxw(2);e.Q6J("ngClass",d.getRoleStyleClass(s.user_rolesid)),e.xp6(2),e.hij(" ",s.fullname," ")}}function u(t,r){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const s=r.$implicit,d=e.oxw(2);e.Q6J("ngClass",d.getRoleStyleClass(s.user_rolesid)),e.xp6(2),e.hij(" ",null==s?null:s.fullname," ")}}function a(t,r){if(1&t){const s=e.EpF();e.TgZ(0,"p-dropdown",7),e.NdJ("ngModelChange",function(E){e.CHM(s);const x=e.oxw();return e.KtG(x.selecteduser=E)})("onChange",function(E){e.CHM(s);const x=e.oxw();return e.KtG(x.handleOnChange(E))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,T,3,2,"ng-template",3),e.YNc(4,u,3,2,"ng-template",4),e.qZA()}if(2&t){const s=e.oxw();e.Akn(e.DdM(11,g)),e.s9C("placeholder",e.lcZ(1,7,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,9,"Nincs tal\xe1lat...")),e.Q6J("ngModel",s.selecteduser)("options",s.users)("showClear",s.showClear)}}let h=(()=>{class t{constructor(s,d){this.userService=s,this.roleService=d,this.change=new e.vpe,this.users=[],this.selecteduser="",this.roles=[]}ngOnInit(){this.userService.getUsersForSelector(this.user_rolesid).subscribe({next:s=>{s&&(this.users=this.user_rolesid?s.filter(d=>d.user_rolesid===this.user_rolesid):s,this.fetchRolesForUsers())}})}ngOnChanges(s){}fetchRolesForUsers(){this.roleService.fetchRoles().subscribe({next:s=>{this.roles=s}})}getFormControl(){return this.parentForm?this.parentForm.get(this.controlName):null}handleOnChange(s){this.change.emit({value:s.value,field:this.controlName})}getRoleStyleClass(s){const d=this.roles.find(x=>x.id==s);return`user-role-badge role-${d?d?.name?.trim().toLowerCase().replace(/\s+/g,""):""}`}static#e=this.\u0275fac=function(d){return new(d||t)(e.Y36(p.K),e.Y36(_.N))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",user_rolesid:"user_rolesid",showClear:"showClear"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","fullname","optionValue","id","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","style","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","fullname","optionValue","id","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],[1,"pi","pi-user","mr-1"],["optionLabel","fullname","optionValue","id","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(d,E){if(1&d&&(e.YNc(0,v,5,12,"p-dropdown",0),e.YNc(1,a,5,12,"ng-template",null,1,e.W1O)),2&d){const x=e.MAs(2);e.Q6J("ngIf",E.getFormControl())("ngIfElse",x)}},dependencies:[f.mk,f.O5,m.JJ,m.On,m.oH,y.jx,i.Lt,n.X$],encapsulation:2})}return t})()},3763:(O,C,o)=>{o.d(C,{$:()=>f});var e=o(5619),p=o(2029),_=o(8814);let f=(()=>{class m{constructor(i){this.apiService=i,this.apiURL=i.apiURL,this.data$=new e.X(null),this.message$=new e.X(null)}get logObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(i,n,l,c){let g="";""!==l&&(g=""!=l.sortField?`sort=${l.sortField}&order=${1===l.sortOrder?"ASC":"DESC"}`:"");const v=""!==g&&""!==c?g+"&"+c:""!==g&&""===c?g:""===g&&""!==c?c:"";this.apiService.get(`logs/get/${i}/${n}${""!==v?"?"+v:""}`).subscribe({next:u=>{u&&u.rows?.length&&(u.rows=u.rows.filter(a=>"updatelasttagusage"!==a.action_type),u.rows=u.rows.filter(a=>"questions"!==a.table_name),u.rows=u.rows.filter(a=>"answers"!==a.table_name),u.rows=u.rows.filter(a=>{if("update"==a.action_type){let h=JSON.parse(a.original_data),t=JSON.parse(a.new_data);if(null==h.rfid&&null!==t.rfid)return!1}return!0}),u.rows.forEach(a=>{if(a.expandable=this.isRowExpandable(a),a.status||(a.response_data=a.original_data),"{}"==a.new_data?a.new_data=null:"{}"==a.original_data?a.original_data=null:"{}"==a.response_data&&(a.response_data=null),200==a.status){let t=JSON.parse(a.response_data).message;if(t){let r=JSON.parse(a.original_data);a.response_data="Success delete"==t?`${r.lastName} ${r.firstName} t\xf6r\xf6lve`:"Update success"==t?`${r.fullname} m\xf3dos\xedtva`:"Guest updated successfully"==t?`${r.lastName} ${r.firstName} m\xf3dos\xedtva`:t}}if(201==a.status){let h=JSON.parse(a.new_data),t="";if("conference"==a.table_name)t=`${h?.name} konferencia l\xe9trehozva`;else if("guest"==a.table_name)if(null==a.new_data){let s=JSON.parse(JSON.stringify(JSON.parse(a.response_data))).guest||{};a.original_data=JSON.stringify(s),t=`${s.lastName||"N\xe9v hi\xe1nyzik"} ${s.firstName||"N\xe9v hi\xe1nyzik"} vend\xe9g regisztr\xe1lva`}else t=`${h?.lastName} ${h?.firstName} vend\xe9g l\xe9trehozva`;else"users"==a.table_name&&(t=`${h?.fullname} felhaszn\xe1l\xf3 l\xe9trehozva`);a.response_data=t}if(400==a.status){let h=JSON.parse(a.response_data),t=h.error,r=h.message;r&&(a.response_data=r),t&&(a.original_data=JSON.stringify(t))}})),this.data$.next(u)},error:u=>{this.message$.next(u)}})}getBySearch(i,n){let l="";""!==n&&(l=""!=n.sortField?`?sort=${n.sortField}&order=${1===n.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`logs/search/${i}${l}`).subscribe({next:c=>{this.data$.next(c)},error:c=>{this.message$.next(c)}})}getBySearchQuery(i){this.apiService.get(`logs/searchquery?${i}`).subscribe({next:n=>{this.data$.next(n)},error:n=>{this.message$.next(n)}})}create(i){i.userid=Number(localStorage.getItem("userid"))||1,i.user_fullname=localStorage.getItem("fullname")||"SYSTEM",i.user_email=localStorage.getItem("email")||"info@nfcreserve.com",this.apiService.post("logs/create/",i).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres log r\xf6gz\xedt\xe9s",detail:"Log r\xf6gz\xedtve"})},error:n=>{this.message$.next(n)}})}update(i){this.apiService.put(`logs/update/${i.id}`,i).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres log m\xf3dos\xedt\xe1s",detail:"Log m\xf3dos\xedtva"})},error:n=>{this.message$.next(n)}})}delete(i){this.apiService.delete(`logs/delete/${i.id}`).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres log t\xf6rl\xe9s",detail:"Log t\xf6r\xf6lve"})},error:n=>{this.message$.next(n)}})}bulkdelete(i){let n={ids:i.map(l=>l.id)};this.apiService.post("logs/bulkdelete",n).subscribe({next:l=>{this.message$.next({severity:"success",summary:"Sikeres log t\xf6rl\xe9s",detail:`${i.length} log t\xf6r\xf6lve`})},error:l=>{this.message$.next(l)}})}isRowExpandable(i){return!!i.action_type&&!["scanned code","assign tag","unassign","same code","tag duplicate","already received food","unknown device","import"].includes(i.action_type?.toLowerCase())}static#e=this.\u0275fac=function(n){return new(n||m)(p.LFG(_.s))};static#t=this.\u0275prov=p.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},2835:(O,C,o)=>{o.d(C,{c:()=>f});var e=o(5619),p=o(2029),_=o(8814);let f=(()=>{class m{constructor(i){this.apiService=i,this.apiURL=i.apiURL,this.data$=new e.X(null),this.message$=new e.X(null)}get tagObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(i,n,l,c){let g="";""!==l&&(g=""!=l.sortField?`sort=${l.sortField}&order=${1===l.sortOrder?"ASC":"DESC"}`:"");const v=""!==g&&""!==c?g+"&"+c:""!==g&&""===c?g:""===g&&""!==c?c:"";this.apiService.get(`rfid/get/${i}/${n}${""!==v?"?"+v:""}`).subscribe({next:u=>{let a=u.rows;a&&a.length>0&&a.forEach(h=>{h.identifier=h.rfid}),this.data$.next(u)},error:u=>{this.message$.next(u)}})}getBySearch(i,n){let l="";""!==n&&(l=""!=n.sortField?`?sort=${n.sortField}&order=${1===n.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`rfid/search/${i}${l}`).subscribe({next:c=>{let g=c.rows;g&&g.length>0&&g.forEach(v=>{v.identifier=v.rfid}),this.data$.next(c)},error:c=>{this.message$.next(c)}})}getBySearchQuery(i){this.apiService.get(`rfid/searchquery?${i}`).subscribe({next:n=>{let l=n.rows;l&&l.length>0&&l.forEach(c=>{c.identifier=c.rfid}),this.data$.next(n)},error:n=>{this.message$.next(n)}})}create(i){this.apiService.post("rfid/create/",i).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke r\xf6gz\xedt\xe9s",detail:`${i.rfid} r\xf6gz\xedtve`})},error:n=>{this.message$.next(n)}})}update(i){this.apiService.put(`rfid/update/${i.id}`,i).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke m\xf3dos\xedt\xe1s",detail:`${i.rfid} m\xf3dos\xedtva`})},error:n=>{this.message$.next(n)}})}delete(i){this.apiService.delete(`rfid/delete/${i.id}`).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${i.rfid} t\xf6r\xf6lve`})},error:n=>{this.message$.next(n)}})}bulkdelete(i){let n={ids:i.map(l=>l.id)};this.apiService.post("rfid/bulkdelete",n).subscribe({next:l=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${i.length} c\xedmke t\xf6r\xf6lve`})},error:l=>{this.message$.next(l)}})}getByRFID(i){return this.apiService.get(`rfid/search/${i}`)}static#e=this.\u0275fac=function(n){return new(n||m)(p.LFG(_.s))};static#t=this.\u0275prov=p.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},1836:(O,C,o)=>{function e(){return p=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(p.value)?null:{invalidEmail:{value:p.value}}}o.d(C,{u:()=>e})},8842:(O,C,o)=>{function e(){return p=>{const _=p.get("password"),f=p.get("password_again");return _&&f&&_.value!==f.value?{passwordsDoNotMatch:!0}:null}}o.d(C,{C:()=>e})},4532:(O,C,o)=>{o.d(C,{d:()=>h});var e=o(6814),p=o(2029),_=o(5219);let h=(()=>{class t{static \u0275fac=function(d){return new(d||t)};static \u0275mod=p.oAB({type:t});static \u0275inj=p.cJS({imports:[e.ez,_.m8]})}return t})()},4227:(O,C,o)=>{o.d(C,{O:()=>_,m:()=>f});var e=o(6814),p=o(2029);let _=(()=>{class m{styleClass;style;shape="rectangle";animation="wave";borderRadius;size;width="100%";height="1rem";containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return this.size?{...this.style,width:this.size,height:this.size,borderRadius:this.borderRadius}:{...this.style,width:this.width,height:this.height,borderRadius:this.borderRadius}}static \u0275fac=function(n){return new(n||m)};static \u0275cmp=p.Xpm({type:m,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(n,l){1&n&&p._UZ(0,"div",0),2&n&&(p.Tol(l.styleClass),p.Q6J("ngClass",l.containerClass())("ngStyle",l.containerStyle()))},dependencies:[e.mk,e.PC],styles:['.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0})}return m})(),f=(()=>{class m{static \u0275fac=function(n){return new(n||m)};static \u0275mod=p.oAB({type:m});static \u0275inj=p.cJS({imports:[e.ez]})}return m})()},1913:(O,C,o)=>{o.d(C,{h:()=>f,l:()=>m});var e=o(6814),p=o(2029),_=o(2076);let f=(()=>{class y{el;renderer;zone;constructor(n,l,c){this.el=n,this.renderer=l,this.zone=c}selector;enterClass;enterActiveClass;enterToClass;leaveClass;leaveActiveClass;leaveToClass;hideOnOutsideClick;toggleClass;hideOnEscape;eventListener;documentClickListener;documentKeydownListener;target;enterListener;leaveListener;animating;clickListener(){this.target=this.resolveTarget(),this.toggleClass?this.toggle():null===this.target.offsetParent?this.enter():this.leave()}toggle(){_.p.hasClass(this.target,this.toggleClass)?_.p.removeClass(this.target,this.toggleClass):_.p.addClass(this.target,this.toggleClass)}enter(){this.enterActiveClass?this.animating||(this.animating=!0,"slidedown"===this.enterActiveClass&&(this.target.style.height="0px",_.p.removeClass(this.target,"hidden"),this.target.style.maxHeight=this.target.scrollHeight+"px",_.p.addClass(this.target,"hidden"),this.target.style.height=""),_.p.addClass(this.target,this.enterActiveClass),this.enterClass&&_.p.removeClass(this.target,this.enterClass),this.enterListener=this.renderer.listen(this.target,"animationend",()=>{_.p.removeClass(this.target,this.enterActiveClass),this.enterToClass&&_.p.addClass(this.target,this.enterToClass),this.enterListener&&this.enterListener(),"slidedown"===this.enterActiveClass&&(this.target.style.maxHeight=""),this.animating=!1})):(this.enterClass&&_.p.removeClass(this.target,this.enterClass),this.enterToClass&&_.p.addClass(this.target,this.enterToClass)),this.hideOnOutsideClick&&this.bindDocumentClickListener(),this.hideOnEscape&&this.bindDocumentKeydownListener()}leave(){this.leaveActiveClass?this.animating||(this.animating=!0,_.p.addClass(this.target,this.leaveActiveClass),this.leaveClass&&_.p.removeClass(this.target,this.leaveClass),this.leaveListener=this.renderer.listen(this.target,"animationend",()=>{_.p.removeClass(this.target,this.leaveActiveClass),this.leaveToClass&&_.p.addClass(this.target,this.leaveToClass),this.leaveListener&&this.leaveListener(),this.animating=!1})):(this.leaveClass&&_.p.removeClass(this.target,this.leaveClass),this.leaveToClass&&_.p.addClass(this.target,this.leaveToClass)),this.hideOnOutsideClick&&this.unbindDocumentClickListener(),this.hideOnEscape&&this.unbindDocumentKeydownListener()}resolveTarget(){if(this.target)return this.target;switch(this.selector){case"@next":return this.el.nativeElement.nextElementSibling;case"@prev":return this.el.nativeElement.previousElementSibling;case"@parent":return this.el.nativeElement.parentElement;case"@grandparent":return this.el.nativeElement.parentElement.parentElement;default:return document.querySelector(this.selector)}}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"click",n=>{this.isVisible()&&"static"!==getComputedStyle(this.target).getPropertyValue("position")?this.isOutsideClick(n)&&this.leave():this.unbindDocumentClickListener()}))}bindDocumentKeydownListener(){this.documentKeydownListener||this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"keydown",n=>{const{key:l,keyCode:c,which:g}=n;(!this.isVisible()||"static"===getComputedStyle(this.target).getPropertyValue("position"))&&this.unbindDocumentKeydownListener(),this.isVisible()&&"Escape"===l&&27===c&&27===g&&this.leave()})})}isVisible(){return null!==this.target.offsetParent}isOutsideClick(n){return!this.el.nativeElement.isSameNode(n.target)&&!this.el.nativeElement.contains(n.target)&&!this.target.contains(n.target)}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}unbindDocumentKeydownListener(){this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}ngOnDestroy(){this.target=null,this.eventListener&&this.eventListener(),this.unbindDocumentClickListener(),this.unbindDocumentKeydownListener()}static \u0275fac=function(l){return new(l||y)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.R0b))};static \u0275dir=p.lG2({type:y,selectors:[["","pStyleClass",""]],hostAttrs:[1,"p-element"],hostBindings:function(l,c){1&l&&p.NdJ("click",function(v){return c.clickListener(v)})},inputs:{selector:["pStyleClass","selector"],enterClass:"enterClass",enterActiveClass:"enterActiveClass",enterToClass:"enterToClass",leaveClass:"leaveClass",leaveActiveClass:"leaveActiveClass",leaveToClass:"leaveToClass",hideOnOutsideClick:"hideOnOutsideClick",toggleClass:"toggleClass",hideOnEscape:"hideOnEscape"}})}return y})(),m=(()=>{class y{static \u0275fac=function(l){return new(l||y)};static \u0275mod=p.oAB({type:y});static \u0275inj=p.cJS({imports:[e.ez]})}return y})()}}]);