"use strict";(self.webpackChunkZichy2=self.webpackChunkZichy2||[]).push([[310],{310:(I,z,l)=>{l.r(z),l.d(z,{FoodVouchersModule:()=>S});var r=l(6895),e=l(433),M=l(9624),b=l(805),t=l(1571),h=l(6122),f=l(99),p=l(3388),y=l(5593),v=l(1795),C=l(2453),Z=l(1383),k=l(1740);function F(g,a){if(1&g){const s=t.EpF();t.TgZ(0,"div",11)(1,"button",12),t.NdJ("click",function(){t.CHM(s);const _=t.oxw();return t.KtG(_.openNew())}),t.qZA(),t.TgZ(2,"button",13),t.NdJ("click",function(){t.CHM(s);const _=t.oxw();return t.KtG(_.deleteSelectedProducts())}),t.qZA()()}if(2&g){const s=t.oxw();t.xp6(2),t.Q6J("disabled",!s.selectedProducts||!s.selectedProducts.length)}}function A(g,a){if(1&g){const s=t.EpF();t._UZ(0,"p-fileUpload",14),t.TgZ(1,"button",15),t.NdJ("click",function(){t.CHM(s),t.oxw();const _=t.MAs(8);return t.KtG(_.exportCSV())}),t.qZA()}2&g&&t.Q6J("maxFileSize",1e6)}function E(g,a){if(1&g){const s=t.EpF();t.TgZ(0,"div",16)(1,"h5",17),t._uU(2,"\xc9tel Voucher"),t.qZA(),t.TgZ(3,"span",18),t._UZ(4,"i",19),t.TgZ(5,"input",20),t.NdJ("input",function(_){t.CHM(s);const P=t.oxw(),U=t.MAs(8);return t.KtG(P.onGlobalFilter(U,_))}),t.qZA()()()}}function o(g,a){1&g&&(t.TgZ(0,"tr")(1,"th",21),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.TgZ(3,"th",22),t._uU(4,"Szoba sz\xe1m "),t._UZ(5,"p-sortIcon",23),t.qZA(),t.TgZ(6,"th",24),t._uU(7,"Szoba k\xf3d "),t._UZ(8,"p-sortIcon",25),t.qZA(),t.TgZ(9,"th",26),t._uU(10,"\xc1gyak sz\xe1ma "),t._UZ(11,"p-sortIcon",27),t.qZA(),t.TgZ(12,"th",28),t._uU(13,"\xc9p\xfclet / folyos\xf3 "),t._UZ(14,"p-sortIcon",29),t.qZA(),t.TgZ(15,"th",30),t._uU(16,"\xc1gy t\xedpus "),t._UZ(17,"p-sortIcon",31),t.qZA(),t.TgZ(18,"th",32),t._uU(19,"Megjegyz\xe9s "),t._UZ(20,"p-sortIcon",33),t.qZA(),t._UZ(21,"th"),t.qZA())}function d(g,a){if(1&g){const s=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"p-tableCheckbox",34),t.qZA(),t.TgZ(3,"td",35)(4,"span",36),t._uU(5,"Szoba sz\xe1m"),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"td",35)(8,"span",36),t._uU(9,"Szoba k\xf3d"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"td",37)(12,"span",36),t._uU(13,"\xc1gyak sz\xe1ma"),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"td",35)(16,"span",36),t._uU(17,"\xc9p\xfclet / folyos\xf3"),t.qZA(),t._uU(18),t.qZA(),t.TgZ(19,"td",35)(20,"span",36),t._uU(21,"\xc1gy t\xedpus"),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"td",35)(24,"span",36),t._uU(25,"Megjegyz\xe9s"),t.qZA(),t._uU(26),t.qZA(),t.TgZ(27,"td")(28,"div",38)(29,"button",39),t.NdJ("click",function(){t.CHM(s);const _=t.oxw();return t.KtG(_.editProduct(_.product))}),t.qZA(),t.TgZ(30,"button",40),t.NdJ("click",function(){t.CHM(s);const _=t.oxw();return t.KtG(_.deleteProduct(_.product))}),t.qZA()()()()}if(2&g){const s=a.$implicit;t.xp6(2),t.Q6J("value",s),t.xp6(4),t.hij(" ",s.szobaszam," "),t.xp6(4),t.hij(" ",s.szobakod," "),t.xp6(4),t.hij(" ",s.agyakszama," "),t.xp6(4),t.hij(" ",s.epulet," "),t.xp6(4),t.hij(" ",s.agytipus," "),t.xp6(4),t.hij(" ",s.megjegyzes," ")}}const n=function(){return["name","country.name","representative.name","status"]},i=function(){return[10,20,30]};class c{constructor(a,s){this.productService=a,this.messageService=s,this.productDialog=!1,this.deleteProductDialog=!1,this.deleteProductsDialog=!1,this.products=[],this.product={},this.FoodVouchers=[],this.foodVoucher=[],this.selectedProducts=[],this.submitted=!1,this.cols=[],this.statuses=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.productService.getProducts().then(a=>this.products=a),this.cols=[{field:"product",header:"Product"},{field:"price",header:"Price"},{field:"category",header:"Category"},{field:"rating",header:"Reviews"},{field:"inventoryStatus",header:"Status"}],this.statuses=[{label:"FOGLALHATO",value:"FOGLALHATO"},{label:"MAJDNEMTELE",value:"MAJDNEMTELE"},{label:"MEGTELT",value:"MEGTELT"}],this.FoodVouchers=[{id:"1",szobaszam:"101",szobakod:"MD",agyakszama:"2",epulet:"Maranatha fsz",agytipus:"k\xe9t\xe1gyas",megjegyzes:"kapcs.: 102"},{id:"2",szobaszam:"102",szobakod:"MB",agyakszama:"4",epulet:"Maranatha fsz",agytipus:"emeletes \xe1gy",megjegyzes:"kapcs.: 101"},{id:"3",szobaszam:"103",szobakod:"MQ",agyakszama:"2",epulet:"Maranatha fsz",agytipus:"francia\xe1gy",megjegyzes:"kapcs.: 104"},{id:"4",szobaszam:"104",szobakod:"MB",agyakszama:"4",epulet:"Maranatha fsz",agytipus:"emeletes \xe1gy",megjegyzes:"kapcs.: 103"},{id:"5",szobaszam:"105",szobakod:"MD",agyakszama:"2",epulet:"Maranatha fsz",agytipus:"k\xe9t\xe1gyas",megjegyzes:"kapcs.: 106"}]}openNew(){this.product={},this.submitted=!1,this.productDialog=!0}deleteSelectedProducts(){this.deleteProductsDialog=!0}editProduct(a){this.product={...a},this.productDialog=!0}deleteProduct(a){this.deleteProductDialog=!0,this.product={...a}}confirmDeleteSelected(){this.deleteProductsDialog=!1,this.products=this.products.filter(a=>!this.selectedProducts.includes(a)),this.messageService.add({severity:"success",summary:"Successful",detail:"Products Deleted",life:3e3}),this.selectedProducts=[]}confirmDelete(){this.deleteProductDialog=!1,this.products=this.products.filter(a=>a.id!==this.product.id),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Deleted",life:3e3}),this.product={}}hideDialog(){this.productDialog=!1,this.submitted=!1}saveProduct(){this.submitted=!0,this.product.name?.trim()&&(this.product.id?(this.product.inventoryStatus=this.product.inventoryStatus.value?this.product.inventoryStatus.value:this.product.inventoryStatus,this.products[this.findIndexById(this.product.id)]=this.product,this.messageService.add({severity:"success",summary:"Successful",detail:"Product Updated",life:3e3})):(this.product.id=this.createId(),this.product.code=this.createId(),this.product.image="product-placeholder.svg",this.product.inventoryStatus=this.product.inventoryStatus?this.product.inventoryStatus.value:"FOGLALHATO",this.products.push(this.product),this.messageService.add({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})),this.products=[...this.products],this.productDialog=!1,this.product={})}findIndexById(a){let s=-1;for(let m=0;m<this.products.length;m++)if(this.products[m].id===a){s=m;break}return s}createId(){let a="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let m=0;m<5;m++)a+=s.charAt(Math.floor(Math.random()*s.length));return a}onGlobalFilter(a,s){a.filterGlobal(s.target.value,"contains")}}c.\u0275fac=function(a){return new(a||c)(t.Y36(h.M),t.Y36(b.ez))},c.\u0275cmp=t.Xpm({type:c,selectors:[["ng-component"]],features:[t._Bn([b.ez])],decls:12,vars:11,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"my-2"],["pButton","","pRipple","","label","\xdaj","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","T\xf6rl\xe9s","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","szobaszam"],["field","szobaszam"],["pSortableColumn","szobakod"],["field","szobakod"],["pSortableColumn","agyakszama"],["field","agyakszama"],["pSortableColumn","epulet"],["field","epulet"],["pSortableColumn","agytipus"],["field","agytipus"],["pSortableColumn","megjegyzes"],["field","megjegyzes"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%","min-width","8rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"p-toast"),t.TgZ(4,"p-toolbar",3),t.YNc(5,F,3,1,"ng-template",4),t.YNc(6,A,2,1,"ng-template",5),t.qZA(),t.TgZ(7,"p-table",6,7),t.NdJ("selectionChange",function(_){return s.selectedProducts=_}),t.YNc(9,E,6,0,"ng-template",8),t.YNc(10,o,22,0,"ng-template",9),t.YNc(11,d,31,7,"ng-template",10),t.qZA()()()()),2&a&&(t.xp6(7),t.Q6J("value",s.FoodVouchers)("columns",s.cols)("rows",10)("globalFilterFields",t.DdM(9,n))("paginator",!0)("rowsPerPageOptions",t.DdM(10,i))("showCurrentPageReport",!0)("selection",s.selectedProducts)("rowHover",!0))},dependencies:[f.iA,b.jx,f.lQ,f.fz,f.UA,f.Mo,p.p,y.Hq,v.H,C.FN,Z.o,k.o],encapsulation:2});class u{}u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[M.Bz.forChild([{path:"",component:c}]),M.Bz]});var x=l(6408),T=l(3054),R=l(2210),O=l(613),w=l(5047),D=l(1493);class S{}S.\u0275fac=function(a){return new(a||S)},S.\u0275mod=t.oAB({type:S}),S.\u0275inj=t.cJS({imports:[r.ez,u,f.U$,p.O,e.u5,y.hJ,v.T,C.EV,Z.V,x.Xt,k.j,T.A,R.kW,O.cc,w.L$,D.S]})},3054:(I,z,l)=>{l.d(z,{A:()=>t,g:()=>b});var r=l(1571),e=l(6895),M=l(433);let b=(()=>{class h{constructor(p,y,v,C){this.el=p,this.ngModel=y,this.control=v,this.cd=C,this.onResize=new r.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(p){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(p){this.autoResize&&this.resize(p)}onBlur(p){this.autoResize&&this.resize(p)}resize(p){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(p||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return h.\u0275fac=function(p){return new(p||h)(r.Y36(r.SBq),r.Y36(M.On,8),r.Y36(M.a5,8),r.Y36(r.sBO))},h.\u0275dir=r.lG2({type:h,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(p,y){1&p&&r.NdJ("input",function(C){return y.onInput(C)})("focus",function(C){return y.onFocus(C)})("blur",function(C){return y.onBlur(C)}),2&p&&r.ekj("p-filled",y.filled)("p-inputtextarea-resizable",y.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),h})(),t=(()=>{class h{}return h.\u0275fac=function(p){return new(p||h)},h.\u0275mod=r.oAB({type:h}),h.\u0275inj=r.cJS({imports:[e.ez]}),h})()},6408:(I,z,l)=>{l.d(z,{Xt:()=>E,iG:()=>A});var r=l(6895),e=l(1571),M=l(433),b=l(805);function t(o,d){if(1&o){const n=e.EpF();e.TgZ(0,"span",5),e.NdJ("click",function(c){e.CHM(n);const u=e.oxw(2);return e.KtG(u.clear(c))})("keydown.enter",function(c){e.CHM(n);const u=e.oxw(2);return e.KtG(u.clear(c))}),e.qZA()}if(2&o){const n=e.oxw(2);e.Q6J("ngClass",n.iconCancelClass)("ngStyle",n.iconCancelStyle),e.uIk("tabindex",n.disabled||n.readonly?null:"0")}}function h(o,d){if(1&o){const n=e.EpF();e.TgZ(0,"span",6),e.NdJ("click",function(c){const x=e.CHM(n).index,T=e.oxw(2);return e.KtG(T.rate(c,x))})("keydown.enter",function(c){const x=e.CHM(n).index,T=e.oxw(2);return e.KtG(T.rate(c,x))}),e.qZA()}if(2&o){const n=d.index,i=e.oxw(2);e.Q6J("ngClass",!i.value||n>=i.value?i.iconOffClass:i.iconOnClass)("ngStyle",!i.value||n>=i.value?i.iconOffStyle:i.iconOnStyle),e.uIk("tabindex",i.disabled||i.readonly?null:"0")}}function f(o,d){if(1&o&&(e.ynx(0),e.YNc(1,t,1,3,"span",3),e.YNc(2,h,1,3,"span",4),e.BQk()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.cancel),e.xp6(1),e.Q6J("ngForOf",n.starsArray)}}function p(o,d){1&o&&e.GkF(0)}function y(o,d){if(1&o){const n=e.EpF();e.TgZ(0,"span",9),e.NdJ("click",function(c){e.CHM(n);const u=e.oxw(2);return e.KtG(u.clear(c))})("keydown.enter",function(c){e.CHM(n);const u=e.oxw(2);return e.KtG(u.clear(c))}),e.YNc(1,p,1,0,"ng-container",10),e.qZA()}if(2&o){const n=e.oxw(2);e.Q6J("ngStyle",n.iconCancelStyle),e.uIk("tabindex",n.disabled||n.readonly?null:"0"),e.xp6(1),e.Q6J("ngTemplateOutlet",n.cancelIconTemplate)}}function v(o,d){1&o&&e.GkF(0)}function C(o,d){if(1&o){const n=e.EpF();e.TgZ(0,"span",11),e.NdJ("click",function(c){const x=e.CHM(n).index,T=e.oxw(2);return e.KtG(T.rate(c,x))})("keydown.enter",function(c){const x=e.CHM(n).index,T=e.oxw(2);return e.KtG(T.rate(c,x))}),e.YNc(1,v,1,0,"ng-container",10),e.qZA()}if(2&o){const n=d.index,i=e.oxw(2);e.uIk("tabindex",i.disabled||i.readonly?null:"0"),e.xp6(1),e.Q6J("ngTemplateOutlet",i.getIconTemplate(n))}}function Z(o,d){if(1&o&&(e.YNc(0,y,2,3,"span",7),e.YNc(1,C,2,2,"span",8)),2&o){const n=e.oxw();e.Q6J("ngIf",n.cancel),e.xp6(1),e.Q6J("ngForOf",n.starsArray)}}const k=function(o,d){return{"p-readonly":o,"p-disabled":d}},F={provide:M.JU,useExisting:(0,e.Gpc)(()=>A),multi:!0};let A=(()=>{class o{constructor(n){this.cd=n,this.isCustomCancelIcon=!0,this.stars=5,this.cancel=!0,this.iconOnClass="pi pi-star-fill",this.iconOffClass="pi pi-star",this.iconCancelClass="pi pi-ban",this.onRate=new e.vpe,this.onCancel=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.starsArray=[];for(let n=0;n<this.stars;n++)this.starsArray[n]=n}ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"onicon":this.onIconTemplate=n.template;break;case"officon":this.offIconTemplate=n.template;break;case"cancel":this.cancelIconTemplate=n.template}})}getIconTemplate(n){return!this.value||n>=this.value?this.offIconTemplate:this.onIconTemplate}rate(n,i){!this.readonly&&!this.disabled&&(this.value=i+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:n,value:i+1})),n.preventDefault()}clear(n){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(n)),n.preventDefault()}writeValue(n){this.value=n,this.cd.detectChanges()}registerOnChange(n){this.onModelChange=n}registerOnTouched(n){this.onModelTouched=n}setDisabledState(n){this.disabled=n,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["p-rating"]],contentQueries:function(n,i,c){if(1&n&&e.Suo(c,b.jx,4),2&n){let u;e.iGM(u=e.CRH())&&(i.templates=u)}},hostAttrs:[1,"p-element"],inputs:{isCustomCancelIcon:"isCustomCancelIcon",index:"index",disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[e._Bn([F])],decls:4,vars:6,consts:[[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["customTemplate",""],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[1,"p-rating-icon",3,"ngClass","ngStyle","click","keydown.enter"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngStyle","click","keydown.enter"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click","keydown.enter"]],template:function(n,i){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,f,3,2,"ng-container",1),e.YNc(2,Z,2,2,"ng-template",null,2,e.W1O),e.qZA()),2&n){const c=e.MAs(3);e.Q6J("ngClass",e.WLB(3,k,i.readonly,i.disabled)),e.xp6(1),e.Q6J("ngIf",!i.isCustomIcon)("ngIfElse",c)}},dependencies:[r.mk,r.sg,r.O5,r.tP,r.PC],styles:[".p-rating-icon{cursor:pointer;display:inline-flex}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}\n"],encapsulation:2,changeDetection:0}),o})(),E=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[r.ez,b.m8]}),o})()}}]);