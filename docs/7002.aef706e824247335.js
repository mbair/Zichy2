"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[7002],{2991:(M,C,a)=>{a.d(C,{p:()=>i});var e=a(2029),h=a(6223),_=a(9515),p=a(6814),E=a(5219),g=a(3965);function O(n,o){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngClass","color-badge "+(null==t?null:t.color)),e.xp6(1),e.hij(" ",t.label," ")}}function m(n,o){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngClass","color-badge "+(null==t?null:t.color)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function d(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleOnChange(c))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,O,2,2,"ng-template",3),e.YNc(4,m,2,2,"ng-template",4),e.qZA()}if(2&n){const t=o.ngIf,r=e.oxw();e.s9C("placeholder",e.lcZ(1,5,r.placeholder)),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",r.bedtypes)("showClear",r.showClear)}}function b(n,o){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngClass","color-badge "+(null==t?null:t.color)),e.xp6(1),e.hij(" ",t.label," ")}}function s(n,o){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngClass","color-badge "+(null==t?null:t.color)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function l(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedBedtype=c)})("onChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleOnChange(c))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,b,2,2,"ng-template",3),e.YNc(4,s,2,2,"ng-template",4),e.qZA()}if(2&n){const t=e.oxw();e.s9C("placeholder",e.lcZ(1,5,t.placeholder)),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedBedtype)("options",t.bedtypes)("showClear",t.showClear)}}let i=(()=>{class n{constructor(t,r){this.translate=t,this.cdRef=r,this.change=new e.vpe,this.bedtypes=[],this.selectedBedtype="",this.disabled=!1,this.onChange=c=>{},this.onTouched=()=>{},this.placeholder||(this.placeholder="V\xe1lasszon...")}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setBedtypes()}),this.setBedtypes()}ngOnChanges(t){this.setBedtypes()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setBedtypes(){this.bedtypes=[{label:this.translate.instant("BEDTYPES.DOUBLE"),value:"k\xe9t\xe1gyas",color:"yellow"},{label:this.translate.instant("BEDTYPES.KINGBED"),value:"francia\xe1gy",color:"teal"},{label:this.translate.instant("BEDTYPES.BUNKBED"),value:"emeletes \xe1gy",color:"orange"}]}handleOnChange(t){this.selectedBedtype=t.value,this.onChange(t.value),this.onTouched(),this.change.emit({value:t.value,field:this.controlName})}setDisabledState(t){this.disabled=t,this.cdRef.detectChanges()}writeValue(t){this.selectedBedtype=t,this.cdRef.detectChanges()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(_.sK),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-bedtype-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",placeholder:"placeholder",showClear:"showClear"},outputs:{change:"change"},features:[e._Bn([{provide:h.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.TTD],decls:3,vars:2,consts:[["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],["optionLabel","label","optionValue","value","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(r,c){if(1&r&&(e.YNc(0,d,5,9,"p-dropdown",0),e.YNc(1,l,5,9,"ng-template",null,1,e.W1O)),2&r){const u=e.MAs(2);e.Q6J("ngIf",c.getFormControl())("ngIfElse",u)}},dependencies:[p.mk,p.O5,h.JJ,h.On,h.oH,E.jx,g.Lt,_.X$],encapsulation:2})}return n})()},3069:(M,C,a)=>{a.d(C,{n:()=>i});var e=a(2029),h=a(6223),_=a(9515),p=a(6814),E=a(5219),g=a(3965);function O(n,o){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngClass","building-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",t.label," ")}}function m(n,o){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngClass","building-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function d(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleOnChange(c))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,O,2,2,"ng-template",3),e.YNc(4,m,2,2,"ng-template",4),e.qZA()}if(2&n){const t=o.ngIf,r=e.oxw();e.s9C("placeholder",e.lcZ(1,5,r.placeholder)),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",r.buildings)("showClear",r.showClear)}}function b(n,o){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngClass","building-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",t.label," ")}}function s(n,o){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngClass","building-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function l(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedBuilding=c)})("onChange",function(c){e.CHM(t);const u=e.oxw();return e.KtG(u.handleOnChange(c))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,b,2,2,"ng-template",3),e.YNc(4,s,2,2,"ng-template",4),e.qZA()}if(2&n){const t=e.oxw();e.s9C("placeholder",e.lcZ(1,5,t.placeholder)),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedBuilding)("options",t.buildings)("showClear",t.showClear)}}let i=(()=>{class n{constructor(t,r){this.translate=t,this.cdRef=r,this.change=new e.vpe,this.buildings=[],this.selectedBuilding="",this.disabled=!1,this.onChange=c=>{},this.onTouched=()=>{},this.placeholder||(this.placeholder="V\xe1lasszon...")}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setBuildings()}),this.setBuildings()}ngOnChanges(t){this.setBuildings()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setBuildings(){this.buildings=[{label:this.translate.instant("BUILDINGS.CASTLE"),value:"castle"},{label:this.translate.instant("BUILDINGS.MARANATHA"),value:"maranatha"},{label:this.translate.instant("BUILDINGS.CORNERHOUSE"),value:"cornerhouse"},{label:this.translate.instant("BUILDINGS.LOGOSHOUSE"),value:"logoshouse"},{label:this.translate.instant("BUILDINGS.GATEHOUSE"),value:"gatehouse"},{label:this.translate.instant("BUILDINGS.CARETAKERHOUSE"),value:"caretakerhouse"},{label:this.translate.instant("BUILDINGS.HUNTINGLODGE"),value:"huntinglodge"}]}handleOnChange(t){this.selectedBuilding=t.value,this.onChange(t.value),this.onTouched(),this.change.emit({value:t.value,field:this.controlName})}setDisabledState(t){this.disabled=t,this.cdRef.detectChanges()}writeValue(t){this.selectedBuilding=t,this.cdRef.detectChanges()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}static#e=this.\u0275fac=function(r){return new(r||n)(e.Y36(_.sK),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-building-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",placeholder:"placeholder",showClear:"showClear"},outputs:{change:"change"},features:[e._Bn([{provide:h.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.TTD],decls:3,vars:2,consts:[["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],["optionLabel","label","optionValue","value","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(r,c){if(1&r&&(e.YNc(0,d,5,9,"p-dropdown",0),e.YNc(1,l,5,9,"ng-template",null,1,e.W1O)),2&r){const u=e.MAs(2);e.Q6J("ngIf",c.getFormControl())("ngIfElse",u)}},dependencies:[p.mk,p.O5,h.JJ,h.On,h.oH,E.jx,g.Lt,_.X$],encapsulation:2})}return n})()},8022:(M,C,a)=>{a.d(C,{k:()=>_});var e=a(5619),h=a(2029);let _=(()=>{class p{constructor(){this.isMobileSubject=new e.X(window.innerWidth<=768),this.isMobile$=this.isMobileSubject.asObservable(),this.updateIsMobile(),window.addEventListener("resize",()=>this.updateIsMobile())}updateIsMobile(){const g=window.innerWidth<=768;this.isMobileSubject.next(g)}getIsMobile(){return this.isMobileSubject.value}static#e=this.\u0275fac=function(O){return new(O||p)};static#t=this.\u0275prov=h.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},4520:(M,C,a)=>{a.d(C,{X:()=>m});var e=a(5619),h=a(2096),_=a(7398),p=a(2029),E=a(8814),g=a(9862),O=a(9515);let m=(()=>{class d{constructor(s,l,i){this.apiService=s,this.http=l,this.translate=i,this.cache=[],this.apiURL=s.apiURL,this.data$=new e.X(null),this.message$=new e.X(null)}get roomObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(s,l,i,n){let o="";""!==i&&(o=""!=i.sortField?`sort=${i.sortField}&order=${1===i.sortOrder?"ASC":"DESC"}`:"");const t=""!==o&&""!==n?o+"&"+n:""!==o&&""===n?o:""===o&&""!==n?n:"";this.apiService.get(`room/get/${s}/${l}${""!==t?"?"+t:""}`).subscribe({next:c=>{this.data$.next(c)},error:c=>{this.message$.next(c)}})}getBySearch(s,l){let i="";""!==l&&(i=""!=l.sortField?`?sort=${l.sortField}&order=${1===l.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`room/search/${s}${i}`).subscribe({next:n=>{this.data$.next(n)},error:n=>{this.message$.next(n)}})}getBySearchQuery(s){this.apiService.get(`room/searchquery?${s}`).subscribe({next:l=>{this.data$.next(l)},error:l=>{this.message$.next(l)}})}getBySearchQuery$(s){return this.apiService.get(`room/searchquery?${s}`)}create(s){this.apiService.post("room/create/",s).subscribe({next:l=>{this.message$.next({severity:"success",summary:"Sikeres szoba r\xf6gz\xedt\xe9s",detail:`${s.roomNum} sz\xe1m\xfa szoba r\xf6gz\xedtve`})},error:l=>{this.message$.next(l)}})}update(s){this.apiService.put(`room/update/${s.id}`,s).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres szoba m\xf3dos\xedt\xe1s",detail:`${s.roomNum} sz\xe1m\xfa szoba m\xf3dos\xedtva`})},error:l=>{this.message$.next(l)}})}delete(s){this.apiService.delete(`room/delete/${s.id}`).subscribe({next:l=>{this.message$.next({severity:"success",summary:"Sikeres szoba t\xf6rl\xe9s",detail:`${s.roomNum} sz\xe1m\xfa szoba t\xf6r\xf6lve`})},error:l=>{this.message$.next(l)}})}bulkdelete(s){let l={ids:s.map(i=>i.id)};this.apiService.post("room/bulkdelete",l).subscribe({next:i=>{this.message$.next({severity:"success",summary:"Sikeres szoba t\xf6rl\xe9s",detail:`${s.length} szoba t\xf6r\xf6lve`})},error:i=>{this.message$.next(i)}})}getRoomsForSelector(){return this.cache.length>0?(0,h.of)(this.cache):(this.get(0,999,{sortField:"roomNum",sortOrder:1},""),this.data$.asObservable().pipe((0,_.U)(s=>{const l=s?s.rows:[];return this.cache=l,l})))}searchRoomsForSelector$(s={}){return this.getBySearchQuery$(this.buildRoomQS(s)).pipe((0,_.U)(l=>l?l.rows??[]:[]))}buildRoomQS(s={}){const l=[],i=(n,o)=>{null==o||""===o||l.push(`${encodeURIComponent(n)}=${encodeURIComponent(String(o))}`)};return i("conferenceId",s.conferenceId),s.building&&i("building",(Array.isArray(s.building)?s.building:[s.building]).join(",")),"number"==typeof s.minBeds&&i("minBeds",s.minBeds),"boolean"==typeof s.climate&&i("climate",s.climate?1:0),s.enabled&&i("enabled",1),s.onlyNotReserved&&i("onlyNotReserved","true"),s.allowPartial&&i("allowPartial","true"),s.startDate&&i("startDate",s.startDate),s.endDate&&i("endDate",s.endDate),null!=s.excludeReservationId&&i("excludeReservationId",s.excludeReservationId),s.includeRoomIds?.length&&i("includeRoomIds",s.includeRoomIds.join(",")),l.join("&")}getRoomTypeByCode(s,l){return[{code:"KB",beds:4,label:this.translate.instant("ROOMTYPES.CASTLE"),description:this.translate.instant("ROOMTYPES.4-BED-ROOM"),value:"Kast\xe9ly sz\xe1ll\xe1s 4 \xe1gyas szoba",color:"teal"},{code:"KB",beds:6,label:this.translate.instant("ROOMTYPES.CASTLE"),description:this.translate.instant("ROOMTYPES.6-BED-ROOM"),value:"Kast\xe9ly sz\xe1ll\xe1s 6 \xe1gyas szoba",color:"teal"},{code:"KB",beds:8,label:this.translate.instant("ROOMTYPES.CASTLE"),description:this.translate.instant("ROOMTYPES.8-BED-ROOM"),value:"Kast\xe9ly sz\xe1ll\xe1s 8 \xe1gyas szoba",color:"teal"},{code:"MD",beds:2,label:this.translate.instant("ROOMTYPES.MARANATHA-PENSION-HOUSE"),description:this.translate.instant("ROOMTYPES.2-BED-ROOM"),value:"Maranatha Panzi\xf3h\xe1z 2 \xe1gyas szoba (k\xfcl\xf6n f\xfcrd\u0151s)",color:"yellow"},{code:"MQ",beds:2,label:this.translate.instant("ROOMTYPES.MARANATHA-PENSION-HOUSE"),description:this.translate.instant("ROOMTYPES.DOUBLE-BED-ROOM"),value:"Maranatha Panzi\xf3h\xe1z francia\xe1gyas szoba (k\xfcl\xf6n f\xfcrd\u0151s)",color:"yellow"},{code:"MB",beds:4,label:this.translate.instant("ROOMTYPES.MARANATHA-PENSION-HOUSE"),description:this.translate.instant("ROOMTYPES.M-4-BED-ROOM"),value:"Maranatha Panzi\xf3h\xe1z 4 \xe1gyas szoba (emeletes \xe1gyas, k\xfcl\xf6n f\xfcrd\u0151s)",color:"yellow"},{code:"A",label:this.translate.instant("ROOMTYPES.FAMILY-ROOM"),description:this.translate.instant("ROOMTYPES.WITH-KITCHEN"),value:"Csal\xe1di szoba (k\xf6z\xf6s konyh\xe1val, f\xfcrd\u0151vel \xe9s nappalival)",color:"orange"}].find(o=>o.code===s&&(void 0===o.beds||o.beds===l))}static#e=this.\u0275fac=function(l){return new(l||d)(p.LFG(E.s),p.LFG(g.eN),p.LFG(O.sK))};static#t=this.\u0275prov=p.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},3620:(M,C,a)=>{a.d(C,{b:()=>p});var e=a(2832),h=a(9360),_=a(8251);function p(E,g=e.z){return(0,h.e)((O,m)=>{let d=null,b=null,s=null;const l=()=>{if(d){d.unsubscribe(),d=null;const n=b;b=null,m.next(n)}};function i(){const n=s+E,o=g.now();if(o<n)return d=this.schedule(void 0,n-o),void m.add(d);l()}O.subscribe((0,_.x)(m,n=>{b=n,s=g.now(),d||(d=g.schedule(i,E),m.add(d))},()=>{l(),m.complete()},void 0,()=>{b=d=null}))})}}}]);