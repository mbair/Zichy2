"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[1009],{1645:(T,M,l)=>{l.d(M,{S:()=>p});var e=l(2029),h=l(9515),d=l(6814),g=l(6223),E=l(5219),f=l(2352);function m(n,i){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngClass","diet-badge "+(null==t?null:t.style)),e.xp6(1),e.hij(" ",t.label," ")}}function C(n,i){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngClass","diet-badge "+(null==t?null:t.style)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function c(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(_){e.CHM(t);const u=e.oxw();return e.KtG(u.handleOnChange(_))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,m,2,2,"ng-template",3),e.YNc(4,C,2,2,"ng-template",4),e.qZA()}if(2&n){const t=i.ngIf,o=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",o.diets)("showClear",o.showClear)}}function s(n,i){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngClass","diet-badge "+(null==t?null:t.style)),e.xp6(1),e.hij(" ",t.label," ")}}function a(n,i){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngClass","diet-badge "+(null==t?null:t.style)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function r(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(_){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedDiet=_)})("onChange",function(_){e.CHM(t);const u=e.oxw();return e.KtG(u.handleOnChange(_))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,s,2,2,"ng-template",3),e.YNc(4,a,2,2,"ng-template",4),e.qZA()}if(2&n){const t=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedDiet)("options",t.diets)("showClear",t.showClear)}}let p=(()=>{class n{constructor(t){this.translate=t,this.change=new e.vpe,this.diets=[],this.selectedDiet=""}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setDiets()})}ngOnChanges(t){this.setDiets()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setDiets(){this.diets=[{label:this.translate.instant("DIETS.NORMAL"),value:"norm\xe1l",style:"normal"},{label:this.translate.instant("DIETS.MILKFREE"),value:"tejmentes",style:"milkfree"},{label:this.translate.instant("DIETS.LACTOSEFREE"),value:"lakt\xf3zmentes",style:"lactosefree"},{label:this.translate.instant("DIETS.GLUTENFREE"),value:"glut\xe9nmentes",style:"glutenfree"},{label:this.translate.instant("DIETS.GLUTEN-LACTOSE-MILKFREE"),value:"glut\xe9n-, lakt\xf3z-, tejmentes",style:"gluten-lactose-milkfree"},{label:this.translate.instant("DIETS.VEGETARIAN"),value:"veget\xe1ri\xe1nus",style:"vegetarian"},{label:this.translate.instant("DIETS.NOTHING"),value:"nem k\xe9r \xe9tkez\xe9st",style:"nothing"}]}handleOnChange(t){this.change.emit({value:t.value,field:this.controlName})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(h.sK))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-diet-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",showClear:"showClear"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],["optionLabel","label","optionValue","value","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(o,_){if(1&o&&(e.YNc(0,c,5,9,"p-dropdown",0),e.YNc(1,r,5,9,"ng-template",null,1,e.W1O)),2&o){const u=e.MAs(2);e.Q6J("ngIf",_.getFormControl())("ngIfElse",u)}},dependencies:[d.mk,d.O5,g.JJ,g.On,g.oH,E.jx,f.Lt,h.X$],encapsulation:2})}return n})()},1496:(T,M,l)=>{l.d(M,{y:()=>p});var e=l(2029),h=l(9515),d=l(6814),g=l(6223),E=l(5219),f=l(2352);function m(n,i){if(1&n&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",t.label," ")}}function C(n,i){if(1&n&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function c(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(_){e.CHM(t);const u=e.oxw();return e.KtG(u.handleOnChange(_))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,m,3,3,"ng-template",3),e.YNc(4,C,3,3,"ng-template",4),e.qZA()}if(2&n){const t=i.ngIf,o=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",o.payments)("showClear",o.showClear)}}function s(n,i){if(1&n&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",t.label," ")}}function a(n,i){if(1&n&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function r(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(_){e.CHM(t);const u=e.oxw();return e.KtG(u.selectedPayment=_)})("onChange",function(_){e.CHM(t);const u=e.oxw();return e.KtG(u.handleOnChange(_))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,s,3,3,"ng-template",3),e.YNc(4,a,3,3,"ng-template",4),e.qZA()}if(2&n){const t=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedPayment)("options",t.payments)("showClear",t.showClear)}}let p=(()=>{class n{constructor(t){this.translate=t,this.change=new e.vpe,this.payments=[],this.selectedPayment=""}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setPayments()})}ngOnChanges(t){this.setPayments()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setPayments(){this.payments=[{label:this.translate.instant("PAYMENTS.BANK-TRANSFER"),value:"Banki \xe1tutal\xe1s",style:"bank-transfer",icon:"pi pi-arrow-circle-right"},{label:this.translate.instant("PAYMENTS.SZEP-CARD"),value:"SZ\xc9P k\xe1rtya",style:"szep-card",icon:"pi pi-id-card"},{label:this.translate.instant("PAYMENTS.CASH"),value:"K\xe9szp\xe9nz",style:"cash",icon:"pi pi-money-bill"}]}handleOnChange(t){this.change.emit({value:t.value,field:this.controlName})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(h.sK))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-payment-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",showClear:"showClear"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],["optionLabel","label","optionValue","value","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(o,_){if(1&o&&(e.YNc(0,c,5,9,"p-dropdown",0),e.YNc(1,r,5,9,"ng-template",null,1,e.W1O)),2&o){const u=e.MAs(2);e.Q6J("ngIf",_.getFormControl())("ngIfElse",u)}},dependencies:[d.mk,d.O5,g.JJ,g.On,g.oH,E.jx,f.Lt,h.X$],encapsulation:2})}return n})()},7744:(T,M,l)=>{l.d(M,{T:()=>f});var e=l(2096),h=l(7398),d=l(6306),g=l(2029),E=l(9862);let f=(()=>{class m{constructor(c){this.http=c,this.countries=null}getCountries(){return this.countries?(0,e.of)(this.countries):this.http.get("assets/demo/data/countries.json").pipe((0,h.U)(c=>c.data),(0,d.K)(()=>(0,e.of)([])),(0,h.U)(c=>(this.countries=c,c)))}getHuNationality(c){const s=this.countries?.find(a=>a.code===c);return s?s.hunationality:null}getHuCountryName(c){const s=this.countries?.find(a=>a.name===c);return s?s.huname:null}static#e=this.\u0275fac=function(s){return new(s||m)(g.LFG(E.eN))};static#t=this.\u0275prov=g.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},746:(T,M,l)=>{l.d(M,{Q:()=>m});var e=l(5619),h=l(9397),d=l(6306),g=l(2096),E=l(2029),f=l(8814);let m=(()=>{class C{constructor(s){this.apiService=s,this.apiURL=s.apiURL,this.guestData$=new e.X(null),this.createdGuest$=new e.X(null),this.serviceMessage$=new e.X(null)}get guestObs(){return this.guestData$.asObservable()}get createdGuestObs(){return this.createdGuest$.asObservable()}get serviceMessageObs(){return this.serviceMessage$.asObservable()}getGuests(s,a,r,p){let n="";""!==r&&(n=""!=r.sortField?`sort=${r.sortField}&order=${1===r.sortOrder?"ASC":"DESC"}`:"");const i=""!==n&&""!==p?n+"&"+p:""!==n&&""===p?n:""===n&&""!==p?p:"";this.apiService.get(`guest/get/${s}/${a}${""!==i?"?"+i:""}`).subscribe({next:o=>{this.guestData$.next(o)},error:o=>{this.serviceMessage$.next(o)}})}getGuestsBySearch(s,a){let r="";""!==a&&(r=""!=a.sortField?`?sort=${a.sortField}&order=${1===a.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`guest/search/${s}${r}`).subscribe({next:p=>{this.guestData$.next(p)},error:p=>{this.serviceMessage$.next(p)}})}getGuestsBySearchQuery(s){this.apiService.get(`guest/searchquery?${s}`).subscribe({next:a=>{this.guestData$.next(a)},error:a=>{this.serviceMessage$.next(a)}})}getByRFID(s){return this.apiService.get(`guest/getbyrfid/${s}`)}updateLastTagUsage(s){this.apiService.get(`guest/updatelasttagusage/${s}`).subscribe({next:a=>{},error:a=>{this.serviceMessage$.next(a)}})}createGuest(s,a){const r=new FormData;if(r.append("guest",JSON.stringify(s)),a&&a.length>0)for(const p of a){if(!p)return;r.append("idcard",p,p.name)}this.apiService.post("guest/create/",r).subscribe({next:p=>{this.createdGuest$.next(p),this.serviceMessage$.next("success")},error:p=>{this.serviceMessage$.next(p)}})}updateGuest(s){this.apiService.put(`guest/update/${s.id}`,s).subscribe({next:()=>{this.serviceMessage$.next("success")},error:a=>{this.serviceMessage$.next(a)}})}updateGuest2(s){return this.apiService.put(`guest/update/${s.id}`,s).pipe((0,h.b)(()=>console.log(`updated guest id=${s.id}`)),(0,d.K)(this.handleError("updateGuest2")))}deleteGuest(s){this.apiService.delete(`guest/delete/${s.id}`).subscribe({next:a=>{this.serviceMessage$.next(a)},error:a=>{this.serviceMessage$.next(a)}})}deleteGuests(s){let a={ids:s.map(r=>r.id)};this.apiService.post("guest/bulkdelete",a).subscribe({next:r=>{this.serviceMessage$.next(r)},error:r=>{this.serviceMessage$.next(r)}})}handleError(s="operation",a){return r=>(console.error(r),console.error(`${s} failed: ${r.message}`),(0,g.of)(a))}static#e=this.\u0275fac=function(a){return new(a||C)(E.LFG(f.s))};static#t=this.\u0275prov=E.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()}}]);