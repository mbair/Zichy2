"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[9],{1645:(f,v,r)=>{r.d(v,{S:()=>d});var e=r(2029),C=r(9515),h=r(7159),E=r(8325),u=r(6814),m=r(6223),g=r(5219),y=r(2352);function a(t,p){if(1&t&&(e.TgZ(0,"span",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const o=p.$implicit,_=e.oxw(2);e.Q6J("ngClass","diet-badge")("ngStyle",_.getStyleByColor(null==o?null:o.color)),e.xp6(1),e.hij(" ",e.lcZ(2,3,o.name)," ")}}function n(t,p){if(1&t&&(e.TgZ(0,"span",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const o=p.$implicit,_=e.oxw(2);e.Q6J("ngClass","diet-badge")("ngStyle",_.getStyleByColor(null==o?null:o.color)),e.xp6(1),e.hij(" ",e.lcZ(2,3,null==o?null:o.name)," ")}}function s(t,p){if(1&t){const o=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(M){e.CHM(o);const x=e.oxw();return e.KtG(x.handleOnChange(M))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,a,3,5,"ng-template",3),e.YNc(4,n,3,5,"ng-template",4),e.qZA()}if(2&t){const o=p.ngIf,_=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",o)("options",_.diets)("showClear",_.showClear)}}function l(t,p){if(1&t&&(e.TgZ(0,"span",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const o=p.$implicit,_=e.oxw(2);e.Q6J("ngClass","diet-badge")("ngStyle",_.getStyleByColor(null==o?null:o.color)),e.xp6(1),e.hij(" ",e.lcZ(2,3,o.name)," ")}}function c(t,p){if(1&t&&(e.TgZ(0,"span",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const o=p.$implicit,_=e.oxw(2);e.Q6J("ngClass","diet-badge")("ngStyle",_.getStyleByColor(null==o?null:o.color)),e.xp6(1),e.hij(" ",e.lcZ(2,3,null==o?null:o.name)," ")}}function i(t,p){if(1&t){const o=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(M){e.CHM(o);const x=e.oxw();return e.KtG(x.selectedDiet=M)})("onChange",function(M){e.CHM(o);const x=e.oxw();return e.KtG(x.handleOnChange(M))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,l,3,5,"ng-template",3),e.YNc(4,c,3,5,"ng-template",4),e.qZA()}if(2&t){const o=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",o.selectedDiet)("options",o.diets)("showClear",o.showClear)}}let d=(()=>{class t{constructor(o,_,M){this.translate=o,this.dietService=_,this.colorService=M,this.change=new e.vpe,this.diets=[],this.selectedDiet=""}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setDiets()})}ngOnChanges(o){this.setDiets()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}getStyleByColor(o){return this.colorService.getStyleByColor(o)}setDiets(){this.dietService.getDietsForSelector().subscribe(o=>{this.diets=o})}handleOnChange(o){this.change.emit({value:o.value,field:this.controlName})}static#e=this.\u0275fac=function(_){return new(_||t)(e.Y36(C.sK),e.Y36(h.F),e.Y36(E.x))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-diet-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",showClear:"showClear"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","name","optionValue","name","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","name","optionValue","name","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass","ngStyle"],["optionLabel","name","optionValue","name","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(_,M){if(1&_&&(e.YNc(0,s,5,9,"p-dropdown",0),e.YNc(1,i,5,9,"ng-template",null,1,e.W1O)),2&_){const x=e.MAs(2);e.Q6J("ngIf",M.getFormControl())("ngIfElse",x)}},dependencies:[u.mk,u.O5,u.PC,m.JJ,m.On,m.oH,g.jx,y.Lt,C.X$],encapsulation:2})}return t})()},1496:(f,v,r)=>{r.d(v,{y:()=>c});var e=r(2029),C=r(9515),h=r(6814),E=r(6223),u=r(5219),m=r(2352);function g(i,d){if(1&i&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&i){const t=d.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",t.label," ")}}function y(i,d){if(1&i&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&i){const t=d.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function a(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(o){e.CHM(t);const _=e.oxw();return e.KtG(_.handleOnChange(o))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,g,3,3,"ng-template",3),e.YNc(4,y,3,3,"ng-template",4),e.qZA()}if(2&i){const t=d.ngIf,p=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",p.payments)("showClear",p.showClear)}}function n(i,d){if(1&i&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&i){const t=d.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",t.label," ")}}function s(i,d){if(1&i&&(e.TgZ(0,"span",5),e._UZ(1,"i",5),e._uU(2),e.qZA()),2&i){const t=d.$implicit;e.Q6J("ngClass","payment-badge "+(null==t?null:t.style)),e.xp6(1),e.Q6J("ngClass","mr-1 "+(null==t?null:t.icon)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function l(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(o){e.CHM(t);const _=e.oxw();return e.KtG(_.selectedPayment=o)})("onChange",function(o){e.CHM(t);const _=e.oxw();return e.KtG(_.handleOnChange(o))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,n,3,3,"ng-template",3),e.YNc(4,s,3,3,"ng-template",4),e.qZA()}if(2&i){const t=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedPayment)("options",t.payments)("showClear",t.showClear)}}let c=(()=>{class i{constructor(t){this.translate=t,this.change=new e.vpe,this.payments=[],this.selectedPayment=""}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setPayments()})}ngOnChanges(t){this.setPayments()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setPayments(){this.payments=[{label:this.translate.instant("PAYMENTS.BANK-TRANSFER"),value:"Banki \xe1tutal\xe1s",style:"bank-transfer",icon:"pi pi-arrow-circle-right"},{label:this.translate.instant("PAYMENTS.SZEP-CARD"),value:"SZ\xc9P k\xe1rtya",style:"szep-card",icon:"pi pi-id-card"},{label:this.translate.instant("PAYMENTS.CASH"),value:"K\xe9szp\xe9nz",style:"cash",icon:"pi pi-money-bill"}]}handleOnChange(t){this.change.emit({value:t.value,field:this.controlName})}static#e=this.\u0275fac=function(p){return new(p||i)(e.Y36(C.sK))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-payment-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",showClear:"showClear"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],["optionLabel","label","optionValue","value","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(p,o){if(1&p&&(e.YNc(0,a,5,9,"p-dropdown",0),e.YNc(1,l,5,9,"ng-template",null,1,e.W1O)),2&p){const _=e.MAs(2);e.Q6J("ngIf",o.getFormControl())("ngIfElse",_)}},dependencies:[h.mk,h.O5,E.JJ,E.On,E.oH,u.jx,m.Lt,C.X$],encapsulation:2})}return i})()},8325:(f,v,r)=>{r.d(v,{x:()=>C});var e=r(2029);let C=(()=>{class h{constructor(){this.colors=[],this.colors=["gray","teal","yellow","blue","red","surface","primary"]}getColors(){return this.colors}getStyleByColor(u){let m=getComputedStyle(document.documentElement),y="surface"===u?200:800;return{"background-color":m.getPropertyValue(`--${u}-${"surface"===u?800:200}`).trim(),color:m.getPropertyValue(`--${u}-${y}`).trim()}}static#e=this.\u0275fac=function(m){return new(m||h)};static#t=this.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},7744:(f,v,r)=>{r.d(v,{T:()=>m});var e=r(2096),C=r(7398),h=r(6306),E=r(2029),u=r(9862);let m=(()=>{class g{constructor(a){this.http=a,this.countries=null}getCountries(){return this.countries?(0,e.of)(this.countries):this.http.get("assets/demo/data/countries.json").pipe((0,C.U)(a=>a.data),(0,h.K)(()=>(0,e.of)([])),(0,C.U)(a=>(this.countries=a,a)))}getHuNationality(a){const n=this.countries?.find(s=>s.code===a);return n?n.hunationality:null}getHuCountryName(a){const n=this.countries?.find(s=>s.name===a);return n?n.huname:null}static#e=this.\u0275fac=function(n){return new(n||g)(E.LFG(u.eN))};static#t=this.\u0275prov=E.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},7159:(f,v,r)=>{r.d(v,{F:()=>m});var e=r(5619),C=r(2096),h=r(7398),E=r(2029),u=r(8814);let m=(()=>{class g{constructor(a){this.apiService=a,this.cache=[],this.apiURL=a.apiURL,this.data$=new e.X(null),this.message$=new e.X(null)}get dietObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(a,n,s,l){let c="";""!==s&&(c=""!=s.sortField?`sort=${s.sortField}&order=${1===s.sortOrder?"ASC":"DESC"}`:"");const i=""!==c&&""!==l?c+"&"+l:""!==c&&""===l?c:""===c&&""!==l?l:"";this.apiService.get(`diet/get/${a}/${n}${""!==i?"?"+i:""}`).subscribe({next:t=>{t&&t.rows&&t.rows.map(p=>{p.name=p.name?.toLowerCase()}),this.data$.next(t)},error:t=>{this.message$.next(t)}})}getBySearch(a,n){let s="";""!==n&&(s=""!=n.sortField?`?sort=${n.sortField}&order=${1===n.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`diet/search/${a}${s}`).subscribe({next:l=>{this.data$.next(l)},error:l=>{this.message$.next(l)}})}getBySearchQuery(a){this.apiService.get(`diet/searchquery?${a}`).subscribe({next:n=>{this.data$.next(n)},error:n=>{this.message$.next(n)}})}create(a){this.apiService.post("diet/create/",a).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend r\xf6gz\xedt\xe9s",detail:`${a.name} r\xf6gz\xedtve`})},error:n=>{this.message$.next(n)}})}update(a){this.apiService.put(`diet/update/${a.id}`,a).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend m\xf3dos\xedt\xe1s",detail:`${a.name} m\xf3dos\xedtva`})},error:n=>{this.message$.next(n)}})}delete(a){this.apiService.delete(`diet/delete/${a.id}`).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend t\xf6rl\xe9s",detail:`${a.name} t\xf6r\xf6lve`})},error:n=>{this.message$.next(n)}})}bulkdelete(a){let n={ids:a.map(s=>s.id)};this.apiService.post("diet/bulkdelete",n).subscribe({next:s=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend t\xf6rl\xe9s",detail:`${a.length} \xe9trend t\xf6r\xf6lve`})},error:s=>{this.message$.next(s)}})}getDietsForSelector(){return this.cache.length>0?(0,C.of)(this.cache):(this.get(0,999,{sortField:"id",sortOrder:1},""),this.data$.asObservable().pipe((0,h.U)(a=>{const n=a?a.rows:[];return this.cache=n,n})))}getDietColor(a){let n="";return this.cache.map(s=>{a?.toLowerCase()==s.name?.toLowerCase()&&(n=s.color??"")}),n}static#e=this.\u0275fac=function(n){return new(n||g)(E.LFG(u.s))};static#t=this.\u0275prov=E.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},746:(f,v,r)=>{r.d(v,{Q:()=>g});var e=r(5619),C=r(9397),h=r(6306),E=r(2096),u=r(2029),m=r(8814);let g=(()=>{class y{constructor(n){this.apiService=n,this.apiURL=n.apiURL,this.guestData$=new e.X(null),this.createdGuest$=new e.X(null),this.serviceMessage$=new e.X(null)}get guestObs(){return this.guestData$.asObservable()}get createdGuestObs(){return this.createdGuest$.asObservable()}get serviceMessageObs(){return this.serviceMessage$.asObservable()}getGuests(n,s,l,c){let i="";""!==l&&(i=""!=l.sortField?`sort=${l.sortField}&order=${1===l.sortOrder?"ASC":"DESC"}`:"");const d=""!==i&&""!==c?i+"&"+c:""!==i&&""===c?i:""===i&&""!==c?c:"";this.apiService.get(`guest/get/${n}/${s}${""!==d?"?"+d:""}`).subscribe({next:p=>{this.guestData$.next(p)},error:p=>{this.serviceMessage$.next(p)}})}getGuestsBySearch(n,s){let l="";""!==s&&(l=""!=s.sortField?`?sort=${s.sortField}&order=${1===s.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`guest/search/${n}${l}`).subscribe({next:c=>{this.guestData$.next(c)},error:c=>{this.serviceMessage$.next(c)}})}getGuestsBySearchQuery(n){this.apiService.get(`guest/searchquery?${n}`).subscribe({next:s=>{this.guestData$.next(s)},error:s=>{this.serviceMessage$.next(s)}})}getByRFID(n){return this.apiService.get(`guest/getbyrfid/${n}`)}updateLastTagUsage(n){this.apiService.get(`guest/updatelasttagusage/${n}`).subscribe({next:s=>{},error:s=>{this.serviceMessage$.next(s)}})}createGuest(n,s){const l=new FormData;if(l.append("guest",JSON.stringify(n)),s&&s.length>0)for(const c of s){if(!c)return;l.append("idcard",c,c.name)}this.apiService.post("guest/create/",l).subscribe({next:c=>{this.createdGuest$.next(c),this.serviceMessage$.next("success")},error:c=>{this.serviceMessage$.next(c)}})}updateGuest(n){this.apiService.put(`guest/update/${n.id}`,n).subscribe({next:()=>{this.serviceMessage$.next("success")},error:s=>{this.serviceMessage$.next(s)}})}updateGuest2(n){return this.apiService.put(`guest/update/${n.id}`,n).pipe((0,C.b)(()=>console.log(`updated guest id=${n.id}`)),(0,h.K)(this.handleError("updateGuest2")))}deleteGuest(n){this.apiService.delete(`guest/delete/${n.id}`).subscribe({next:s=>{this.serviceMessage$.next(s)},error:s=>{this.serviceMessage$.next(s)}})}deleteGuests(n){let s={ids:n.map(l=>l.id)};this.apiService.post("guest/bulkdelete",s).subscribe({next:l=>{this.serviceMessage$.next(l)},error:l=>{this.serviceMessage$.next(l)}})}handleError(n="operation",s){return l=>(console.error(l),console.error(`${n} failed: ${l.message}`),(0,E.of)(s))}static#e=this.\u0275fac=function(s){return new(s||y)(u.LFG(m.s))};static#t=this.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()}}]);