"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[3221],{3221:(M,y,s)=>{s.r(y),s.d(y,{ProfileModule:()=>ie});var u=s(6814),t=s(6223),v=s(4480),h=s(707),r=s(3714),x=s(2352),c=s(2610),d=s(6218),g=s(1640),b=s(7582),T=s(1836),S=s(8842),a=s(4279),F=s(5219),e=s(2029),p=s(1206),f=s(6193),_=s(4204),k=s(4104),z=s(7680),D=s(7853);function J(n,o){1&n&&(e.TgZ(0,"div",31),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function w(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,J,2,0,"div",30),e.qZA()),2&n){const l=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=l.userForm.get("fullname"))||null==i.errors?null:i.errors.required)}}function N(n,o){if(1&n&&(e.TgZ(0,"span",32),e._uU(1),e.qZA()),2&n){const l=o.$implicit,i=e.oxw();e.Q6J("ngClass",i.roleService.getRoleStyleClass(l.id)),e.xp6(1),e.hij(" ",l.name," ")}}function O(n,o){if(1&n&&(e.TgZ(0,"span",32),e._uU(1),e.qZA()),2&n){const l=e.oxw();let i,m;e.Q6J("ngClass",l.roleService.getRoleStyleClass(null==(i=l.userForm.get("user_rolesid"))?null:i.value)),e.xp6(1),e.hij(" ",l.roleService.getRoleName(null==(m=l.userForm.get("user_rolesid"))?null:m.value)," ")}}function R(n,o){1&n&&(e.TgZ(0,"div",31),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function Q(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,R,2,0,"div",30),e.qZA()),2&n){const l=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=l.userForm.get("user_rolesid"))||null==i.errors?null:i.errors.required)}}function Y(n,o){1&n&&(e.TgZ(0,"div",34),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function L(n,o){1&n&&(e.TgZ(0,"div",34),e._uU(1,"Nem megfelel\u0151 email form\xe1tum"),e.qZA())}function j(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Y,2,0,"div",33),e.YNc(2,L,2,0,"div",33),e.qZA()),2&n){const l=e.oxw();let i,m;e.xp6(1),e.Q6J("ngIf",null==(i=l.userForm.get("email"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(m=l.userForm.get("email"))||null==m.errors?null:m.errors.invalidEmail)}}function V(n,o){1&n&&(e.TgZ(0,"div",31),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function q(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,V,2,0,"div",30),e.qZA()),2&n){const l=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=l.userForm.get("phone"))||null==i.errors?null:i.errors.required)}}function K(n,o){1&n&&(e.TgZ(0,"div",31),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function H(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,K,2,0,"div",30),e.qZA()),2&n){const l=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=l.userForm.get("password"))||null==i.errors?null:i.errors.required)}}function W(n,o){1&n&&(e.TgZ(0,"div",31),e._uU(1,"K\xf6telez\u0151 kit\xf6lteni"),e.qZA())}function $(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,W,2,0,"div",30),e.qZA()),2&n){const l=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=l.userForm.get("password"))||null==i.errors?null:i.errors.required)}}function G(n,o){1&n&&(e.TgZ(0,"div")(1,"div",31),e._uU(2,"A jelszavak nem egyeznek!"),e.qZA()())}let P=class U{constructor(o,l,i,m){this.userService=o,this.roleService=l,this.messageService=i,this.fb=m,this.loading=!0,this.roles=[]}ngOnInit(){this.userService.getOwnData(),this.userForm=this.fb.group({id:[""],username:[""],fullname:["",t.kI.required],user_rolesid:[{value:"",disabled:!0},t.kI.required],email:["",[t.kI.required,(0,T.u)()]],phone:["",[t.kI.required]],password:[""],password_again:[""]},{validators:(0,S.C)()}),this.userService.hasRole(["Super Admin","Nagy Admin"])?this.userForm.get("user_rolesid")?.enable():this.userForm.get("user_rolesid")?.disable(),this.userForm.get("email")?.valueChanges.subscribe(o=>{this.userForm.get("username")?.setValue(o,{emitEvent:!1})}),this.userForm.get("id")?.valueChanges.subscribe(o=>{this.setPasswordValidators(o)}),this.setPasswordValidators(this.userForm.get("id")?.value),this.userObs$=this.userService.userObs,this.userObs$.subscribe(o=>{this.loading=!1,o&&(this.userForm.patchValue(o),this.originalFormValues=this.userForm.value)}),this.roleService.getRolesForSelector().subscribe({next:o=>{this.roles=o}}),this.serviceMessageObs$=this.userService.messageObs,this.serviceMessageObs$.subscribe(o=>{this.loading=!1,"ERROR"==o?this.messageService.add({severity:"error",summary:"Error",detail:"Hiba t\xf6rt\xe9nt!"}):(this.messageService.add(o),this.originalFormValues=this.userForm.value,this.userForm.reset(this.originalFormValues))})}cancel(){this.userForm.reset(this.originalFormValues)}save(){if(this.userForm.valid){const o=this.userForm.value;o.password||delete o.password,delete o.password_again,o.id&&(this.loading=!0,this.userService.update(o))}}setPasswordValidators(o){const l=this.userForm.get("password");o?l?.clearValidators():l?.setValidators([t.kI.required]),l?.updateValueAndValidity()}ngOnDestroy(){}static#e=this.\u0275fac=function(l){return new(l||U)(e.Y36(p.K),e.Y36(f.N),e.Y36(F.ez),e.Y36(t.qu))};static#t=this.\u0275cmp=e.Xpm({type:U,selectors:[["ng-component"]],features:[e._Bn([F.ez])],decls:55,vars:20,consts:[[1,"card"],[1,"text-900","text-xl","font-bold","mb-4","block"],[1,"grid"],[1,"col-12","lg:col-2"],[1,"text-900","font-medium","text-xl","mb-3"],[1,"m-0","p-0","text-600","line-height-3","mr-3"],[1,"col-12","lg:col-10"],[1,"grid","formgrid","p-fluid"],[1,"w-full","px-2","grid","formgrid","p-fluid",3,"formGroup"],["formControlName","id","type","hidden"],["formControlName","username","type","hidden"],[1,"field","mb-4","col-12","md:col-6"],["for","fullname",1,"font-medium","text-900"],["pInputText","","type","text","id","fullname","formControlName","fullname","autofocus",""],[4,"ngIf"],["for","user_rolesid",1,"font-medium","text-900"],["id","user_rolesid","formControlName","user_rolesid","optionLabel","name","optionValue","id","placeholder","V\xe1lasszon szerepk\xf6rt...","emptyMessage","Nincs tal\xe1lat...",3,"options","showClear","virtualScroll","virtualScrollItemSize"],["pTemplate","item"],["pTemplate","selectedItem"],["for","email",1,"font-medium","text-900"],["pInputText","","type","text","id","email","formControlName","email"],["for","phone",1,"font-medium","text-900"],["pInputText","","type","text","id","phone","formControlName","phone"],["for","password",1,"font-medium","text-900"],["id","password","formControlName","password","promptLabel","Adja meg a jelsz\xf3t","weakLabel","T\xfal egyszer\u0171","mediumLabel","\xc1tlagos","strongLabel","Komplex jelsz\xf3",3,"toggleMask"],["id","password_again","formControlName","password_again",3,"toggleMask","feedback"],[1,"field","col-6","md:col-3"],["pButton","","pRipple","","label","M\xe9gsem","icon","pi pi-times",1,"p-button-outlined",3,"disabled","click"],["pButton","","pRipple","","label","Ment\xe9s","icon","pi pi-check",1,"p-button",3,"loading","disabled","click"],[3,"autoZIndex","blocked"],["class","p-error",4,"ngIf"],[1,"p-error"],[3,"ngClass"],["class","block p-error",4,"ngIf"],[1,"block","p-error"]],template:function(l,i){if(1&l&&(e.TgZ(0,"div",0)(1,"span",1),e._uU(2," Felhaszn\xe1l\xf3"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4),e._uU(6,"Profil"),e.qZA(),e.TgZ(7,"p",5),e._uU(8,"Szem\xe9lyes adatok karbantart\xe1sa"),e.qZA()(),e.TgZ(9,"div",6)(10,"div",7)(11,"form",8),e._UZ(12,"input",9)(13,"input",10),e.TgZ(14,"div",11)(15,"label",12),e._uU(16,"N\xe9v"),e.qZA(),e._UZ(17,"input",13),e.YNc(18,w,2,1,"div",14),e.qZA(),e.TgZ(19,"div",11)(20,"label",15),e._uU(21,"Szerepk\xf6r"),e.qZA(),e.TgZ(22,"p-dropdown",16),e.YNc(23,N,2,2,"ng-template",17),e.YNc(24,O,2,2,"ng-template",18),e.qZA(),e.YNc(25,Q,2,1,"div",14),e.qZA(),e.TgZ(26,"div",11)(27,"label",19),e._uU(28,"Email"),e.qZA(),e._UZ(29,"input",20),e.YNc(30,j,3,2,"div",14),e.qZA(),e.TgZ(31,"div",11)(32,"label",21),e._uU(33,"Telefon"),e.qZA(),e._UZ(34,"input",22),e.YNc(35,q,2,1,"div",14),e.qZA(),e.TgZ(36,"div",11)(37,"label",23),e._uU(38,"Jelsz\xf3"),e.qZA(),e._UZ(39,"p-password",24),e.YNc(40,H,2,1,"div",14),e.qZA(),e.TgZ(41,"div",11)(42,"label",23),e._uU(43,"Jelsz\xf3 \xfajra"),e.qZA(),e._UZ(44,"p-password",25),e.YNc(45,$,2,1,"div",14),e.YNc(46,G,3,0,"div",14),e.qZA(),e._UZ(47,"div",11),e.TgZ(48,"div",26)(49,"button",27),e.NdJ("click",function(){return i.cancel()}),e.qZA()(),e.TgZ(50,"div",26)(51,"button",28),e.NdJ("click",function(){return i.save()}),e.qZA()()()()()()(),e.TgZ(52,"p-blockUI",29),e._UZ(53,"p-progressSpinner"),e.qZA(),e._UZ(54,"p-toast")),2&l){let m,Z,C,I,E,A,B;e.xp6(11),e.Q6J("formGroup",i.userForm),e.xp6(7),e.Q6J("ngIf",(null==(m=i.userForm.get("fullname"))?null:m.invalid)&&(null==(m=i.userForm.get("fullname"))?null:m.dirty)),e.xp6(4),e.Q6J("options",i.roles)("showClear",!0)("virtualScroll",!0)("virtualScrollItemSize",30),e.xp6(3),e.Q6J("ngIf",(null==(Z=i.userForm.get("user_rolesid"))?null:Z.invalid)&&(null==(Z=i.userForm.get("user_rolesid"))?null:Z.dirty)),e.xp6(5),e.Q6J("ngIf",(null==(C=i.userForm.get("email"))?null:C.invalid)&&(null==(C=i.userForm.get("email"))?null:C.dirty)),e.xp6(5),e.Q6J("ngIf",(null==(I=i.userForm.get("phone"))?null:I.invalid)&&(null==(I=i.userForm.get("phone"))?null:I.dirty)),e.xp6(4),e.Q6J("toggleMask",!0),e.xp6(1),e.Q6J("ngIf",(null==(E=i.userForm.get("password"))?null:E.invalid)&&(null==(E=i.userForm.get("password"))?null:E.dirty)),e.xp6(4),e.Q6J("toggleMask",!0)("feedback",!1),e.xp6(1),e.Q6J("ngIf",(null==(A=i.userForm.get("password"))?null:A.invalid)&&(null==(A=i.userForm.get("password"))?null:A.dirty)),e.xp6(1),e.Q6J("ngIf",(null==i.userForm.errors?null:i.userForm.errors.passwordsDoNotMatch)&&(null==(B=i.userForm.get("password"))?null:B.dirty)),e.xp6(3),e.Q6J("disabled",!i.userForm.dirty),e.xp6(2),e.Q6J("loading",i.loading)("disabled",!i.userForm.valid||!i.userForm.dirty),e.xp6(1),e.Q6J("autoZIndex",!0)("blocked",i.loading)}},dependencies:[_.b,u.mk,u.O5,t._Y,t.Fj,t.JJ,t.JL,h.Hq,F.jx,v.H,r.o,x.Lt,t.sg,t.u,k.FN,z.G,D.ro],encapsulation:2})};P=(0,b.gn)([(0,a.k)()],P);let X=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[g.Bz.forChild([{path:"",component:P}]),g.Bz]})}return n})();var ee=s(6263),te=s(9502);let ie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[_.u,u.ez,t.u5,X,h.hJ,v.T,r.j,x.kW,c.O,d.A,t.u5,t.UX,h.hJ,v.T,k.EV,r.j,d.A,x.kW,ee.W,te.$,z.L,D.gz]})}return n})()},4204:(M,y,s)=>{s.d(y,{b:()=>T,u:()=>S});var u=s(6814),t=s(2029),v=s(5219),h=s(2076),r=s(2332);const x=["mask"];function c(a,F){1&a&&t.GkF(0)}const d=function(a){return{"p-blockui-document":a,"p-blockui p-component-overlay p-component-overlay-enter":!0}},g=function(a){return{display:a}},b=["*"];let T=(()=>{class a{document;el;cd;config;renderer;target;autoZIndex=!0;baseZIndex=0;styleClass;get blocked(){return this._blocked}set blocked(e){this.mask&&this.mask.nativeElement?e?this.block():this.unblock():this._blocked=e}templates;mask;_blocked=!1;animationEndListener;contentTemplate;constructor(e,p,f,_,k){this.document=e,this.el=p,this.cd=f,this.config=_,this.renderer=k}ngAfterViewInit(){if(this.target&&!this.target.getBlockableElement)throw"Target of BlockUI must implement BlockableUI interface"}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template})}block(){this._blocked=!0,this.target?(this.target.getBlockableElement().appendChild(this.mask.nativeElement),this.target.getBlockableElement().style.position="relative"):this.renderer.appendChild(this.document.body,this.mask.nativeElement),this.autoZIndex&&r.P9.set("modal",this.mask.nativeElement,this.baseZIndex+this.config.zIndex.modal)}unblock(){this.mask&&(this.animationEndListener=this.renderer.listen(this.mask.nativeElement,"animationend",this.destroyModal.bind(this)),h.p.addClass(this.mask.nativeElement,"p-component-overlay-leave"))}destroyModal(){this._blocked=!1,this.mask&&(h.p.removeClass(this.mask.nativeElement,"p-component-overlay-leave"),r.P9.clear(this.mask.nativeElement),this.renderer.appendChild(this.el.nativeElement,this.mask.nativeElement)),this.unbindAnimationEndListener(),this.cd.markForCheck()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.unblock(),this.destroyModal()}static \u0275fac=function(p){return new(p||a)(t.Y36(u.K0),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(v.b4),t.Y36(t.Qsj))};static \u0275cmp=t.Xpm({type:a,selectors:[["p-blockUI"]],contentQueries:function(p,f,_){if(1&p&&t.Suo(_,v.jx,4),2&p){let k;t.iGM(k=t.CRH())&&(f.templates=k)}},viewQuery:function(p,f){if(1&p&&t.Gf(x,5),2&p){let _;t.iGM(_=t.CRH())&&(f.mask=_.first)}},hostAttrs:[1,"p-element"],inputs:{target:"target",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",styleClass:"styleClass",blocked:"blocked"},ngContentSelectors:b,decls:4,vars:9,consts:[[3,"ngClass","ngStyle"],["mask",""],[4,"ngTemplateOutlet"]],template:function(p,f){1&p&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.YNc(3,c,1,0,"ng-container",2),t.qZA()),2&p&&(t.Tol(f.styleClass),t.Q6J("ngClass",t.VKq(5,d,!f.target))("ngStyle",t.VKq(7,g,f.blocked?"flex":"none")),t.xp6(3),t.Q6J("ngTemplateOutlet",f.contentTemplate))},dependencies:[u.mk,u.tP,u.PC],styles:[".p-blockui{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;transition-property:background-color;display:flex;align-items:center;justify-content:center}.p-blockui.p-component-overlay{position:absolute}.p-blockui-document.p-component-overlay{position:fixed}.p-blockui-leave.p-component-overlay{background-color:transparent}\n"],encapsulation:2,changeDetection:0})}return a})(),S=(()=>{class a{static \u0275fac=function(p){return new(p||a)};static \u0275mod=t.oAB({type:a});static \u0275inj=t.cJS({imports:[u.ez]})}return a})()},6218:(M,y,s)=>{s.d(y,{A:()=>h});var u=s(2029),t=s(6814);let h=(()=>{class r{static \u0275fac=function(d){return new(d||r)};static \u0275mod=u.oAB({type:r});static \u0275inj=u.cJS({imports:[t.ez]})}return r})()},7680:(M,y,s)=>{s.d(y,{G:()=>v,L:()=>h});var u=s(6814),t=s(2029);let v=(()=>{class r{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";static \u0275fac=function(d){return new(d||r)};static \u0275cmp=t.Xpm({type:r,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(d,g){1&d&&(t.TgZ(0,"div",0),t.O4$(),t.TgZ(1,"svg",1),t._UZ(2,"circle",2),t.qZA()()),2&d&&(t.Q6J("ngStyle",g.style)("ngClass",g.styleClass),t.xp6(1),t.Udp("animation-duration",g.animationDuration),t.xp6(1),t.uIk("fill",g.fill)("stroke-width",g.strokeWidth))},dependencies:[u.mk,u.PC],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0})}return r})(),h=(()=>{class r{static \u0275fac=function(d){return new(d||r)};static \u0275mod=t.oAB({type:r});static \u0275inj=t.cJS({imports:[u.ez]})}return r})()}}]);