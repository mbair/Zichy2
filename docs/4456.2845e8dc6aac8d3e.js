"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[4456],{4456:(M,C,r)=>{r.r(C),r.d(C,{ReservationModule:()=>vt});var u=r(6814),a=r(6223),v=r(1640),T=r(7582),g=r(8645),c=r(5619),A=r(7398),d=r(3997),m=r(2832),h=r(9360),Z=r(4829),f=r(8251),ee=r(4825);var ne=r(4664),oe=r(3620),ie=r(4279),x=r(5219),se=r(1116);const D=()=>function le(o){const i=t=>(t??[]).map(n=>{const s=o(n);return null==s?"\u2400":"number"==typeof s?`#${s}`:`@${s}`}).sort().join("|");return(0,d.x)((t,n)=>i(t)===i(n))}(o=>o.id);var re=r(217),E=r(6676),w=r(9474),e=r(2029),ae=r(2096),ue=r(9397),pe=r(8814);let z=(()=>{class o{get messageObs(){return this.message$.asObservable()}constructor(t){this.apiService=t,this.cache=[],this.message$=new c.X(null),this.apiURL=t.apiURL}get$(t,n,s,l){let p="";""!==s&&(p=s.sortField?`sort=${s.sortField}&order=${1===s.sortOrder?"ASC":"DESC"}`:"");const y=p&&l?`${p}&${l}`:p||l||"";return this.apiService.get(`reservation/get/${t}/${n}${y?`?${y}`:""}`)}getBySearch$(t,n){let s="";return""!==n&&(s=""!==n.sortField?`?sort=${n.sortField}&order=${1===n.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`reservation/search/${t}${s}`)}getBySearchQuery$(t){return this.apiService.get(`reservation/searchquery?${t}`)}getReservationsForSelector(){return this.cache.length?(0,ae.of)(this.cache):this.apiService.get("reservation/get/0/999?sort=reservationNum&order=ASC").pipe((0,A.U)(t=>t?.rows??[]),(0,ue.b)(t=>{this.cache=t}))}create(t){this.apiService.post("reservation/create/",t).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres szoba r\xf6gz\xedt\xe9s",detail:`${t.id} sz\xe1m\xfa szoba r\xf6gz\xedtve`})},error:n=>this.message$.next(n)})}update(t){this.apiService.put(`reservation/update/${t.id}`,t).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres szoba m\xf3dos\xedt\xe1s",detail:`${t.id} sz\xe1m\xfa szoba m\xf3dos\xedtva`})},error:n=>this.message$.next(n)})}delete(t){this.apiService.delete(`reservation/delete/${t.id}`).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres szoba t\xf6rl\xe9s",detail:`${t.id} sz\xe1m\xfa szoba t\xf6r\xf6lve`})},error:n=>this.message$.next(n)})}bulkdelete(t){const n={ids:t.map(s=>s.id)};this.apiService.post("reservation/bulkdelete",n).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres szoba t\xf6rl\xe9s",detail:`${t.length} szoba t\xf6r\xf6lve`})},error:s=>this.message$.next(s)})}static#e=this.\u0275fac=function(n){return new(n||o)(e.LFG(pe.s))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var ce=r(1206),de=r(219),me=r(8022),S=r(9552),N=r(707),O=r(4480),L=r(4104),J=r(3714),k=r(7213),$=r(7680),j=r(4204),Y=r(9246),he=r(3069),ge=r(2991),R=r(9515),V=r(3965);function fe(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=i.$implicit;e.Gre("reservation-status-badge ",t.value,""),e.xp6(1),e.hij(" ",e.lcZ(2,4,"RESERVATION_STATUSES."+(null==t.label?null:t.label.toUpperCase()))," ")}}function ve(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=i.$implicit;e.Gre("reservation-status-badge ",null==t?null:t.value,""),e.xp6(1),e.hij(" ",e.lcZ(2,4,"RESERVATION_STATUSES."+(null==t||null==t.label?null:t.label.toUpperCase()))," ")}}function _e(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.handleOnChange(s))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,fe,3,6,"ng-template",3),e.YNc(4,ve,3,6,"ng-template",4),e.qZA()}if(2&o){const t=i.ngIf,n=e.oxw();e.s9C("placeholder",e.lcZ(1,5,n.placeholder)),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",n.statuses)("showClear",n.showClear)}}function be(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=i.$implicit;e.Gre("reservation-status-badge ",t.value,""),e.xp6(1),e.hij(" ",e.lcZ(2,4,"RESERVATION_STATUSES."+(null==t.label?null:t.label.toUpperCase()))," ")}}function Ce(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=i.$implicit;e.Gre("reservation-status-badge ",null==t?null:t.value,""),e.xp6(1),e.hij(" ",e.lcZ(2,4,"RESERVATION_STATUSES."+(null==t||null==t.label?null:t.label.toUpperCase()))," ")}}function Te(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"p-dropdown",5),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedStatus=s)})("onChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.handleOnChange(s))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,be,3,6,"ng-template",3),e.YNc(4,Ce,3,6,"ng-template",4),e.qZA()}if(2&o){const t=e.oxw();e.s9C("placeholder",e.lcZ(1,5,t.placeholder)),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedStatus)("options",t.statuses)("showClear",t.showClear)}}let Ze=(()=>{class o{constructor(t,n){this.translate=t,this.cdRef=n,this.change=new e.vpe,this.statuses=[],this.selectedStatus="",this.disabled=!1,this.onChange=s=>{},this.onTouched=()=>{},this.placeholder||(this.placeholder="V\xe1lasszon...")}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setReservationStatuses()}),this.setReservationStatuses()}ngOnChanges(t){this.setReservationStatuses()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setReservationStatuses(){this.statuses=[{label:"tentative",value:"tentative"},{label:"confirmed",value:"confirmed"},{label:"in_house",value:"in_house"},{label:"checked_out",value:"checked_out"},{label:"cancelled",value:"cancelled"}]}handleOnChange(t){this.selectedStatus=t.value,this.onChange(t.value),this.onTouched(),this.change.emit({value:t.value,field:this.controlName})}setDisabledState(t){this.disabled=t,this.cdRef.detectChanges()}writeValue(t){this.selectedStatus=t,this.cdRef.detectChanges()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(R.sK),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-reservation-status-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",placeholder:"placeholder",showClear:"showClear"},outputs:{change:"change"},features:[e._Bn([{provide:a.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}]),e.TTD],decls:3,vars:2,consts:[["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],["optionLabel","label","optionValue","value","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(n,s){if(1&n&&(e.YNc(0,_e,5,9,"p-dropdown",0),e.YNc(1,Te,5,9,"ng-template",null,1,e.W1O)),2&n){const l=e.MAs(2);e.Q6J("ngIf",s.getFormControl())("ngIfElse",l)}},dependencies:[u.O5,a.JJ,a.On,a.oH,x.jx,V.Lt,R.X$],encapsulation:2})}return o})();var xe=r(7394),Se=r(4520),ye=r(4055),F=r(3259);const Re=["roomSelector"];function Ae(o,i){if(1&o&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.floor,")")}}function Ee(o,i){1&o&&(e.TgZ(0,"span",16),e._uU(1,"\u2744\ufe0f"),e.qZA())}function Fe(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(", ",t.bathroom,"")}}function Ie(o,i){if(1&o&&(e._uU(0),e.TgZ(1,"div")(2,"div",4)(3,"div",5),e._UZ(4,"i",6),e.TgZ(5,"span",7),e._uU(6),e.qZA()(),e.TgZ(7,"div",8)(8,"div",9)(9,"span",10),e._uU(10),e.ALo(11,"translate"),e.YNc(12,Ae,2,1,"span",11),e.YNc(13,Ee,2,0,"span",12),e.qZA(),e.TgZ(14,"span",13),e._uU(15),e.YNc(16,Fe,2,1,"span",14),e._uU(17,") "),e.qZA()()()()()),2&o){const t=i.$implicit;e.hij(" ",t.roomNum," "),e.xp6(1),e.Gre("building-badge ",t.building," border-round-xl w-min p-0 mb-2"),e.xp6(4),e.MGl("pTooltip","Szoba sz\xe1m: ",t.roomNum,""),e.xp6(1),e.hij(" ",t.roomNum," "),e.xp6(1),e.MGl("pTooltip","Szoba k\xf3d: ",t.roomCode,""),e.xp6(3),e.hij(" ",e.lcZ(11,13,"BUILDINGS."+t.building.toUpperCase())," "),e.xp6(2),e.Q6J("ngIf",t.floor),e.xp6(1),e.Q6J("ngIf",t.climate),e.xp6(2),e.AsE(" ",t.beds," SZEM\xc9LYES (",t.bedType,""),e.xp6(1),e.Q6J("ngIf",t.bathroom)}}function Ue(o,i){if(1&o&&(e.TgZ(0,"span",15),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.floor,")")}}function Me(o,i){1&o&&(e.TgZ(0,"span",16),e._uU(1,"\u2744\ufe0f"),e.qZA())}function De(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(", ",t.bathroom,"")}}function we(o,i){if(1&o&&(e.TgZ(0,"div")(1,"div",4)(2,"div",5),e._UZ(3,"i",6),e.TgZ(4,"span",7),e._uU(5),e.qZA()(),e.TgZ(6,"div",8)(7,"div",9)(8,"span",10),e._uU(9),e.ALo(10,"translate"),e.YNc(11,Ue,2,1,"span",11),e.YNc(12,Me,2,0,"span",12),e.qZA(),e.TgZ(13,"span",13),e._uU(14),e.YNc(15,De,2,1,"span",14),e._uU(16,") "),e.qZA()()()()()),2&o){const t=i.$implicit;e.Gre("building-badge ",t.building," border-round-xl w-min p-0 mb-2"),e.xp6(4),e.MGl("pTooltip","Szoba sz\xe1m: ",t.roomNum,""),e.xp6(1),e.hij(" ",t.roomNum," "),e.xp6(1),e.MGl("pTooltip","Szoba k\xf3d: ",t.roomCode,""),e.xp6(3),e.hij(" ",e.lcZ(10,12,"BUILDINGS."+t.building.toUpperCase())," "),e.xp6(2),e.Q6J("ngIf",t.floor),e.xp6(1),e.Q6J("ngIf",t.climate),e.xp6(2),e.AsE(" ",t.beds," SZEM\xc9LYES (",t.bedType,""),e.xp6(1),e.Q6J("ngIf",t.bathroom)}}let ze=(()=>{class o{set preselectRoomId(t){this._pendingSelectId=t,this.tryPreselectById()}runSilently(t){this.suppress++;try{return t()}finally{this.suppress--}}constructor(t,n){this.roomService=t,this.messageService=n,this.filter=null,this.selectFirstOption=!1,this.showClear=!0,this.style={},this.disabledOptions=[],this.emitOnSelectFirstOption=!1,this.emitOnPreselectId=!1,this.emitOnWriteValue=!1,this.change=new e.vpe,this.loading=!0,this.disabled=!1,this.rooms=[],this.originalRooms=[],this.selectedRooms=[],this.subscriptions=new xe.w0,this.suppress=0,this.onChange=s=>{},this.onTouched=()=>{}}ngOnInit(){this.reload()}ngOnChanges(t){this.reload()}ngOnDestroy(){this.subscriptions.unsubscribe()}reload(){this.loading=!0,this.roomService.searchRoomsForSelector$(this.filter??{}).subscribe({next:t=>{this.rooms=t??[],this.loading=!1},error:t=>{this.rooms=[],this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load rooms."})}})}setSelection(t,n){const s=n?.source??"programmatic";this.runSilently(()=>{this.selectedRooms=t?.slice(0,this.selectionLimit??t.length)??[]}),n?.emit&&this.emit(this.selectedRooms,s,!0)}handleSelectFirstOption(){this.selectFirstOption&&0===this.selectedRooms.length&&this.rooms.length&&(this.runSilently(()=>{this.selectedRooms=this.rooms.slice(0,this.selectionLimit??1)}),this.emitOnSelectFirstOption&&this.emit(this.selectedRooms,"auto-select-first",!0))}tryPreselectById(){if(!this.rooms?.length||null==this._pendingSelectId)return;const t=this.rooms.find(n=>n.id===this._pendingSelectId);this.runSilently(()=>{this.selectedRooms=t?[t]:[]}),this.emitOnPreselectId&&this.emit(this.selectedRooms,"preselect-id",!0)}setDisabledState(t){this.disabled=t}syncSelectedRooms(){this.selectedRooms=this.rooms.filter(t=>this.selectedRooms.some(n=>n.id===t.id)),this.onChange(this.selectedRooms)}onSelectionChange(t){this.selectedRooms=t.value,this.emit(this.selectedRooms,"user"),1===(this.selectionLimit??1)&&this.selectedRooms?.length>=1&&setTimeout(()=>this.roomSelectorRef?.hide())}onSelectionClear(){this.selectedRooms=[],this.onChange(this.selectedRooms),this.onTouched()}emit(t,n,s=!1){this.suppress&&!s||(this.onChange(t),this.onTouched(),this.change.emit({value:t,source:n}))}writeValue(t){this.runSilently(()=>{this.selectedRooms=t?.slice(0,this.selectionLimit??t.length)??[]}),this.emitOnWriteValue&&this.emit(this.selectedRooms,"programmatic",!0)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}static#e=this.\u0275fac=function(n){return new(n||o)(e.Y36(Se.X),e.Y36(x.ez))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-room-selector"]],viewQuery:function(n,s){if(1&n&&e.Gf(Re,5),2&n){let l;e.iGM(l=e.CRH())&&(s.roomSelectorRef=l.first)}},inputs:{filter:"filter",selectionLimit:"selectionLimit",selectFirstOption:"selectFirstOption",placeholder:"placeholder",showClear:"showClear",style:"style",disabledOptions:"disabledOptions",emitOnSelectFirstOption:"emitOnSelectFirstOption",emitOnPreselectId:"emitOnPreselectId",emitOnWriteValue:"emitOnWriteValue",preselectRoomId:"preselectRoomId"},outputs:{change:"change"},features:[e._Bn([{provide:a.JU,useExisting:(0,e.Gpc)(()=>o),multi:!0}]),e.TTD],decls:5,vars:13,consts:[["dataKey","id","optionLabel","roomNum","optionDisabled","disabled","scrollHeight","400px","appendTo","body","display","chip",1,"multiselect-custom-virtual-scroll",3,"options","ngModel","disabled","selectionLimit","placeholder","emptyMessage","virtualScroll","virtualScrollItemSize","showClear","ngModelChange","onChange","onClear"],["roomSelector",""],["pTemplate","item"],["pTemplate","selectedItem"],[1,"flex","align-items-center","justify-content-center","py-1","px-1"],[1,"flex","align-items-center","justify-content-center","gap-2","px-2"],[1,"pi","pi-key","vertical-align-middle"],["tooltipPosition","top",1,"text-2xl","font-semibold","white-space-nowrap","vertical-align-middle",3,"pTooltip"],["tooltipPosition","top",1,"block","min-w-max","border-left-1","px-2",3,"pTooltip"],[1,"flex","flex-column","align-items-left","justify-content-center"],[1,"text-base","font-semibold","uppercase"],["class","font-normal text-sm uppercase",4,"ngIf"],["class","pl-1",4,"ngIf"],[1,"font-light","text-xs","uppercase"],[4,"ngIf"],[1,"font-normal","text-sm","uppercase"],[1,"pl-1"]],template:function(n,s){1&n&&(e.TgZ(0,"p-multiSelect",0,1),e.NdJ("ngModelChange",function(p){return s.selectedRooms=p})("onChange",function(p){return s.onSelectionChange(p)})("onClear",function(){return s.onSelectionClear()}),e.ALo(2,"translate"),e.YNc(3,Ie,18,15,"ng-template",2),e.YNc(4,we,17,14,"ng-template",3),e.qZA()),2&n&&(e.Akn(s.style),e.s9C("emptyMessage",e.lcZ(2,11,"Nincs tal\xe1lat...")),e.Q6J("options",s.rooms)("ngModel",s.selectedRooms)("disabled",s.disabled)("selectionLimit",s.selectionLimit)("placeholder",s.placeholder)("virtualScroll",!0)("virtualScrollItemSize",43)("showClear",s.showClear))},dependencies:[u.O5,a.JJ,a.On,x.jx,ye.NU,F.u,R.X$],encapsulation:2,changeDetection:0})}return o})();var Q=r(6651),q=r(8039),B=r(8676),G=r(3212),H=r(6218);const Ne=function(){return{minWidth:"35rem"}};function Oe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",36)(1,"h5",37),e._uU(2,"Foglal\xe1sok"),e.qZA(),e.TgZ(3,"span",38)(4,"app-conference-selector",39),e.NdJ("ngModelChange",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedConferences=s)})("ngModelChange",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.doQuery())}),e.qZA()(),e.TgZ(5,"span",40)(6,"div",41)(7,"div",42)(8,"div",43),e.O4$(),e.TgZ(9,"svg",44),e._UZ(10,"g",45)(11,"g",46),e.TgZ(12,"g",47)(13,"g",48)(14,"g",49),e._UZ(15,"path",50),e.qZA()()()(),e.kcU(),e.TgZ(16,"span",51),e._uU(17),e.qZA()()()()(),e.TgZ(18,"span",38)(19,"button",52),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.create())}),e.qZA(),e.TgZ(20,"button",53),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.bulkDeleteDialog=!0)}),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(4),e.Akn(e.DdM(9,Ne)),e.Q6J("ngModel",t.selectedConferences)("emitOnSelectFirstOption",!0)("showClear",!0),e.xp6(2),e.MGl("pTooltip","\xc1gyak sz\xe1ma: ",t.numberOfBeds,""),e.xp6(11),e.hij(" ",t.numberOfBeds," "),e.xp6(2),e.Q6J("disabled",!t.canCreate),e.xp6(1),e.Q6J("disabled",!t.selected||!t.selected.length||!t.canDelete)}}function Le(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th",54),e._uU(3,"Szoba "),e._UZ(4,"p-sortIcon",55),e.qZA(),e.TgZ(5,"th",56),e._uU(6,"Vend\xe9gek "),e._UZ(7,"p-sortIcon",57),e.qZA(),e.TgZ(8,"th",58),e._uU(9,"\xc9rkez\xe9s "),e._UZ(10,"p-sortIcon",59),e.qZA(),e.TgZ(11,"th",60),e._uU(12,"T\xe1voz\xe1s "),e._UZ(13,"p-sortIcon",61),e.qZA(),e.TgZ(14,"th",62),e._uU(15,"St\xe1tusz "),e._UZ(16,"p-sortIcon",63),e.qZA(),e.TgZ(17,"th",64),e._uU(18,"Megjegyz\xe9s "),e._UZ(19,"p-sortIcon",65),e.qZA(),e._UZ(20,"th"),e.qZA(),e.TgZ(21,"tr")(22,"th",66),e._UZ(23,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(24,"th")(25,"input",67),e.NdJ("input",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(s,"reservationNum"))}),e.qZA(),e.TgZ(26,"app-building-selector",68),e.NdJ("change",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(s,"building"))}),e.qZA(),e.TgZ(27,"app-bedtype-selector",69),e.NdJ("change",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(s,"bedType"))}),e.qZA()(),e.TgZ(28,"th")(29,"input",70),e.NdJ("input",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(s,"guests"))}),e.qZA()(),e.TgZ(30,"th")(31,"p-calendar",71),e.NdJ("onSelect",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(s,"dateOfArrival"))})("onClearClick",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(s,"dateOfArrival"))}),e.qZA()(),e.TgZ(32,"th")(33,"p-calendar",71),e.NdJ("onSelect",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(s,"dateOfDeparture"))})("onClearClick",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(s,"dateOfDeparture"))}),e.qZA()(),e.TgZ(34,"th")(35,"app-reservation-status-selector",72),e.NdJ("change",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(s,"status"))}),e.qZA()(),e.TgZ(36,"th")(37,"input",73),e.NdJ("input",function(s){e.CHM(t);const l=e.oxw();return e.KtG(l.onFilter(s,"notes"))}),e.qZA()(),e._UZ(38,"th"),e.qZA()}2&o&&(e.xp6(26),e.Q6J("showClear",!0),e.xp6(1),e.Q6J("showClear",!0),e.xp6(4),e.Q6J("showButtonBar",!0),e.xp6(2),e.Q6J("showButtonBar",!0),e.xp6(2),e.Q6J("showClear",!0))}function Je(o,i){if(1&o&&(e.TgZ(0,"span",93),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.room.floor,")")}}function ke(o,i){1&o&&(e.TgZ(0,"span",94),e._uU(1,"\u2744\ufe0f"),e.qZA())}function $e(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(", ",t.room.bathroom,"")}}function je(o,i){1&o&&e._UZ(0,"p-avatar",95),2&o&&e.s9C("pTooltip",i.$implicit.guestName)}const Ye=function(){return{height:".5rem"}};function Ve(o,i){if(1&o&&(e.TgZ(0,"td")(1,"span",75),e._uU(2,"Tel\xedtetts\xe9g"),e.qZA(),e._UZ(3,"p-progressBar",96),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.Akn(e.DdM(6,Ye)),e.hYB("pTooltip","\xc1gy/vend\xe9g: ",t.beds,"/",null==t.guests?null:t.guests.length,""),e.Q6J("value",(null==t.guests?null:t.guests.length)/t.beds*100)("showValue",!1)}}function Qe(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=e.oxw().$implicit;e.Gre("reservation-status-badge ",t.status,""),e.xp6(1),e.hij(" ",e.lcZ(2,4,"RESERVATION_STATUSES."+(null==t.status?null:t.status.toUpperCase()))," ")}}function qe(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",74),e.qZA(),e.TgZ(3,"td")(4,"span",75),e._uU(5,"Szoba"),e.qZA(),e.TgZ(6,"div")(7,"div",42)(8,"div",43),e._UZ(9,"i",76),e.TgZ(10,"span",77),e._uU(11),e.qZA()(),e.TgZ(12,"div",78)(13,"div",79)(14,"span",80),e._uU(15),e.ALo(16,"translate"),e.YNc(17,Je,2,1,"span",81),e.YNc(18,ke,2,0,"span",82),e.qZA(),e.TgZ(19,"span",83),e._uU(20),e.YNc(21,$e,2,1,"span",84),e._uU(22,") "),e.qZA()()()()()(),e.TgZ(23,"td")(24,"span",75),e._uU(25,"Vend\xe9gek"),e.qZA(),e._uU(26),e.TgZ(27,"p-avatarGroup"),e.YNc(28,je,1,1,"p-avatar",85),e.qZA()(),e.TgZ(29,"td",86)(30,"span",75),e._uU(31,"\xc9rkez\xe9s"),e.qZA(),e.TgZ(32,"span",87),e._UZ(33,"i",88),e._uU(34),e.ALo(35,"date"),e.qZA()(),e.TgZ(36,"td",86)(37,"span",75),e._uU(38,"T\xe1voz\xe1s"),e.qZA(),e.TgZ(39,"span",87),e._UZ(40,"i",88),e._uU(41),e.ALo(42,"date"),e.qZA()(),e.YNc(43,Ve,4,7,"td",84),e.TgZ(44,"td",86)(45,"span",75),e._uU(46,"St\xe1tusz"),e.qZA(),e.YNc(47,Qe,3,6,"span",89),e.qZA(),e.TgZ(48,"td")(49,"span",75),e._uU(50,"Megjegyz\xe9s"),e.qZA(),e._uU(51),e.qZA(),e.TgZ(52,"td")(53,"div",90)(54,"button",91),e.NdJ("click",function(){const l=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.edit(l))}),e.qZA(),e.TgZ(55,"button",92),e.NdJ("click",function(){const l=e.CHM(t).$implicit,p=e.oxw();return p.tableItem=l,e.KtG(p.deleteDialog=!0)}),e.qZA()()()()}if(2&o){const t=i.$implicit,n=e.oxw();e.xp6(2),e.Q6J("value",t),e.xp6(4),e.Gre("building-badge ",t.room.building," border-round-xl w-min p-0"),e.xp6(4),e.MGl("pTooltip","Szoba sz\xe1m: ",t.room.roomNum,""),e.xp6(1),e.hij(" ",t.room.roomNum," "),e.xp6(1),e.MGl("pTooltip","Szoba k\xf3d: ",t.room.roomCode,""),e.xp6(3),e.hij(" ",e.lcZ(16,22,"BUILDINGS."+t.room.building.toUpperCase())," "),e.xp6(2),e.Q6J("ngIf",t.room.floor),e.xp6(1),e.Q6J("ngIf",t.room.climate),e.xp6(2),e.AsE(" ",t.room.beds," SZEM\xc9LYES (",t.room.bedType,""),e.xp6(1),e.Q6J("ngIf",t.room.bathroom),e.xp6(5),e.hij(" ",t.guests.join(", ")," "),e.xp6(2),e.Q6J("ngForOf",t.guests),e.xp6(6),e.hij(" ",e.xi3(35,24,t.startDate,"yyyy.MM.dd")," "),e.xp6(7),e.hij(" ",e.xi3(42,27,t.endDate,"yyyy.MM.dd")," "),e.xp6(2),e.Q6J("ngIf",n.selectedConferences.length),e.xp6(4),e.Q6J("ngIf",t.status),e.xp6(4),e.hij(" ",t.notes," "),e.xp6(3),e.Q6J("disabled",!n.canEdit),e.xp6(1),e.Q6J("disabled",!n.canDelete)}}function Be(o,i){1&o&&(e.TgZ(0,"tr")(1,"td",97),e._uU(2,"Nincs tal\xe1lat..."),e.qZA()()),2&o&&(e.xp6(1),e.uIk("colspan",8))}function Ge(o,i){if(1&o&&(e.TgZ(0,"span",98),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",null!=t.id&&t.id.value?"Foglal\xe1s adatai":"\xdaj foglal\xe1s"," ")}}function He(o,i){1&o&&(e.TgZ(0,"div",99),e._uU(1," K\xf6telez\u0151 kit\xf6lteni "),e.qZA())}function Ke(o,i){1&o&&(e.TgZ(0,"div",99),e._uU(1," K\xf6telez\u0151 kit\xf6lteni "),e.qZA())}function Pe(o,i){1&o&&(e.TgZ(0,"div",99),e._uU(1," K\xf6telez\u0151 kit\xf6lteni "),e.qZA())}function We(o,i){1&o&&(e.TgZ(0,"div",100),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"K\xe9rj\xfck, adja meg az \xe9rkez\xe9s d\xe1tum\xe1t"),"! "))}function Xe(o,i){1&o&&(e.TgZ(0,"div",100),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Az \xe9rkez\xe9s d\xe1tum\xe1nak kor\xe1bbinak kell lennie, mint a t\xe1voz\xe1si d\xe1tum"),"! "))}function et(o,i){1&o&&(e.TgZ(0,"div",100),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"K\xe9rj\xfck, adja meg az \xe9rkez\xe9s d\xe1tum\xe1t"),"! "))}function tt(o,i){1&o&&(e.TgZ(0,"div",100),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Az \xe9rkez\xe9s d\xe1tum\xe1nak kor\xe1bbinak kell lennie, mint a t\xe1voz\xe1si d\xe1tum"),"! "))}function nt(o,i){1&o&&(e.TgZ(0,"div",99),e._uU(1," K\xf6telez\u0151 kit\xf6lteni "),e.qZA())}function ot(o,i){1&o&&(e.TgZ(0,"div",99),e._uU(1," K\xf6telez\u0151 kit\xf6lteni "),e.qZA())}function it(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",101)(1,"button",102),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.cancel())}),e.qZA(),e.TgZ(2,"button",103),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.save())}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("disabled",!t.reservationForm.dirty),e.xp6(1),e.Q6J("disabled",!t.reservationForm.valid||!t.reservationForm.dirty)}}function st(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",104),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteDialog=!1)}),e.qZA(),e.TgZ(1,"button",105),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.delete())}),e.qZA()}}function lt(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"button",104),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.bulkDeleteDialog=!1)}),e.qZA(),e.TgZ(1,"button",105),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.deleteSelected())}),e.qZA()}}const rt=function(){return["roomNum"]},at=function(){return{"min-height":"calc(100vh - 320px)"}},K=function(o){return{"ng-invalid":o}},P=function(){return{width:"450px"}};E.locale("hu");let I=class U{constructor(i,t,n,s,l,p){this.reservationService=i,this.userService=t,this.conferenceService=n,this.messageService=s,this.responsiveService=l,this.fb=p,this.loading=!0,this.tableItem={},this.tableData=[],this.rowsPerPageOptions=[20,50,100,200],this.rowsPerPage=20,this.totalRecords=0,this.page=0,this.sortField="id",this.sortOrder=1,this.globalFilter="",this.filterValues={},this.debounce={},this.sidebar=!1,this.deleteDialog=!1,this.bulkDeleteDialog=!1,this.selected=[],this.canCreate=!1,this.canEdit=!1,this.canDelete=!1,this.isMobile=!1,this.isOrganizer=!1,this.selectedConferences=[],this.numberOfBeds=0,this.conferenceStart=null,this.conferenceEnd=null,this.roomFilter={enabled:!0},this.initialFormValues={id:null,room:null,room_id:null,conference:null,conference_id:null,startDate:"",endDate:"",status:"",notes:"",guestIds:[]},this.query$=new g.x,this.formChanges$=new g.x,this.reservationForm=this.fb.group({id:[this.initialFormValues.id],room:[this.initialFormValues.room,a.kI.required],room_id:[this.initialFormValues.room_id,a.kI.required],conference:[this.initialFormValues.conference,a.kI.required],conference_id:[this.initialFormValues.conference_id,a.kI.required],startDate:[{value:this.initialFormValues.startDate,disabled:!0},a.kI.required],endDate:[{value:this.initialFormValues.endDate,disabled:!0},a.kI.required],status:[this.initialFormValues.status,a.kI.required],notes:[this.initialFormValues.notes],guestIds:[this.initialFormValues.guestIds,a.kI.required]},{validators:(0,se.W)("startDate","endDate")}),this.isFormValid$=new c.X(!1)}ngOnInit(){this.userService.hasRole(["Super Admin","Nagy Admin"]).subscribe(i=>this.canCreate=i),this.userService.hasRole(["Super Admin","Nagy Admin"]).subscribe(i=>this.canEdit=i),this.userService.hasRole(["Super Admin","Nagy Admin"]).subscribe(i=>this.canDelete=i),this.userService.hasRole(["Szervezo"]).subscribe(i=>this.isOrganizer=i),this.room?.disable({emitEvent:!1}),this.querySub=this.query$.pipe((0,A.U)(()=>this.buildQueryKey()),(0,d.x)(),function te(o,i=m.z){return function X(o){return(0,h.e)((i,t)=>{let n=!1,s=null,l=null,p=!1;const y=()=>{if(l?.unsubscribe(),l=null,n){n=!1;const b=s;s=null,t.next(b)}p&&t.complete()},_=()=>{l=null,p&&t.complete()};i.subscribe((0,f.x)(t,b=>{n=!0,s=b,l||(0,Z.Xf)(o(b)).subscribe(l=(0,f.x)(t,y,_))},()=>{p=!0,(!n||!l||l.closed)&&t.complete()}))})}(()=>(0,ee.H)(o,i))}(50),(0,ne.w)(()=>{this.loading=!0,this.filterValues.conferences=(this.selectedConferences??[]).map(n=>n.id).join(",");const i=Object.keys(this.filterValues).map(n=>this.filterValues[n]?.length?`${n}=${this.filterValues[n]}`:"").filter(Boolean).join("&"),t=this.sortField?{sortField:this.sortField,sortOrder:this.sortOrder}:"";return""!==this.globalFilter?this.reservationService.getBySearch$(this.globalFilter,t):this.reservationService.get$(this.page,this.rowsPerPage,t,i)})).subscribe({next:i=>{this.loading=!1,this.tableData=i?.rows??[],this.totalRecords=i?.totalItems??0,this.page=i?.currentPage??0,this.numberOfBeds=i?.numberOfBeds??0},error:()=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Hiba t\xf6rt\xe9nt!"})}}),this.conference?.valueChanges.pipe(D()).subscribe(i=>{const t=i?.[0];this.reservationForm.patchValue({conference_id:t?.id??null,startDate:t?.beginDate??null,endDate:t?.endDate??null},{emitEvent:!1}),this.roomFilter={...this.roomFilter,conferenceId:t?.id??null},t?(this.room?.reset(null,{emitEvent:!1}),this.room_id?.reset(null,{emitEvent:!1}),this.room?.enable({emitEvent:!1}),this.startDate?.enable({emitEvent:!1}),this.endDate?.enable({emitEvent:!1})):(this.room?.reset(null,{emitEvent:!1}),this.room_id?.reset(null,{emitEvent:!1}),this.room?.disable({emitEvent:!1}),this.startDate?.disable({emitEvent:!1}),this.endDate?.disable({emitEvent:!1}))}),this.room?.valueChanges.pipe(D()).subscribe(i=>{const t=i?.[0];this.reservationForm.patchValue({room_id:t?.id??null},{emitEvent:!1})}),this.responsiveService.isMobile$.subscribe(i=>{this.isMobile=i}),this.isFormValid$=this.formChanges$.pipe((0,oe.b)(300),(0,d.x)(),(0,A.U)(()=>this.reservationForm.valid)),this.serviceMessageObs$=this.reservationService.messageObs,this.conferenceMessageObs$=this.conferenceService.messageObs,this.serviceMessageObs$.subscribe(i=>this.handleMessage(i)),this.conferenceMessageObs$.subscribe(i=>this.handleMessage(i))}get id(){return this.reservationForm.get("id")}get room(){return this.reservationForm.get("room")}get room_id(){return this.reservationForm.get("room_id")}get conference(){return this.reservationForm.get("conference")}get conference_id(){return this.reservationForm.get("conference_id")}get startDate(){return this.reservationForm.get("startDate")}get endDate(){return this.reservationForm.get("endDate")}get status(){return this.reservationForm.get("status")}get notes(){return this.reservationForm.get("notes")}get guestIds(){return this.reservationForm.get("guestIds")}doQuery(){this.query$.next()}onFilter(i,t){if(this.isOrganizer&&0===this.selectedConferences.length)return;let s="";i instanceof Date?s=E(i).format("YYYY.MM.DD"):i&&(i.value||i.target?.value)?(s=i.value||i.target?.value,s=s.toString()):this.filterValues[t]="",this.filterValues[t]=s,["conferenceName","building","bedType","spareBeds"].includes(t)?this.filterValues[t]===s&&this.doQuery():(this.debounce[t]&&clearTimeout(this.debounce[t]),this.debounce[t]=setTimeout(()=>{this.filterValues[t]===s&&this.doQuery()},500))}onLazyLoad(i){this.page=i.first/i.rows,this.rowsPerPage=i.rows??this.rowsPerPage,this.sortField=i.sortField??"",this.sortOrder=-1===i.sortOrder?-1:1,this.globalFilter=i.globalFilter??"",this.doQuery()}onGlobalFilter(i,t){i.filterGlobal(t.target.value,"contains")}create(){this.reservationForm.reset(this.initialFormValues),this.sidebar=!0}edit(i){this.reservationForm.reset(this.initialFormValues),this.preselectConferenceId=void 0,this.reservationForm.patchValue(i,{emitEvent:!1}),setTimeout(()=>{this.preselectConferenceId=i.conference_id??void 0}),this.originalFormValues=this.reservationForm.value,this.sidebar=!0}delete(){this.loading=!0,this.deleteDialog=!1,this.reservationService.delete(this.tableItem)}deleteSelected(){this.loading=!0,this.bulkDeleteDialog=!1,this.reservationService.bulkdelete(this.selected)}save(){if(this.reservationForm.valid){this.loading=!0;console.log("SAVE",this.reservationForm.value),this.sidebar=!1}}cancel(){this.reservationForm.reset(this.originalFormValues)}handleMessage(i){i&&(this.loading=!1,"ERROR"==i?this.messageService.add({severity:"error",summary:"Error",detail:"Hiba t\xf6rt\xe9nt!"}):(this.messageService.add(i),this.tableItem={},this.selected=[],this.doQuery()))}onConfChange(i){this.selectedConferences=i.value,("user"===i.source||"auto-select-first"===i.source)&&(this.tableData=[],this.doQuery())}exportExcel(){r.e(1486).then(r.bind(r,1486)).then(i=>{const t=[{key:"reservationNum",label:"Szoba-sz\xe1m"},{key:"reservationCode",label:"Szoba k\xf3d"},{key:"beds",label:"\xc1gyak sz\xe1ma"},{key:"spareBeds",label:"Matrac / gyerek\xe1gy"},{key:"building",label:"\xc9p\xfclet / folyos\xf3"},{key:"bedType",label:"\xc1gy t\xedpus"},{key:"bathreservation",label:"F\xfcrd\u0151szoba"},{key:"notes",label:"Megjegyz\xe9s"}],s=(this.selected.length>0?this.selected:this.tableData).map(_=>{let b={};return t.forEach(W=>{b[W.label]=_[W.key]??""}),b}),p={Sheets:{data:i.utils.json_to_sheet(s,{header:t.map(_=>_.label)})},SheetNames:["data"]},y=i.write(p,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(y,"reservations")})}saveAsExcelFile(i,t){const l=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});re.saveAs(l,t+"_export_"+E().format("YYYYMMDD")+".xlsx")}fromYMD(i){const[t,n,s]=i.split("-").map(Number);return new Date(t,n-1,s)}toYMD(i){return`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`}buildQueryKey(){const i=(this.selectedConferences??[]).map(n=>n.id).sort().join(","),t=Object.keys(this.filterValues).map(n=>this.filterValues[n]?`${n}=${this.filterValues[n]}`:"").filter(Boolean).join("&");return[this.page,this.rowsPerPage,this.sortField,this.sortOrder,this.globalFilter||"",i,t].join("|")}ngOnDestroy(){}static#e=this.\u0275fac=function(t){return new(t||U)(e.Y36(z),e.Y36(ce.K),e.Y36(de.Z),e.Y36(x.ez),e.Y36(me.k),e.Y36(a.qu))};static#t=this.\u0275cmp=e.Xpm({type:U,selectors:[["reservation-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(w.w,5),2&t){let s;e.iGM(s=e.CRH())&&(n.conferenceSelector=s.first)}},features:[e._Bn([x.ez])],decls:67,vars:58,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-0","py-0"],["dataKey","id","responsiveLayout","scroll","currentPageReportTemplate","{first} - {last} bejegyz\xe9s a(z) {totalRecords}-b\xf3l megjelen\xedt\xe9se","selectionMode","multiple",3,"value","rows","totalRecords","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","tableStyle","rowHover","lazy","selectionChange","onLazyLoad"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["id","sidebar","position","right","styleClass","p-sidebar-md",3,"visible","transitionOptions","fullScreen","blockScroll","visibleChange"],["novalidate","",1,"grid","formgrid","p-fluid",3,"formGroup","ngSubmit"],["formControlName","id","type","hidden"],["formControlName","conference_id","type","hidden"],[1,"field","mb-4","col-12"],["for","conference",1,"font-medium","text-900"],["formControlName","conference","placeholder","V\xe1lasszon konferenci\xe1t...",3,"preselectConferenceId","selectionLimit","showClear"],["class","block p-error",4,"ngIf"],["for","room_id",1,"font-medium","text-900"],["formControlName","room","placeholder","Szoba...",3,"filter","selectionLimit","showClear"],["for","guestIds",1,"font-medium","text-900"],["id","guestIds","type","text","pInputText","","formControlName","guestIds"],[1,"field","mb-4","col-6"],["for","startDate",1,"font-medium","text-900"],["id","startDate","formControlName","startDate","dateFormat","yy-mm-dd","dataType","string","appendTo","body",3,"ngClass"],["class","p-error",4,"ngIf"],["for","endDate",1,"font-medium","text-900"],["id","endDate","formControlName","endDate","dateFormat","yy-mm-dd","dataType","string","appendTo","body",3,"ngClass"],["for","status",1,"font-medium","text-900"],["formControlName","status","placeholder","St\xe1tusz...",3,"showClear"],["for","notes",1,"font-medium","text-900"],["id","notes","type","text","formControlName","notes","pInputTextarea","","rows","5"],["pTemplate","footer"],["header","T\xf6rl\xe9s",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[3,"autoZIndex","blocked"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0"],["placeholder","V\xe1lasszon konferenci\xe1t...",3,"ngModel","emitOnSelectFirstOption","showClear","ngModelChange"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],["tooltipPosition","top",1,"border-round-xl","w-min","p-0",2,"background-color","#E2E8F0",3,"pTooltip"],[1,"flex","align-items-center","justify-content-center","py-1","px-1"],[1,"flex","align-items-center","justify-content-center","gap-2","px-2"],["width","24px","height","24px","viewBox","0 0 24 24","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","fill","#000000"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","ic_fluent_bed_24_filled","fill","#334155","fill-rule","nonzero"],["d","M19.25,11 C20.7125318,11 21.9084043,12.1417046 21.9949812,13.5824777 L22,13.75 L22,20.25 C22,20.6642136 21.6642136,21 21.25,21 C20.8703042,21 20.556509,20.7178461 20.5068466,20.3517706 L20.5,20.25 L20.5,18 L3.5,18 L3.5,20.25 C3.5,20.6296958 3.21784612,20.943491 2.85177056,20.9931534 L2.75,21 C2.37030423,21 2.05650904,20.7178461 2.00684662,20.3517706 L2,20.25 L2,13.75 C2,12.2874682 3.1417046,11.0915957 4.58247767,11.0050188 L4.75,11 L19.25,11 Z M6.75,4 L17.25,4 C18.7125318,4 19.9084043,5.1417046 19.9949812,6.58247767 L20,6.75 L20,10 L17,10 L16.9932723,9.88337887 C16.9399506,9.42429701 16.575703,9.06004937 16.1166211,9.00672773 L16,9 L14,9 C13.4871642,9 13.0644928,9.38604019 13.0067277,9.88337887 L13,10 L11,10 L10.9932723,9.88337887 C10.9399506,9.42429701 10.575703,9.06004937 10.1166211,9.00672773 L10,9 L8,9 C7.48716416,9 7.06449284,9.38604019 7.00672773,9.88337887 L7,10 L4,10 L4,6.75 C4,5.28746816 5.1417046,4.09159572 6.58247767,4.00501879 L6.75,4 Z"],[1,"text-2xl","font-normal","white-space-nowrap","vertical-align-middle"],["pButton","","pRipple","","label","\xdaj","icon","pi pi-plus",1,"p-button-success","mr-2",3,"disabled","click"],["pButton","","pRipple","","label","T\xf6rl\xe9s","icon","pi pi-trash",1,"p-button-danger","mr-2",3,"disabled","click"],["pSortableColumn","roomNum"],["field","roomNum"],["pSortableColumn","guests"],["field","guests"],["pSortableColumn","dateOfArrival"],["field","dateOfArrival"],["pSortableColumn","dateOfDeparture"],["field","dateOfDeparture"],["pSortableColumn","status"],["field","status"],["pSortableColumn","comment"],["field","comment"],["styleClass","w-3rem"],["pInputText","","type","text","placeholder","Szobasz\xe1m...",1,"mr-2",2,"width","8rem",3,"input"],["placeholder","\xc9p\xfclet...",1,"mr-2",3,"showClear","change"],["placeholder","\xc1gytipus...",3,"showClear","change"],["pInputText","","type","text","placeholder","Vend\xe9g...",2,"width","7rem",3,"input"],["appendTo","body","dataType","string","placeholder","Keres\xe9s...",3,"showButtonBar","onSelect","onClearClick"],["placeholder","St\xe1tusz...",3,"showClear","change"],["pInputText","","type","text","placeholder","Keres\xe9s...",2,"width","10rem",3,"input"],[3,"value"],[1,"p-column-title"],[1,"pi","pi-key","vertical-align-middle"],["tooltipPosition","top",1,"text-2xl","font-semibold","white-space-nowrap","vertical-align-middle",3,"pTooltip"],["tooltipPosition","top",1,"block","min-w-max","border-left-1","px-2",3,"pTooltip"],[1,"flex","flex-column","align-items-left","justify-content-center"],[1,"text-base","font-semibold","uppercase"],["class","font-normal text-sm uppercase",4,"ngIf"],["class","pl-1",4,"ngIf"],[1,"font-light","text-xs","uppercase"],[4,"ngIf"],["icon","pi pi-user","size","large","shape","circle","tooltipPosition","top",3,"pTooltip",4,"ngFor","ngForOf"],[2,"max-width","300px"],[1,"calendar-badge"],[1,"pi","pi-calendar","mr-1"],[3,"class",4,"ngIf"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"disabled","click"],[1,"font-normal","text-sm","uppercase"],[1,"pl-1"],["icon","pi pi-user","size","large","shape","circle","tooltipPosition","top",3,"pTooltip"],["tooltipPosition","top",3,"value","showValue","pTooltip"],[1,"text-center"],[1,"font-semibold","text-xl"],[1,"block","p-error"],[1,"p-error"],[1,"flex","justify-content-end","ap-2"],["pButton","","pRipple","","label","M\xe9gsem","icon","pi pi-times",1,"p-button-outlined",3,"disabled","click"],["pButton","","pRipple","","label","Ment\xe9s","icon","pi pi-check",1,"p-button","ml-2",3,"disabled","click"],["pButton","","pRipple","","label","Nem","icon","pi pi-times",1,"p-button-outlined",3,"click"],["pButton","","pRipple","","label","Igen","icon","pi pi-check",1,"p-button","ml-2",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-table",3,4),e.NdJ("selectionChange",function(l){return n.selected=l})("onLazyLoad",function(l){return n.onLazyLoad(l)}),e.YNc(5,Oe,21,10,"ng-template",5),e.YNc(6,Le,39,5,"ng-template",6),e.YNc(7,qe,56,30,"ng-template",7),e.YNc(8,Be,3,1,"ng-template",8),e.qZA()(),e.TgZ(9,"p-sidebar",9),e.NdJ("visibleChange",function(l){return n.sidebar=l}),e.YNc(10,Ge,2,1,"ng-template",6),e.TgZ(11,"form",10),e.NdJ("ngSubmit",function(){return n.save()}),e._UZ(12,"input",11)(13,"input",12),e.TgZ(14,"div",13)(15,"label",14),e._uU(16,"Konferencia"),e.qZA(),e._UZ(17,"app-conference-selector",15),e.YNc(18,He,2,0,"div",16),e.qZA(),e.TgZ(19,"div",13)(20,"label",17),e._uU(21,"Szoba"),e.qZA(),e._UZ(22,"app-room-selector",18),e.YNc(23,Ke,2,0,"div",16),e.qZA(),e.TgZ(24,"div",13)(25,"label",19),e._uU(26,"Vend\xe9g ID"),e.qZA(),e._UZ(27,"input",20),e.YNc(28,Pe,2,0,"div",16),e.qZA(),e.TgZ(29,"div",21)(30,"label",22),e._uU(31),e.ALo(32,"translate"),e.qZA(),e._UZ(33,"p-calendar",23),e.YNc(34,We,3,3,"div",24),e.YNc(35,Xe,3,3,"div",24),e.qZA(),e.TgZ(36,"div",21)(37,"label",25),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"p-calendar",26),e.YNc(41,et,3,3,"div",24),e.YNc(42,tt,3,3,"div",24),e.qZA(),e.TgZ(43,"div",13)(44,"label",27),e._uU(45,"St\xe1tusz"),e.qZA(),e._UZ(46,"app-reservation-status-selector",28),e.YNc(47,nt,2,0,"div",16),e.qZA(),e.TgZ(48,"div",13)(49,"label",29),e._uU(50,"Megjegyz\xe9s"),e.qZA(),e._UZ(51,"textarea",30),e.YNc(52,ot,2,0,"div",16),e.qZA()(),e.YNc(53,it,3,2,"ng-template",31),e.qZA(),e.TgZ(54,"p-dialog",32),e.NdJ("visibleChange",function(l){return n.deleteDialog=l}),e.TgZ(55,"div",33),e._UZ(56,"i",34),e.qZA(),e.YNc(57,st,2,0,"ng-template",31),e.qZA(),e.TgZ(58,"p-dialog",32),e.NdJ("visibleChange",function(l){return n.bulkDeleteDialog=l}),e.TgZ(59,"div",33),e._UZ(60,"i",34),e.TgZ(61,"span"),e._uU(62,"Biztosan t\xf6r\xf6lni akarja a kiv\xe1lasztott foglal\xe1sokat?"),e.qZA()(),e.YNc(63,lt,2,0,"ng-template",31),e.qZA()()(),e.TgZ(64,"p-blockUI",35),e._UZ(65,"p-progressSpinner"),e.qZA(),e._UZ(66,"p-toast")),2&t&&(e.xp6(3),e.Q6J("value",n.tableData)("rows",n.rowsPerPage)("totalRecords",n.totalRecords)("globalFilterFields",e.DdM(50,rt))("paginator",!0)("rowsPerPageOptions",n.rowsPerPageOptions)("showCurrentPageReport",!0)("selection",n.selected)("tableStyle",e.DdM(51,at))("rowHover",!0)("lazy",!0),e.xp6(6),e.Q6J("visible",n.sidebar)("transitionOptions",".3s cubic-bezier(0, 0, 0.2, 1)")("fullScreen",n.isMobile)("blockScroll",!0),e.xp6(2),e.Q6J("formGroup",n.reservationForm),e.xp6(6),e.Q6J("preselectConferenceId",n.preselectConferenceId)("selectionLimit",1)("showClear",!0),e.xp6(1),e.Q6J("ngIf",(null==n.conference?null:n.conference.dirty)&&(null==n.conference||null==n.conference.errors?null:n.conference.errors.required)),e.xp6(4),e.Q6J("filter",n.roomFilter)("selectionLimit",1)("showClear",!0),e.xp6(1),e.Q6J("ngIf",(null==n.room_id?null:n.room_id.dirty)&&(null==n.room_id||null==n.room_id.errors?null:n.room_id.errors.required)),e.xp6(5),e.Q6J("ngIf",(null==n.guestIds?null:n.guestIds.dirty)&&(null==n.guestIds||null==n.guestIds.errors?null:n.guestIds.errors.required)),e.xp6(3),e.hij(" ",e.lcZ(32,46,"\xc9rkez\xe9s d\xe1tuma")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(52,K,null==n.reservationForm.errors?null:n.reservationForm.errors.dateRangeInvalid)),e.xp6(1),e.Q6J("ngIf",(null==n.startDate?null:n.startDate.dirty)&&(null==n.startDate||null==n.startDate.errors?null:n.startDate.errors.required)),e.xp6(1),e.Q6J("ngIf",null==n.reservationForm.errors?null:n.reservationForm.errors.dateRangeInvalid),e.xp6(3),e.hij(" ",e.lcZ(39,48,"T\xe1voz\xe1s d\xe1tuma")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(54,K,null==n.reservationForm.errors?null:n.reservationForm.errors.dateRangeInvalid)),e.xp6(1),e.Q6J("ngIf",(null==n.endDate?null:n.endDate.dirty)&&(null==n.endDate||null==n.endDate.errors?null:n.endDate.errors.required)),e.xp6(1),e.Q6J("ngIf",null==n.reservationForm.errors?null:n.reservationForm.errors.dateRangeInvalid),e.xp6(4),e.Q6J("showClear",!0),e.xp6(1),e.Q6J("ngIf",(null==n.status?null:n.status.dirty)&&(null==n.status||null==n.status.errors?null:n.status.errors.required)),e.xp6(5),e.Q6J("ngIf",(null==n.notes?null:n.notes.dirty)&&(null==n.notes||null==n.notes.errors?null:n.notes.errors.required)),e.xp6(2),e.Akn(e.DdM(56,P)),e.Q6J("visible",n.deleteDialog)("modal",!0),e.xp6(4),e.Akn(e.DdM(57,P)),e.Q6J("visible",n.bulkDeleteDialog)("modal",!0),e.xp6(6),e.Q6J("autoZIndex",!0)("blocked",n.loading))},dependencies:[u.mk,u.sg,u.O5,S.iA,x.jx,S.lQ,S.fz,S.UA,S.Mo,a._Y,a.Fj,a.JJ,a.JL,a.On,a.sg,a.u,N.Hq,O.H,L.FN,J.o,k.V,$.G,j.b,Y.Y,w.w,he.n,ge.p,Ze,ze,F.u,Q.k,q.q,B.H,G.f,H.g,u.uU,R.X$],encapsulation:2})};I=(0,T.gn)([(0,ie.k)()],I);let ut=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[v.Bz.forChild([{path:"",component:I}]),v.Bz]})}return o})();var pt=r(6263),ct=r(9502),dt=r(5609),mt=r(7902),ht=r(1865),gt=r(2169),ft=r(2285);let vt=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({providers:[z],imports:[u.ez,ut,S.U$,a.u5,a.UX,N.hJ,O.T,L.EV,J.j,V.kW,k.S,pt.W,ct.$,$.L,j.u,Y.l,ft.L,dt.Iu,F.z,Q.q,q.F,B.Q,mt.JH,ht.cc,R.aw,G._8,gt.o,H.A]})}return o})()},1116:(M,C,r)=>{function u(a,v){return T=>{const g=T.get(a)?.value,c=T.get(v)?.value;return g&&c&&(new Date(g)>new Date(c)||new Date(c)<new Date(g))?{dateRangeInvalid:!0}:null}}r.d(C,{W:()=>u})},6218:(M,C,r)=>{r.d(C,{A:()=>g,g:()=>T});var u=r(2029),a=r(6814),v=r(6223);let T=(()=>{class c{el;ngModel;control;cd;autoResize;onResize=new u.vpe;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(d,m,h,Z){this.el=d,this.ngModel=m,this.control=h,this.cd=Z}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(d){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(d){this.autoResize&&this.resize(d)}onBlur(d){this.autoResize&&this.resize(d)}resize(d){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(d||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(m){return new(m||c)(u.Y36(u.SBq),u.Y36(v.On,8),u.Y36(v.a5,8),u.Y36(u.sBO))};static \u0275dir=u.lG2({type:c,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(m,h){1&m&&u.NdJ("input",function(f){return h.onInput(f)})("focus",function(f){return h.onFocus(f)})("blur",function(f){return h.onBlur(f)}),2&m&&u.ekj("p-filled",h.filled)("p-inputtextarea-resizable",h.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return c})(),g=(()=>{class c{static \u0275fac=function(m){return new(m||c)};static \u0275mod=u.oAB({type:c});static \u0275inj=u.cJS({imports:[a.ez]})}return c})()}}]);