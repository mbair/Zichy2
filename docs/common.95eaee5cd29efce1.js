"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[8592],{6282:(M,y,i)=>{i.d(y,{N:()=>C});var e=i(2029),h=i(9515);let m=(()=>{class l{constructor(){this.colors=[],this.colors=["black","blue","green","yellow","cyan","pink","indigo","teal","orange","bluegray","purple","red","gray"]}getColors(){return this.colors}getStyleByColor(t){let p=getComputedStyle(document.documentElement),r="black"===t?200:800;return{"background-color":p.getPropertyValue(`--${t}-${"black"===t?800:200}`).trim(),color:p.getPropertyValue(`--${t}-${r}`).trim()}}static#e=this.\u0275fac=function(p){return new(p||l)};static#t=this.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var f=i(6814),T=i(6223),_=i(5219),o=i(2160);function s(l,v){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&l){const t=v.$implicit;e.Q6J("ngClass","color-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",t.label," ")}}function c(l,v){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&l){const t=v.$implicit;e.Q6J("ngClass","color-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function a(l,v){if(1&l){const t=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.handleOnChange(n))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,s,2,2,"ng-template",3),e.YNc(4,c,2,2,"ng-template",4),e.qZA()}if(2&l){const t=v.ngIf,p=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("formControl",t)("options",p.colors)("showClear",p.showClear)}}function d(l,v){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&l){const t=v.$implicit;e.Q6J("ngClass","color-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",t.label," ")}}function g(l,v){if(1&l&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&l){const t=v.$implicit;e.Q6J("ngClass","color-badge "+(null==t?null:t.value)),e.xp6(1),e.hij(" ",null==t?null:t.label," ")}}function u(l,v){if(1&l){const t=e.EpF();e.TgZ(0,"p-dropdown",6),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedColor=n)})("onChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.handleOnChange(n))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,d,2,2,"ng-template",3),e.YNc(4,g,2,2,"ng-template",4),e.qZA()}if(2&l){const t=e.oxw();e.s9C("placeholder",e.lcZ(1,5,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,7,"Nincs tal\xe1lat...")),e.Q6J("ngModel",t.selectedColor)("options",t.colors)("showClear",t.showClear)}}let C=(()=>{class l{constructor(t,p){this.translate=t,this.colorService=p,this.change=new e.vpe,this.colors=[]}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.setColors()})}ngOnChanges(t){this.setColors()}getFormControl(){return this.parentForm&&this.controlName?this.parentForm.get(this.controlName):null}setColors(){this.colors=this.colorService.getColors().map(t=>({label:t,value:t}))}handleOnChange(t){this.change.emit({value:t.value,field:this.controlName})}static#e=this.\u0275fac=function(p){return new(p||l)(e.Y36(h.sK),e.Y36(m))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-color-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",showClear:"showClear"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","label","optionValue","value","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],["optionLabel","label","optionValue","value","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(p,n){if(1&p&&(e.YNc(0,a,5,9,"p-dropdown",0),e.YNc(1,u,5,9,"ng-template",null,1,e.W1O)),2&p){const r=e.MAs(2);e.Q6J("ngIf",n.getFormControl())("ngIfElse",r)}},dependencies:[f.mk,f.O5,T.JJ,T.On,T.oH,_.jx,o.Lt,h.X$],encapsulation:2})}return l})()},9474:(M,y,i)=>{i.d(y,{w:()=>a});var e=i(2029),h=i(6223),m=i(219),f=i(5219),T=i(4055),_=i(9515);const o=["conferenceSelector"];function s(d,g){1&d&&e._uU(0),2&d&&e.hij(" ",g.$implicit.name," ")}function c(d,g){1&d&&e._uU(0),2&d&&e.hij(" ",g.$implicit.name," ")}let a=(()=>{class d{constructor(u){this.conferenceService=u,this.selectFirstOption=!1,this.showClear=!0,this.style={},this.loading=!0,this.disabled=!1,this.conferences=[],this.selectedConferences=[],this.onChange=C=>{},this.onTouched=()=>{}}ngOnInit(){this.conferenceService.getConferencesForSelector().subscribe(u=>{this.conferences=u,this.handleSelectFirstOption()})}handleSelectFirstOption(){!this.selectFirstOption||this.selectedConferences&&0!==this.selectedConferences.length||(this.selectedConferences=this.conferences.slice(0,this.selectionLimit??1),this.onChange(this.selectedConferences))}setDisabledState(u){this.disabled=u}syncSelectedConferences(){this.selectedConferences=this.conferences.filter(u=>this.selectedConferences.some(C=>C.id===u.id)),this.onChange(this.selectedConferences)}onSelectionChange(u){this.selectedConferences=u.value,this.onChange(this.selectedConferences),this.onTouched(),this.selectionLimit==this.selectedConferences.length&&setTimeout(()=>this.conferenceSelectorRef.hide(),0)}onSelectionClear(){this.selectedConferences=[],this.onChange(this.selectedConferences),this.onTouched()}writeValue(u){this.selectedConferences=u||[],this.conferences.length>0&&this.syncSelectedConferences()}registerOnChange(u){this.onChange=u}registerOnTouched(u){this.onTouched=u}static#e=this.\u0275fac=function(C){return new(C||d)(e.Y36(m.Z))};static#t=this.\u0275cmp=e.Xpm({type:d,selectors:[["app-conference-selector"]],viewQuery:function(C,l){if(1&C&&e.Gf(o,5),2&C){let v;e.iGM(v=e.CRH())&&(l.conferenceSelectorRef=v.first)}},inputs:{selectionLimit:"selectionLimit",selectFirstOption:"selectFirstOption",placeholder:"placeholder",showClear:"showClear",style:"style"},features:[e._Bn([{provide:h.JU,useExisting:(0,e.Gpc)(()=>d),multi:!0}])],decls:5,vars:13,consts:[["optionLabel","name","scrollHeight","400px","appendTo","body","display","chip",1,"multiselect-custom-virtual-scroll",3,"options","ngModel","disabled","selectionLimit","placeholder","emptyMessage","virtualScroll","virtualScrollItemSize","showClear","ngModelChange","onChange","onClear"],["conferenceSelector",""],["pTemplate","item"],["pTemplate","selectedItem"]],template:function(C,l){1&C&&(e.TgZ(0,"p-multiSelect",0,1),e.NdJ("ngModelChange",function(t){return l.selectedConferences=t})("onChange",function(t){return l.onSelectionChange(t)})("onClear",function(){return l.onSelectionClear()}),e.ALo(2,"translate"),e.YNc(3,s,1,1,"ng-template",2),e.YNc(4,c,1,1,"ng-template",3),e.qZA()),2&C&&(e.Akn(l.style),e.s9C("emptyMessage",e.lcZ(2,11,"Nincs tal\xe1lat...")),e.Q6J("options",l.conferences)("ngModel",l.selectedConferences)("disabled",l.disabled)("selectionLimit",l.selectionLimit)("placeholder",l.placeholder)("virtualScroll",!0)("virtualScrollItemSize",43)("showClear",l.showClear))},dependencies:[h.JJ,h.On,f.jx,T.NU,_.X$],encapsulation:2})}return d})()},117:(M,y,i)=>{i.d(y,{T:()=>v});var e=i(2029),h=i(1206),m=i(6193),f=i(6814),T=i(6223),_=i(5219),o=i(2160),s=i(9515);function c(t,p){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const n=p.$implicit,r=e.oxw(2);e.Q6J("ngClass",r.getRoleStyleClass(n.user_rolesid)),e.xp6(2),e.hij(" ",n.fullname," ")}}function a(t,p){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const n=p.$implicit,r=e.oxw(2);e.Q6J("ngClass",r.getRoleStyleClass(n.user_rolesid)),e.xp6(2),e.hij(" ",n.fullname," ")}}const d=function(){return{minWidth:"13rem"}};function g(t,p){if(1&t){const n=e.EpF();e.TgZ(0,"p-dropdown",2),e.NdJ("onChange",function(E){e.CHM(n);const S=e.oxw();return e.KtG(S.handleOnChange(E))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,c,3,2,"ng-template",3),e.YNc(4,a,3,2,"ng-template",4),e.qZA()}if(2&t){const n=p.ngIf,r=e.oxw();e.Akn(e.DdM(11,d)),e.s9C("placeholder",e.lcZ(1,7,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,9,"Nincs tal\xe1lat...")),e.Q6J("formControl",n)("options",r.users)("showClear",r.showClear)}}function u(t,p){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const n=p.$implicit,r=e.oxw(2);e.Q6J("ngClass",r.getRoleStyleClass(n.user_rolesid)),e.xp6(2),e.hij(" ",n.fullname," ")}}function C(t,p){if(1&t&&(e.TgZ(0,"span",5),e._UZ(1,"i",6),e._uU(2),e.qZA()),2&t){const n=p.$implicit,r=e.oxw(2);e.Q6J("ngClass",r.getRoleStyleClass(n.user_rolesid)),e.xp6(2),e.hij(" ",null==n?null:n.fullname," ")}}function l(t,p){if(1&t){const n=e.EpF();e.TgZ(0,"p-dropdown",7),e.NdJ("ngModelChange",function(E){e.CHM(n);const S=e.oxw();return e.KtG(S.selecteduser=E)})("onChange",function(E){e.CHM(n);const S=e.oxw();return e.KtG(S.handleOnChange(E))}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.YNc(3,u,3,2,"ng-template",3),e.YNc(4,C,3,2,"ng-template",4),e.qZA()}if(2&t){const n=e.oxw();e.Akn(e.DdM(11,d)),e.s9C("placeholder",e.lcZ(1,7,"V\xe1lasszon...")),e.s9C("emptyMessage",e.lcZ(2,9,"Nincs tal\xe1lat...")),e.Q6J("ngModel",n.selecteduser)("options",n.users)("showClear",n.showClear)}}let v=(()=>{class t{constructor(n,r){this.userService=n,this.roleService=r,this.change=new e.vpe,this.users=[],this.selecteduser="",this.roles=[]}ngOnInit(){this.userService.getUsersForSelector(this.user_rolesid).subscribe({next:n=>{n&&(this.users=this.user_rolesid?n.filter(r=>r.user_rolesid===this.user_rolesid):n,this.fetchRolesForUsers())}})}ngOnChanges(n){}fetchRolesForUsers(){this.roleService.fetchRoles().subscribe({next:n=>{this.roles=n}})}getFormControl(){return this.parentForm?this.parentForm.get(this.controlName):null}handleOnChange(n){this.change.emit({value:n.value,field:this.controlName})}getRoleStyleClass(n){const r=this.roles.find(S=>S.id==n);return`user-role-badge role-${r?r?.name?.trim().toLowerCase().replace(/\s+/g,""):""}`}static#e=this.\u0275fac=function(r){return new(r||t)(e.Y36(h.K),e.Y36(m.N))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-selector"]],inputs:{parentForm:"parentForm",controlName:"controlName",user_rolesid:"user_rolesid",showClear:"showClear"},outputs:{change:"change"},features:[e.TTD],decls:3,vars:2,consts:[["optionLabel","fullname","optionValue","id","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","style","onChange",4,"ngIf","ngIfElse"],["useNgModel",""],["optionLabel","fullname","optionValue","id","appendTo","body",3,"formControl","options","placeholder","emptyMessage","showClear","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[3,"ngClass"],[1,"pi","pi-user","mr-1"],["optionLabel","fullname","optionValue","id","appendTo","body",3,"ngModel","options","placeholder","emptyMessage","showClear","ngModelChange","onChange"]],template:function(r,E){if(1&r&&(e.YNc(0,g,5,12,"p-dropdown",0),e.YNc(1,l,5,12,"ng-template",null,1,e.W1O)),2&r){const S=e.MAs(2);e.Q6J("ngIf",E.getFormControl())("ngIfElse",S)}},dependencies:[f.mk,f.O5,T.JJ,T.On,T.oH,_.jx,o.Lt,s.X$],encapsulation:2})}return t})()},6890:(M,y,i)=>{i.d(y,{L:()=>o});var e=i(2029),h=i(6223),m=i(6814),f=i(5609);const T=function(s){return{"min-height":s}},_=function(s){return{lineHeight:s}};let o=(()=>{class s{constructor(){this.yesText="Igen",this.noText="Nem",this.minHeight="44px",this.lineHeight="44px",this.styleClass="vertical-align-middle",this.value=!1,this.onChange=a=>{},this.onTouched=()=>{}}writeValue(a){this.value="1"===a||"0"!==a&&!!a}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}onValueChange(a){const d=a?"1":"0";this.value=a,this.onChange(d),this.onTouched()}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-yes-no-selector"]],inputs:{yesText:"yesText",noText:"noText",minHeight:"minHeight",lineHeight:"lineHeight",styleClass:"styleClass"},features:[e._Bn([{provide:h.JU,useExisting:(0,e.Gpc)(()=>s),multi:!0}])],decls:4,vars:10,consts:[[1,"flex","align-items-center","vertical-align-middle",3,"ngStyle"],[3,"ngModel","styleClass","ngModelChange"],[1,"pl-2","font-normal","vertical-align-middle"]],template:function(d,g){1&d&&(e.TgZ(0,"div",0)(1,"p-inputSwitch",1),e.NdJ("ngModelChange",function(C){return g.value=C})("ngModelChange",function(C){return g.onValueChange(C)}),e.qZA(),e.TgZ(2,"span",2),e._uU(3),e.qZA()()),2&d&&(e.Q6J("ngStyle",e.VKq(6,T,g.minHeight)),e.xp6(1),e.Akn(e.VKq(8,_,g.lineHeight)),e.Q6J("ngModel",g.value)("styleClass",g.styleClass),e.xp6(2),e.hij(" ",g.value?g.yesText:g.noText," "))},dependencies:[m.PC,h.JJ,h.On,f.Ql],encapsulation:2})}return s})()},3139:(M,y,i)=>{i.d(y,{Q:()=>m});var e=i(8645),h=i(2029);let m=(()=>{class f{constructor(){this.mealChanged=new e.x,this.meals={breakfast:{begin:7,end:10},lunch:{begin:11,end:15},dinner:{begin:17,end:20}},this.checkMealStart(),setInterval(()=>{this.checkMealStart()},2e4)}checkMealStart(){const o=(new Date).getHours();for(const s of Object.keys(this.meals)){const c=this.meals[s];if(o>=c.begin&&o<c.end)return void this.mealChanged.next(s)}}getMealNameByTime(_){const o=_.getHours();for(const s in this.meals){const c=this.meals[s];if(o>=c.begin&&o<=c.end)return this.translateMealName(s)}return"Jelenleg nincs \xe9tkeztet\xe9s"}getMealsForSelector(){let _=[];for(const o in this.meals)_.push(this.translateMealName(o));return _}translateMealName(_){return{breakfast:"reggeli",lunch:"eb\xe9d",dinner:"vacsora"}[_]||_}isOpen(){const _=(new Date).getHours();for(const o in this.meals){const s=this.meals[o];if(_>=s.begin&&_<s.end)return!0}return!1}static#e=this.\u0275fac=function(o){return new(o||f)};static#t=this.\u0275prov=h.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},2835:(M,y,i)=>{i.d(y,{c:()=>f});var e=i(5619),h=i(2029),m=i(8814);let f=(()=>{class T{constructor(o){this.apiService=o,this.apiURL=o.apiURL,this.data$=new e.X(null),this.message$=new e.X(null)}get tagObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(o,s,c,a){let d="";""!==c&&(d=""!=c.sortField?`sort=${c.sortField}&order=${1===c.sortOrder?"ASC":"DESC"}`:"");const g=""!==d&&""!==a?d+"&"+a:""!==d&&""===a?d:""===d&&""!==a?a:"";this.apiService.get(`rfid/get/${o}/${s}${""!==g?"?"+g:""}`).subscribe({next:C=>{let l=C.rows;l&&l.length>0&&l.forEach(v=>{v.identifier=v.rfid}),this.data$.next(C)},error:C=>{this.message$.next(C)}})}getBySearch(o,s){let c="";""!==s&&(c=""!=s.sortField?`?sort=${s.sortField}&order=${1===s.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`rfid/search/${o}${c}`).subscribe({next:a=>{let d=a.rows;d&&d.length>0&&d.forEach(g=>{g.identifier=g.rfid}),this.data$.next(a)},error:a=>{this.message$.next(a)}})}getBySearchQuery(o){this.apiService.get(`rfid/searchquery?${o}`).subscribe({next:s=>{let c=s.rows;c&&c.length>0&&c.forEach(a=>{a.identifier=a.rfid}),this.data$.next(s)},error:s=>{this.message$.next(s)}})}create(o){this.apiService.post("rfid/create/",o).subscribe({next:s=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke r\xf6gz\xedt\xe9s",detail:`${o.rfid} r\xf6gz\xedtve`})},error:s=>{this.message$.next(s)}})}update(o){this.apiService.put(`rfid/update/${o.id}`,o).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke m\xf3dos\xedt\xe1s",detail:`${o.rfid} m\xf3dos\xedtva`})},error:s=>{this.message$.next(s)}})}delete(o){this.apiService.delete(`rfid/delete/${o.id}`).subscribe({next:s=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${o.rfid} t\xf6r\xf6lve`})},error:s=>{this.message$.next(s)}})}bulkdelete(o){let s={ids:o.map(c=>c.id)};this.apiService.post("rfid/bulkdelete",s).subscribe({next:c=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${o.length} c\xedmke t\xf6r\xf6lve`})},error:c=>{this.message$.next(c)}})}getByRFID(o){return this.apiService.get(`rfid/search/${o}`)}static#e=this.\u0275fac=function(s){return new(s||T)(h.LFG(m.s))};static#t=this.\u0275prov=h.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})()},1836:(M,y,i)=>{function e(){return h=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(h.value)?null:{invalidEmail:{value:h.value}}}i.d(y,{u:()=>e})},8842:(M,y,i)=>{function e(){return h=>{const m=h.get("password"),f=h.get("password_again");return m&&f&&m.value!==f.value?{passwordsDoNotMatch:!0}:null}}i.d(y,{C:()=>e})},4532:(M,y,i)=>{i.d(y,{d:()=>v});var e=i(6814),h=i(2029),m=i(5219);let v=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=h.oAB({type:t});static \u0275inj=h.cJS({imports:[e.ez,m.m8]})}return t})()},1913:(M,y,i)=>{i.d(y,{h:()=>f,l:()=>T});var e=i(6814),h=i(2029),m=i(2076);let f=(()=>{class _{el;renderer;zone;constructor(s,c,a){this.el=s,this.renderer=c,this.zone=a}selector;enterClass;enterActiveClass;enterToClass;leaveClass;leaveActiveClass;leaveToClass;hideOnOutsideClick;toggleClass;hideOnEscape;eventListener;documentClickListener;documentKeydownListener;target;enterListener;leaveListener;animating;clickListener(){this.target=this.resolveTarget(),this.toggleClass?this.toggle():null===this.target.offsetParent?this.enter():this.leave()}toggle(){m.p.hasClass(this.target,this.toggleClass)?m.p.removeClass(this.target,this.toggleClass):m.p.addClass(this.target,this.toggleClass)}enter(){this.enterActiveClass?this.animating||(this.animating=!0,"slidedown"===this.enterActiveClass&&(this.target.style.height="0px",m.p.removeClass(this.target,"hidden"),this.target.style.maxHeight=this.target.scrollHeight+"px",m.p.addClass(this.target,"hidden"),this.target.style.height=""),m.p.addClass(this.target,this.enterActiveClass),this.enterClass&&m.p.removeClass(this.target,this.enterClass),this.enterListener=this.renderer.listen(this.target,"animationend",()=>{m.p.removeClass(this.target,this.enterActiveClass),this.enterToClass&&m.p.addClass(this.target,this.enterToClass),this.enterListener&&this.enterListener(),"slidedown"===this.enterActiveClass&&(this.target.style.maxHeight=""),this.animating=!1})):(this.enterClass&&m.p.removeClass(this.target,this.enterClass),this.enterToClass&&m.p.addClass(this.target,this.enterToClass)),this.hideOnOutsideClick&&this.bindDocumentClickListener(),this.hideOnEscape&&this.bindDocumentKeydownListener()}leave(){this.leaveActiveClass?this.animating||(this.animating=!0,m.p.addClass(this.target,this.leaveActiveClass),this.leaveClass&&m.p.removeClass(this.target,this.leaveClass),this.leaveListener=this.renderer.listen(this.target,"animationend",()=>{m.p.removeClass(this.target,this.leaveActiveClass),this.leaveToClass&&m.p.addClass(this.target,this.leaveToClass),this.leaveListener&&this.leaveListener(),this.animating=!1})):(this.leaveClass&&m.p.removeClass(this.target,this.leaveClass),this.leaveToClass&&m.p.addClass(this.target,this.leaveToClass)),this.hideOnOutsideClick&&this.unbindDocumentClickListener(),this.hideOnEscape&&this.unbindDocumentKeydownListener()}resolveTarget(){if(this.target)return this.target;switch(this.selector){case"@next":return this.el.nativeElement.nextElementSibling;case"@prev":return this.el.nativeElement.previousElementSibling;case"@parent":return this.el.nativeElement.parentElement;case"@grandparent":return this.el.nativeElement.parentElement.parentElement;default:return document.querySelector(this.selector)}}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"click",s=>{this.isVisible()&&"static"!==getComputedStyle(this.target).getPropertyValue("position")?this.isOutsideClick(s)&&this.leave():this.unbindDocumentClickListener()}))}bindDocumentKeydownListener(){this.documentKeydownListener||this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"keydown",s=>{const{key:c,keyCode:a,which:d}=s;(!this.isVisible()||"static"===getComputedStyle(this.target).getPropertyValue("position"))&&this.unbindDocumentKeydownListener(),this.isVisible()&&"Escape"===c&&27===a&&27===d&&this.leave()})})}isVisible(){return null!==this.target.offsetParent}isOutsideClick(s){return!this.el.nativeElement.isSameNode(s.target)&&!this.el.nativeElement.contains(s.target)&&!this.target.contains(s.target)}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}unbindDocumentKeydownListener(){this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}ngOnDestroy(){this.target=null,this.eventListener&&this.eventListener(),this.unbindDocumentClickListener(),this.unbindDocumentKeydownListener()}static \u0275fac=function(c){return new(c||_)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.R0b))};static \u0275dir=h.lG2({type:_,selectors:[["","pStyleClass",""]],hostAttrs:[1,"p-element"],hostBindings:function(c,a){1&c&&h.NdJ("click",function(g){return a.clickListener(g)})},inputs:{selector:["pStyleClass","selector"],enterClass:"enterClass",enterActiveClass:"enterActiveClass",enterToClass:"enterToClass",leaveClass:"leaveClass",leaveActiveClass:"leaveActiveClass",leaveToClass:"leaveToClass",hideOnOutsideClick:"hideOnOutsideClick",toggleClass:"toggleClass",hideOnEscape:"hideOnEscape"}})}return _})(),T=(()=>{class _{static \u0275fac=function(c){return new(c||_)};static \u0275mod=h.oAB({type:_});static \u0275inj=h.cJS({imports:[e.ez]})}return _})()}}]);