"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[1246],{746:(E,v,l)=>{l.d(v,{Q:()=>a});var d=l(5619),e=l(9397),m=l(6306),g=l(2096),b=l(2029),h=l(8814);let a=(()=>{class i{constructor(c){this.apiService=c,this.apiURL=c.apiURL,this.guestData$=new d.X(null),this.serviceMessage$=new d.X(null)}get guestObs(){return this.guestData$.asObservable()}get serviceMessageObs(){return this.serviceMessage$.asObservable()}getGuests(c,o,u,_){let f="";""!==u&&(f=""!=u.sortField?`sort=${u.sortField}&order=${1===u.sortOrder?"ASC":"DESC"}`:"");const y=""!==f&&""!==_?f+"&"+_:""!==f&&""===_?f:""===f&&""!==_?_:"";this.apiService.get(`guest/get/${c}/${o}${""!==y?"?"+y:""}`).subscribe({next:M=>{this.guestData$.next(M)},error:M=>{this.serviceMessage$.next(M)}})}getGuestsBySearch(c,o){let u="";""!==o&&(u=""!=o.sortField?`?sort=${o.sortField}&order=${1===o.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`guest/search/${c}${u}`).subscribe({next:_=>{this.guestData$.next(_)},error:_=>{this.serviceMessage$.next(_)}})}getGuestsBySearchQuery(c){this.apiService.get(`guest/searchquery?${c}`).subscribe({next:o=>{this.guestData$.next(o)},error:o=>{this.serviceMessage$.next(o)}})}getByRFID(c){return this.apiService.get(`guest/getbyrfid/${c}`)}createGuest(c){this.apiService.post("guest/create/",c).subscribe({next:o=>{this.serviceMessage$.next("success")},error:o=>{this.serviceMessage$.next(o)}})}updateGuest(c){this.apiService.put(`guest/update/${c.id}`,c).subscribe({next:()=>{this.serviceMessage$.next("success")},error:o=>{this.serviceMessage$.next(o)}})}updateGuest2(c){return this.apiService.put(`guest/update/${c.id}`,c).pipe((0,e.b)(()=>console.log(`updated guest id=${c.id}`)),(0,m.K)(this.handleError("updateGuest2")))}deleteGuest(c){this.apiService.delete(`guest/delete/${c.id}`).subscribe({next:o=>{this.serviceMessage$.next(o)},error:o=>{this.serviceMessage$.next(o)}})}deleteGuests(c){let o={ids:c.map(u=>u.id)};this.apiService.post("guest/bulkdelete",o).subscribe({next:u=>{this.serviceMessage$.next(u)},error:u=>{this.serviceMessage$.next(u)}})}handleError(c="operation",o){return u=>(console.error(u),console.error(`${c} failed: ${u.message}`),(0,g.of)(o))}static#e=this.\u0275fac=function(o){return new(o||i)(b.LFG(h.s))};static#t=this.\u0275prov=b.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},3763:(E,v,l)=>{l.d(v,{$:()=>g});var d=l(5619),e=l(2029),m=l(9862);let g=(()=>{class b{constructor(a){this.http=a,this.API="https://nfcreserve.hu/api/bedtype",this.logData$=new d.X(null),this.serviceMessage$=new d.X(null)}get logObs(){return this.logData$.asObservable()}get serviceMessageObs(){return this.serviceMessage$.asObservable()}getLogs(){this.http.get(this.API+"/get/0/9999",{observe:"response",responseType:"json"}).subscribe({next:a=>{this.logData$.next(a.body.rows)},error:a=>{this.serviceMessage$.next(a)}})}createLog(a){this.http.post(this.API+"/create/",a,{observe:"response",responseType:"json"}).subscribe({next:i=>{this.serviceMessage$.next("success")},error:i=>{this.serviceMessage$.next(i)}})}updateLog(a){this.http.put(this.API+"/update/"+a.id,a,{observe:"response",responseType:"json"}).subscribe({next:i=>{this.serviceMessage$.next("success")},error:i=>{this.serviceMessage$.next(i)}})}deleteLog(a){this.http.delete(this.API+"/delete/"+a.id,{observe:"response",responseType:"json"}).subscribe({next:i=>{this.serviceMessage$.next(i)},error:i=>{this.serviceMessage$.next(i)}})}static#e=this.\u0275fac=function(i){return new(i||b)(e.LFG(m.eN))};static#t=this.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},3139:(E,v,l)=>{l.d(v,{Q:()=>m});var d=l(8645),e=l(2029);let m=(()=>{class g{constructor(){this.mealChanged=new d.x,this.meals={breakfast:{begin:7,end:10},lunch:{begin:11,end:15},dinner:{begin:17,end:20}},this.checkMealStart(),setInterval(()=>{this.checkMealStart()},2e4)}checkMealStart(){const a=(new Date).getHours();for(const i of Object.keys(this.meals)){const k=this.meals[i];if(a>=k.begin&&a<k.end)return void this.mealChanged.next(i)}}getMealNameByTime(h){const a=h.getHours();for(const i in this.meals){const k=this.meals[i];if(a>=k.begin&&a<=k.end)return this.translateMealName(i)}return"Jelenleg nincs \xe9tkeztet\xe9s"}getMealsForSelector(){let h=[];for(const a in this.meals)h.push(this.translateMealName(a));return h}translateMealName(h){return{breakfast:"reggeli",lunch:"eb\xe9d",dinner:"vacsora"}[h]||h}isOpen(){const h=(new Date).getHours();for(const a in this.meals){const i=this.meals[a];if(h>=i.begin&&h<i.end)return!0}return!1}static#e=this.\u0275fac=function(a){return new(a||g)};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},8057:(E,v,l)=>{l.d(v,{XZ:()=>D,nD:()=>P});var d=l(6814),e=l(2029),m=l(6223),g=l(2332),b=l(5219),h=l(2591);const a=["cb"];function i(s,p){if(1&s&&e._UZ(0,"span",10),2&s){const t=e.oxw(3);e.Q6J("ngClass",t.checkboxIcon)}}function k(s,p){1&s&&e._UZ(0,"CheckIcon",11),2&s&&e.Q6J("styleClass","p-checkbox-icon")}function c(s,p){if(1&s&&(e.ynx(0),e.YNc(1,i,1,1,"span",8),e.YNc(2,k,1,1,"CheckIcon",9),e.BQk()),2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.checkboxIcon),e.xp6(1),e.Q6J("ngIf",!t.checkboxIcon)}}function o(s,p){}function u(s,p){1&s&&e.YNc(0,o,0,0,"ng-template")}function _(s,p){if(1&s&&(e.TgZ(0,"span",12),e.YNc(1,u,1,0,null,13),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.checkboxIconTemplate)}}function f(s,p){if(1&s&&(e.ynx(0),e.YNc(1,c,3,2,"ng-container",5),e.YNc(2,_,2,1,"span",7),e.BQk()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.checkboxIconTemplate),e.xp6(1),e.Q6J("ngIf",t.checkboxIconTemplate)}}const y=function(s,p,t){return{"p-checkbox-label":!0,"p-checkbox-label-active":s,"p-disabled":p,"p-checkbox-label-focus":t}};function I(s,p){if(1&s){const t=e.EpF();e.TgZ(0,"label",14),e.NdJ("click",function(n){e.CHM(t);const x=e.oxw(),C=e.MAs(3);return e.KtG(x.onClick(n,C,!0))}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Tol(t.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,y,t.checked(),t.disabled,t.focused)),e.uIk("for",t.inputId),e.xp6(1),e.Oqu(t.label)}}const M=function(s,p,t){return{"p-checkbox p-component":!0,"p-checkbox-checked":s,"p-checkbox-disabled":p,"p-checkbox-focused":t}},T=function(s,p,t){return{"p-highlight":s,"p-disabled":p,"p-focus":t}},$={provide:m.JU,useExisting:(0,e.Gpc)(()=>D),multi:!0};let D=(()=>{class s{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new e.vpe;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(t){this.cd=t}ngAfterContentInit(){this.templates.forEach(t=>{"icon"===t.getType()&&(this.checkboxIconTemplate=t.template)})}onClick(t,r,n){t.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(t),n&&r.focus())}updateModel(t){let r;this.binary?(r=this.checked()?this.falseValue:this.trueValue,this.model=r,this.onModelChange(r)):(r=this.checked()?this.model.filter(n=>!g.gb.equals(n,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(r),this.model=r,this.formControl&&this.formControl.setValue(r)),this.onChange.emit({checked:r,originalEvent:t})}handleChange(t){this.readonly||this.updateModel(t)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild?.nativeElement.focus()}writeValue(t){this.model=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:g.gb.contains(this.value,this.model)}static \u0275fac=function(r){return new(r||s)(e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:s,selectors:[["p-checkbox"]],contentQueries:function(r,n,x){if(1&r&&e.Suo(x,b.jx,4),2&r){let C;e.iGM(C=e.CRH())&&(n.templates=C)}},viewQuery:function(r,n){if(1&r&&e.Gf(a,5),2&r){let x;e.iGM(x=e.CRH())&&(n.inputViewChild=x.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[e._Bn([$])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(r,n){if(1&r){const x=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("change",function(O){return n.handleChange(O)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(O){e.CHM(x);const A=e.MAs(3);return e.KtG(n.onClick(O,A,!0))}),e.YNc(5,f,3,2,"ng-container",5),e.qZA()(),e.YNc(6,I,2,9,"label",6)}2&r&&(e.Tol(n.styleClass),e.Q6J("ngStyle",n.style)("ngClass",e.kEZ(18,M,n.checked(),n.disabled,n.focused)),e.xp6(2),e.Q6J("readonly",n.readonly)("value",n.value)("checked",n.checked())("disabled",n.disabled),e.uIk("id",n.inputId)("name",n.name)("tabindex",n.tabindex)("aria-labelledby",n.ariaLabelledBy)("aria-label",n.ariaLabel)("aria-checked",n.checked())("required",n.required),e.xp6(2),e.Q6J("ngClass",e.kEZ(22,T,n.checked(),n.disabled,n.focused)),e.xp6(1),e.Q6J("ngIf",n.checked()),e.xp6(1),e.Q6J("ngIf",n.label))},dependencies:function(){return[d.mk,d.O5,d.tP,d.PC,h.n]},styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0})}return s})(),P=(()=>{class s{static \u0275fac=function(r){return new(r||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({imports:[d.ez,h.n,b.m8]})}return s})()}}]);