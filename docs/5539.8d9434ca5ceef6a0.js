"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[5539],{746:(I,T,r)=>{r.d(T,{Q:()=>D});var _=r(5619),e=r(9397),d=r(6306),b=r(2096),x=r(2029),g=r(8814);let D=(()=>{class h{constructor(s){this.apiService=s,this.apiURL=s.apiURL,this.guestData$=new _.X(null),this.createdGuest$=new _.X(null),this.serviceMessage$=new _.X(null),this.message$=new _.X(null)}get guestObs(){return this.guestData$.asObservable()}get createdGuestObs(){return this.createdGuest$.asObservable()}get serviceMessageObs(){return this.serviceMessage$.asObservable()}getGuests(s,n,c,u){let v="";""!==c&&(v=""!=c.sortField?`sort=${c.sortField}&order=${1===c.sortOrder?"ASC":"DESC"}`:"");const O=""!==v&&""!==u?v+"&"+u:""!==v&&""===u?v:""===v&&""!==u?u:"";this.apiService.get(`guest/get/${s}/${n}${""!==O?"?"+O:""}`).subscribe({next:a=>{this.guestData$.next(a)},error:a=>{this.serviceMessage$.next(a)}})}getGuestsBySearch(s,n){let c="";""!==n&&(c=""!=n.sortField?`?sort=${n.sortField}&order=${1===n.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`guest/search/${s}${c}`).subscribe({next:u=>{this.guestData$.next(u)},error:u=>{this.serviceMessage$.next(u)}})}getGuestsBySearchQuery(s){this.apiService.get(`guest/searchquery?${s}`).subscribe({next:n=>{this.guestData$.next(n)},error:n=>{this.serviceMessage$.next(n)}})}getByRFID(s){return this.apiService.get(`guest/getbyrfid/${s}`)}updateLastTagUsage(s){this.apiService.get(`guest/updatelasttagusage/${s}`).subscribe({next:n=>{},error:n=>{this.serviceMessage$.next(n)}})}createGuest(s,n){const c=new FormData;if(c.append("guest",JSON.stringify(s)),n&&n.length>0)for(const u of n){if(!u)return;c.append("idcard",u,u.name)}this.apiService.post("guest/create/",c).subscribe({next:u=>{this.createdGuest$.next(u),this.serviceMessage$.next("success")},error:u=>{this.serviceMessage$.next(u)}})}updateGuest(s){this.apiService.put(`guest/update/${s.id}`,s).subscribe({next:()=>{this.serviceMessage$.next("success")},error:n=>{this.serviceMessage$.next(n)}})}updateGuest2(s){return this.apiService.put(`guest/update/${s.id}`,s).pipe((0,e.b)(()=>console.log(`updated guest id=${s.id}`)),(0,d.K)(this.handleError("updateGuest2")))}delete(s){this.apiService.delete(`guest/delete/${s.id}`).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres vend\xe9g t\xf6rl\xe9s",detail:`${s.lastName} ${s.firstName} t\xf6r\xf6lve`})},error:n=>{this.message$.next(n)}})}bulkdelete(s){let n={ids:s.map(c=>c.id)};this.apiService.post("guest/bulkdelete",n).subscribe({next:c=>{this.message$.next({severity:"success",summary:"Sikeres szoba t\xf6rl\xe9s",detail:`${s.length} vend\xe9g t\xf6r\xf6lve`})},error:c=>{this.message$.next(c)}})}handleError(s="operation",n){return c=>(console.error(c),console.error(`${s} failed: ${c.message}`),(0,b.of)(n))}static#e=this.\u0275fac=function(n){return new(n||h)(x.LFG(g.s))};static#t=this.\u0275prov=x.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},4532:(I,T,r)=>{r.d(T,{d:()=>M});var _=r(6814),e=r(2029),d=r(5219);let M=(()=>{class a{static \u0275fac=function(E){return new(E||a)};static \u0275mod=e.oAB({type:a});static \u0275inj=e.cJS({imports:[_.ez,d.m8]})}return a})()},8057:(I,T,r)=>{r.d(T,{XZ:()=>E,nD:()=>L});var _=r(6814),e=r(2029),d=r(6223),b=r(2332),x=r(5219),g=r(2591);const D=["cb"];function h(i,m){if(1&i&&e._UZ(0,"span",10),2&i){const t=e.oxw(3);e.Q6J("ngClass",t.checkboxIcon)}}function f(i,m){1&i&&e._UZ(0,"CheckIcon",11),2&i&&e.Q6J("styleClass","p-checkbox-icon")}function s(i,m){if(1&i&&(e.ynx(0),e.YNc(1,h,1,1,"span",8),e.YNc(2,f,1,1,"CheckIcon",9),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.checkboxIcon),e.xp6(1),e.Q6J("ngIf",!t.checkboxIcon)}}function n(i,m){}function c(i,m){1&i&&e.YNc(0,n,0,0,"ng-template")}function u(i,m){if(1&i&&(e.TgZ(0,"span",12),e.YNc(1,c,1,0,null,13),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.checkboxIconTemplate)}}function v(i,m){if(1&i&&(e.ynx(0),e.YNc(1,s,3,2,"ng-container",5),e.YNc(2,u,2,1,"span",7),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.checkboxIconTemplate),e.xp6(1),e.Q6J("ngIf",t.checkboxIconTemplate)}}const O=function(i,m,t){return{"p-checkbox-label":!0,"p-checkbox-label-active":i,"p-disabled":m,"p-checkbox-label-focus":t}};function M(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"label",14),e.NdJ("click",function(l){e.CHM(t);const y=e.oxw(),k=e.MAs(3);return e.KtG(y.onClick(l,k,!0))}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw();e.Tol(t.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,O,t.checked(),t.disabled,t.focused)),e.uIk("for",t.inputId),e.xp6(1),e.Oqu(t.label)}}const a=function(i,m,t){return{"p-checkbox p-component":!0,"p-checkbox-checked":i,"p-checkbox-disabled":m,"p-checkbox-focused":t}},C=function(i,m,t){return{"p-highlight":i,"p-disabled":m,"p-focus":t}},p={provide:d.JU,useExisting:(0,e.Gpc)(()=>E),multi:!0};let E=(()=>{class i{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new e.vpe;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(t){this.cd=t}ngAfterContentInit(){this.templates.forEach(t=>{"icon"===t.getType()&&(this.checkboxIconTemplate=t.template)})}onClick(t,o,l){t.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(t),l&&o.focus())}updateModel(t){let o;this.binary?(o=this.checked()?this.falseValue:this.trueValue,this.model=o,this.onModelChange(o)):(o=this.checked()?this.model.filter(l=>!b.gb.equals(l,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(o),this.model=o,this.formControl&&this.formControl.setValue(o)),this.onChange.emit({checked:o,originalEvent:t})}handleChange(t){this.readonly||this.updateModel(t)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild?.nativeElement.focus()}writeValue(t){this.model=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:b.gb.contains(this.value,this.model)}static \u0275fac=function(o){return new(o||i)(e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:i,selectors:[["p-checkbox"]],contentQueries:function(o,l,y){if(1&o&&e.Suo(y,x.jx,4),2&o){let k;e.iGM(k=e.CRH())&&(l.templates=k)}},viewQuery:function(o,l){if(1&o&&e.Gf(D,5),2&o){let y;e.iGM(y=e.CRH())&&(l.inputViewChild=y.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[e._Bn([p])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(o,l){if(1&o){const y=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),e.NdJ("focus",function(){return l.onFocus()})("blur",function(){return l.onBlur()})("change",function(S){return l.handleChange(S)}),e.qZA()(),e.TgZ(4,"div",4),e.NdJ("click",function(S){e.CHM(y);const A=e.MAs(3);return e.KtG(l.onClick(S,A,!0))}),e.YNc(5,v,3,2,"ng-container",5),e.qZA()(),e.YNc(6,M,2,9,"label",6)}2&o&&(e.Tol(l.styleClass),e.Q6J("ngStyle",l.style)("ngClass",e.kEZ(18,a,l.checked(),l.disabled,l.focused)),e.xp6(2),e.Q6J("readonly",l.readonly)("value",l.value)("checked",l.checked())("disabled",l.disabled),e.uIk("id",l.inputId)("name",l.name)("tabindex",l.tabindex)("aria-labelledby",l.ariaLabelledBy)("aria-label",l.ariaLabel)("aria-checked",l.checked())("required",l.required),e.xp6(2),e.Q6J("ngClass",e.kEZ(22,C,l.checked(),l.disabled,l.focused)),e.xp6(1),e.Q6J("ngIf",l.checked()),e.xp6(1),e.Q6J("ngIf",l.label))},dependencies:function(){return[_.mk,_.O5,_.tP,_.PC,g.n]},styles:[".p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}\n"],encapsulation:2,changeDetection:0})}return i})(),L=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[_.ez,g.n,x.m8]})}return i})()},1913:(I,T,r)=>{r.d(T,{h:()=>b,l:()=>x});var _=r(6814),e=r(2029),d=r(2076);let b=(()=>{class g{el;renderer;zone;constructor(h,f,s){this.el=h,this.renderer=f,this.zone=s}selector;enterClass;enterActiveClass;enterToClass;leaveClass;leaveActiveClass;leaveToClass;hideOnOutsideClick;toggleClass;hideOnEscape;eventListener;documentClickListener;documentKeydownListener;target;enterListener;leaveListener;animating;clickListener(){this.target=this.resolveTarget(),this.toggleClass?this.toggle():null===this.target.offsetParent?this.enter():this.leave()}toggle(){d.p.hasClass(this.target,this.toggleClass)?d.p.removeClass(this.target,this.toggleClass):d.p.addClass(this.target,this.toggleClass)}enter(){this.enterActiveClass?this.animating||(this.animating=!0,"slidedown"===this.enterActiveClass&&(this.target.style.height="0px",d.p.removeClass(this.target,"hidden"),this.target.style.maxHeight=this.target.scrollHeight+"px",d.p.addClass(this.target,"hidden"),this.target.style.height=""),d.p.addClass(this.target,this.enterActiveClass),this.enterClass&&d.p.removeClass(this.target,this.enterClass),this.enterListener=this.renderer.listen(this.target,"animationend",()=>{d.p.removeClass(this.target,this.enterActiveClass),this.enterToClass&&d.p.addClass(this.target,this.enterToClass),this.enterListener&&this.enterListener(),"slidedown"===this.enterActiveClass&&(this.target.style.maxHeight=""),this.animating=!1})):(this.enterClass&&d.p.removeClass(this.target,this.enterClass),this.enterToClass&&d.p.addClass(this.target,this.enterToClass)),this.hideOnOutsideClick&&this.bindDocumentClickListener(),this.hideOnEscape&&this.bindDocumentKeydownListener()}leave(){this.leaveActiveClass?this.animating||(this.animating=!0,d.p.addClass(this.target,this.leaveActiveClass),this.leaveClass&&d.p.removeClass(this.target,this.leaveClass),this.leaveListener=this.renderer.listen(this.target,"animationend",()=>{d.p.removeClass(this.target,this.leaveActiveClass),this.leaveToClass&&d.p.addClass(this.target,this.leaveToClass),this.leaveListener&&this.leaveListener(),this.animating=!1})):(this.leaveClass&&d.p.removeClass(this.target,this.leaveClass),this.leaveToClass&&d.p.addClass(this.target,this.leaveToClass)),this.hideOnOutsideClick&&this.unbindDocumentClickListener(),this.hideOnEscape&&this.unbindDocumentKeydownListener()}resolveTarget(){if(this.target)return this.target;switch(this.selector){case"@next":return this.el.nativeElement.nextElementSibling;case"@prev":return this.el.nativeElement.previousElementSibling;case"@parent":return this.el.nativeElement.parentElement;case"@grandparent":return this.el.nativeElement.parentElement.parentElement;default:return document.querySelector(this.selector)}}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"click",h=>{this.isVisible()&&"static"!==getComputedStyle(this.target).getPropertyValue("position")?this.isOutsideClick(h)&&this.leave():this.unbindDocumentClickListener()}))}bindDocumentKeydownListener(){this.documentKeydownListener||this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"keydown",h=>{const{key:f,keyCode:s,which:n}=h;(!this.isVisible()||"static"===getComputedStyle(this.target).getPropertyValue("position"))&&this.unbindDocumentKeydownListener(),this.isVisible()&&"Escape"===f&&27===s&&27===n&&this.leave()})})}isVisible(){return null!==this.target.offsetParent}isOutsideClick(h){return!this.el.nativeElement.isSameNode(h.target)&&!this.el.nativeElement.contains(h.target)&&!this.target.contains(h.target)}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}unbindDocumentKeydownListener(){this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}ngOnDestroy(){this.target=null,this.eventListener&&this.eventListener(),this.unbindDocumentClickListener(),this.unbindDocumentKeydownListener()}static \u0275fac=function(f){return new(f||g)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b))};static \u0275dir=e.lG2({type:g,selectors:[["","pStyleClass",""]],hostAttrs:[1,"p-element"],hostBindings:function(f,s){1&f&&e.NdJ("click",function(c){return s.clickListener(c)})},inputs:{selector:["pStyleClass","selector"],enterClass:"enterClass",enterActiveClass:"enterActiveClass",enterToClass:"enterToClass",leaveClass:"leaveClass",leaveActiveClass:"leaveActiveClass",leaveToClass:"leaveToClass",hideOnOutsideClick:"hideOnOutsideClick",toggleClass:"toggleClass",hideOnEscape:"hideOnEscape"}})}return g})(),x=(()=>{class g{static \u0275fac=function(f){return new(f||g)};static \u0275mod=e.oAB({type:g});static \u0275inj=e.cJS({imports:[_.ez]})}return g})()}}]);