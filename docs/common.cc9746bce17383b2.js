"use strict";(self.webpackChunknfc_reserve=self.webpackChunknfc_reserve||[]).push([[8592],{7744:(y,f,l)=>{l.d(f,{T:()=>_});var p=l(7398),c=l(2029),o=l(9862);let _=(()=>{class m{constructor(i){this.http=i}getCountries(){return this.http.get("assets/demo/data/countries.json").pipe((0,p.U)(i=>i.data))}static#e=this.\u0275fac=function(t){return new(t||m)(c.LFG(o.eN))};static#t=this.\u0275prov=c.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},7159:(y,f,l)=>{l.d(f,{F:()=>C});var p=l(5619),c=l(2096),o=l(7398),_=l(2029),m=l(8814);let C=(()=>{class i{constructor(e){this.apiService=e,this.cache=[],this.apiURL=e.apiURL,this.data$=new p.X(null),this.message$=new p.X(null)}get dietObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(e,s,n,h){let x="";""!==n&&(x=""!=n.sortField?`sort=${n.sortField}&order=${1===n.sortOrder?"ASC":"DESC"}`:"");const u=""!==x&&""!==h?x+"&"+h:""!==x&&""===h?x:""===x&&""!==h?h:"";this.apiService.get(`diet/get/${e}/${s}${""!==u?"?"+u:""}`).subscribe({next:d=>{d&&d.rows&&d.rows.map(a=>{a.name=a.name?.toLowerCase()}),this.data$.next(d)},error:d=>{this.message$.next(d)}})}getBySearch(e,s){let n="";""!==s&&(n=""!=s.sortField?`?sort=${s.sortField}&order=${1===s.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`diet/search/${e}${n}`).subscribe({next:h=>{this.data$.next(h)},error:h=>{this.message$.next(h)}})}getBySearchQuery(e){this.apiService.get(`diet/searchquery?${e}`).subscribe({next:s=>{this.data$.next(s)},error:s=>{this.message$.next(s)}})}create(e){this.apiService.post("diet/create/",e).subscribe({next:s=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend r\xf6gz\xedt\xe9s",detail:`${e.name} r\xf6gz\xedtve`})},error:s=>{this.message$.next(s)}})}update(e){this.apiService.put(`diet/update/${e.id}`,e).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend m\xf3dos\xedt\xe1s",detail:`${e.name} m\xf3dos\xedtva`})},error:s=>{this.message$.next(s)}})}delete(e){this.apiService.delete(`diet/delete/${e.id}`).subscribe({next:s=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend t\xf6rl\xe9s",detail:`${e.name} t\xf6r\xf6lve`})},error:s=>{this.message$.next(s)}})}bulkdelete(e){let s={ids:e.map(n=>n.id)};this.apiService.post("diet/bulkdelete",s).subscribe({next:n=>{this.message$.next({severity:"success",summary:"Sikeres \xe9trend t\xf6rl\xe9s",detail:`${e.length} \xe9trend t\xf6r\xf6lve`})},error:n=>{this.message$.next(n)}})}getDietsForSelector(){return this.cache.length>0?(0,c.of)(this.cache):(this.get(0,999,{sortField:"id",sortOrder:1},""),this.data$.asObservable().pipe((0,o.U)(e=>{const s=e?e.rows:[];return this.cache=s,s})))}getDietColor(e){let s="";return this.cache.map(n=>{e?.toLowerCase()==n.name?.toLowerCase()&&(s=n.color??"")}),s}static#e=this.\u0275fac=function(s){return new(s||i)(_.LFG(m.s))};static#t=this.\u0275prov=_.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},3763:(y,f,l)=>{l.d(f,{$:()=>_});var p=l(5619),c=l(2029),o=l(8814);let _=(()=>{class m{constructor(i){this.apiService=i,this.apiURL=i.apiURL,this.data$=new p.X(null),this.message$=new p.X(null)}get logObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(i,t,e,s){let n="";""!==e&&(n=""!=e.sortField?`sort=${e.sortField}&order=${1===e.sortOrder?"ASC":"DESC"}`:"");const h=""!==n&&""!==s?n+"&"+s:""!==n&&""===s?n:""===n&&""!==s?s:"";this.apiService.get(`logs/get/${i}/${t}${""!==h?"?"+h:""}`).subscribe({next:u=>{u&&u.rows?.length&&(u.rows=u.rows.filter(r=>"updatelasttagusage"!==r.action_type),u.rows=u.rows.filter(r=>{if("update"==r.action_type){let d=JSON.parse(r.original_data),a=JSON.parse(r.new_data);if(null==d.rfid&&null!==a.rfid)return!1}return!0}),u.rows.forEach(r=>{if(r.expandable=this.isRowExpandable(r),r.status||(r.response_data=r.original_data),"{}"==r.new_data?r.new_data=null:"{}"==r.original_data?r.original_data=null:"{}"==r.response_data&&(r.response_data=null),200==r.status){let a=JSON.parse(r.response_data).message;if(a){let g=JSON.parse(r.original_data);r.response_data="Success delete"==a?`${g.lastName} ${g.firstName} t\xf6r\xf6lve`:"Update success"==a?`${g.fullname} m\xf3dos\xedtva`:"Guest updated successfully"==a?`${g.lastName} ${g.firstName} m\xf3dos\xedtva`:a}}if(201==r.status){let d=JSON.parse(r.new_data),a="";"conference"==r.table_name?a=`${d.name} konferencia l\xe9trehozva`:"guest"==r.table_name?a=`${d.lastName} ${d.firstName} vend\xe9g l\xe9trehozva`:"users"==r.table_name&&(a=`${d.fullname} felhaszn\xe1l\xf3 l\xe9trehozva`),r.response_data=a}if(400==r.status){let d=JSON.parse(r.response_data),a=d.error,g=d.message;g&&(r.response_data=g),a&&(r.original_data=JSON.stringify(a))}})),this.data$.next(u)},error:u=>{this.message$.next(u)}})}getBySearch(i,t){let e="";""!==t&&(e=""!=t.sortField?`?sort=${t.sortField}&order=${1===t.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`logs/search/${i}${e}`).subscribe({next:s=>{this.data$.next(s)},error:s=>{this.message$.next(s)}})}getBySearchQuery(i){this.apiService.get(`logs/searchquery?${i}`).subscribe({next:t=>{this.data$.next(t)},error:t=>{this.message$.next(t)}})}create(i){i.userid=Number(localStorage.getItem("userid"))||1,i.user_fullname=localStorage.getItem("fullname")||"SYSTEM",i.user_email=localStorage.getItem("email")||"info@nfcreserve.com",this.apiService.post("logs/create/",i).subscribe({next:t=>{this.message$.next({severity:"success",summary:"Sikeres log r\xf6gz\xedt\xe9s",detail:"Log r\xf6gz\xedtve"})},error:t=>{this.message$.next(t)}})}update(i){this.apiService.put(`logs/update/${i.id}`,i).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres log m\xf3dos\xedt\xe1s",detail:"Log m\xf3dos\xedtva"})},error:t=>{this.message$.next(t)}})}delete(i){this.apiService.delete(`logs/delete/${i.id}`).subscribe({next:t=>{this.message$.next({severity:"success",summary:"Sikeres log t\xf6rl\xe9s",detail:"Log t\xf6r\xf6lve"})},error:t=>{this.message$.next(t)}})}bulkdelete(i){let t={ids:i.map(e=>e.id)};this.apiService.post("logs/bulkdelete",t).subscribe({next:e=>{this.message$.next({severity:"success",summary:"Sikeres log t\xf6rl\xe9s",detail:`${i.length} log t\xf6r\xf6lve`})},error:e=>{this.message$.next(e)}})}isRowExpandable(i){return!!i.action_type&&!["scanned code","assign tag","unassign","same code","tag duplicate","already received food","unknown device","import"].includes(i.action_type?.toLowerCase())}static#e=this.\u0275fac=function(t){return new(t||m)(c.LFG(o.s))};static#t=this.\u0275prov=c.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},2835:(y,f,l)=>{l.d(f,{c:()=>_});var p=l(5619),c=l(2029),o=l(8814);let _=(()=>{class m{constructor(i){this.apiService=i,this.apiURL=i.apiURL,this.data$=new p.X(null),this.message$=new p.X(null)}get tagObs(){return this.data$.asObservable()}get messageObs(){return this.message$.asObservable()}get(i,t,e,s){let n="";""!==e&&(n=""!=e.sortField?`sort=${e.sortField}&order=${1===e.sortOrder?"ASC":"DESC"}`:"");const h=""!==n&&""!==s?n+"&"+s:""!==n&&""===s?n:""===n&&""!==s?s:"";this.apiService.get(`rfid/get/${i}/${t}${""!==h?"?"+h:""}`).subscribe({next:u=>{let r=u.rows;r&&r.length>0&&r.forEach(d=>{d.identifier=d.rfid}),this.data$.next(u)},error:u=>{this.message$.next(u)}})}getBySearch(i,t){let e="";""!==t&&(e=""!=t.sortField?`?sort=${t.sortField}&order=${1===t.sortOrder?"ASC":"DESC"}`:""),this.apiService.get(`rfid/search/${i}${e}`).subscribe({next:s=>{let n=s.rows;n&&n.length>0&&n.forEach(h=>{h.identifier=h.rfid}),this.data$.next(s)},error:s=>{this.message$.next(s)}})}getBySearchQuery(i){this.apiService.get(`rfid/searchquery?${i}`).subscribe({next:t=>{let e=t.rows;e&&e.length>0&&e.forEach(s=>{s.identifier=s.rfid}),this.data$.next(t)},error:t=>{this.message$.next(t)}})}create(i){this.apiService.post("rfid/create/",i).subscribe({next:t=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke r\xf6gz\xedt\xe9s",detail:`${i.identifier} r\xf6gz\xedtve`})},error:t=>{this.message$.next(t)}})}update(i){this.apiService.put(`rfid/update/${i.id}`,i).subscribe({next:()=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke m\xf3dos\xedt\xe1s",detail:`${i.identifier} m\xf3dos\xedtva`})},error:t=>{this.message$.next(t)}})}delete(i){this.apiService.delete(`rfid/delete/${i.id}`).subscribe({next:t=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${i.identifier} t\xf6r\xf6lve`})},error:t=>{this.message$.next(t)}})}bulkdelete(i){let t={ids:i.map(e=>e.id)};this.apiService.post("rfid/bulkdelete",t).subscribe({next:e=>{this.message$.next({severity:"success",summary:"Sikeres c\xedmke t\xf6rl\xe9s",detail:`${i.length} c\xedmke t\xf6r\xf6lve`})},error:e=>{this.message$.next(e)}})}getByRFID(i){return this.apiService.get(`rfid/search/${i}`)}static#e=this.\u0275fac=function(t){return new(t||m)(c.LFG(o.s))};static#t=this.\u0275prov=c.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},1836:(y,f,l)=>{function p(){return c=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(c.value)?null:{invalidEmail:{value:c.value}}}l.d(f,{u:()=>p})},8842:(y,f,l)=>{function p(){return c=>{const o=c.get("password"),_=c.get("password_again");return o&&_&&o.value!==_.value?{passwordsDoNotMatch:!0}:null}}l.d(f,{C:()=>p})},4532:(y,f,l)=>{l.d(f,{d:()=>d});var p=l(6814),c=l(2029),o=l(5219);let d=(()=>{class a{static \u0275fac=function($){return new($||a)};static \u0275mod=c.oAB({type:a});static \u0275inj=c.cJS({imports:[p.ez,o.m8]})}return a})()},1913:(y,f,l)=>{l.d(f,{h:()=>_,l:()=>m});var p=l(6814),c=l(2029),o=l(2076);let _=(()=>{class C{el;renderer;zone;constructor(t,e,s){this.el=t,this.renderer=e,this.zone=s}selector;enterClass;enterActiveClass;enterToClass;leaveClass;leaveActiveClass;leaveToClass;hideOnOutsideClick;toggleClass;hideOnEscape;eventListener;documentClickListener;documentKeydownListener;target;enterListener;leaveListener;animating;clickListener(){this.target=this.resolveTarget(),this.toggleClass?this.toggle():null===this.target.offsetParent?this.enter():this.leave()}toggle(){o.p.hasClass(this.target,this.toggleClass)?o.p.removeClass(this.target,this.toggleClass):o.p.addClass(this.target,this.toggleClass)}enter(){this.enterActiveClass?this.animating||(this.animating=!0,"slidedown"===this.enterActiveClass&&(this.target.style.height="0px",o.p.removeClass(this.target,"hidden"),this.target.style.maxHeight=this.target.scrollHeight+"px",o.p.addClass(this.target,"hidden"),this.target.style.height=""),o.p.addClass(this.target,this.enterActiveClass),this.enterClass&&o.p.removeClass(this.target,this.enterClass),this.enterListener=this.renderer.listen(this.target,"animationend",()=>{o.p.removeClass(this.target,this.enterActiveClass),this.enterToClass&&o.p.addClass(this.target,this.enterToClass),this.enterListener&&this.enterListener(),"slidedown"===this.enterActiveClass&&(this.target.style.maxHeight=""),this.animating=!1})):(this.enterClass&&o.p.removeClass(this.target,this.enterClass),this.enterToClass&&o.p.addClass(this.target,this.enterToClass)),this.hideOnOutsideClick&&this.bindDocumentClickListener(),this.hideOnEscape&&this.bindDocumentKeydownListener()}leave(){this.leaveActiveClass?this.animating||(this.animating=!0,o.p.addClass(this.target,this.leaveActiveClass),this.leaveClass&&o.p.removeClass(this.target,this.leaveClass),this.leaveListener=this.renderer.listen(this.target,"animationend",()=>{o.p.removeClass(this.target,this.leaveActiveClass),this.leaveToClass&&o.p.addClass(this.target,this.leaveToClass),this.leaveListener&&this.leaveListener(),this.animating=!1})):(this.leaveClass&&o.p.removeClass(this.target,this.leaveClass),this.leaveToClass&&o.p.addClass(this.target,this.leaveToClass)),this.hideOnOutsideClick&&this.unbindDocumentClickListener(),this.hideOnEscape&&this.unbindDocumentKeydownListener()}resolveTarget(){if(this.target)return this.target;switch(this.selector){case"@next":return this.el.nativeElement.nextElementSibling;case"@prev":return this.el.nativeElement.previousElementSibling;case"@parent":return this.el.nativeElement.parentElement;case"@grandparent":return this.el.nativeElement.parentElement.parentElement;default:return document.querySelector(this.selector)}}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"click",t=>{this.isVisible()&&"static"!==getComputedStyle(this.target).getPropertyValue("position")?this.isOutsideClick(t)&&this.leave():this.unbindDocumentClickListener()}))}bindDocumentKeydownListener(){this.documentKeydownListener||this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"keydown",t=>{const{key:e,keyCode:s,which:n}=t;(!this.isVisible()||"static"===getComputedStyle(this.target).getPropertyValue("position"))&&this.unbindDocumentKeydownListener(),this.isVisible()&&"Escape"===e&&27===s&&27===n&&this.leave()})})}isVisible(){return null!==this.target.offsetParent}isOutsideClick(t){return!this.el.nativeElement.isSameNode(t.target)&&!this.el.nativeElement.contains(t.target)&&!this.target.contains(t.target)}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}unbindDocumentKeydownListener(){this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}ngOnDestroy(){this.target=null,this.eventListener&&this.eventListener(),this.unbindDocumentClickListener(),this.unbindDocumentKeydownListener()}static \u0275fac=function(e){return new(e||C)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.R0b))};static \u0275dir=c.lG2({type:C,selectors:[["","pStyleClass",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,s){1&e&&c.NdJ("click",function(h){return s.clickListener(h)})},inputs:{selector:["pStyleClass","selector"],enterClass:"enterClass",enterActiveClass:"enterActiveClass",enterToClass:"enterToClass",leaveClass:"leaveClass",leaveActiveClass:"leaveActiveClass",leaveToClass:"leaveToClass",hideOnOutsideClick:"hideOnOutsideClick",toggleClass:"toggleClass",hideOnEscape:"hideOnEscape"}})}return C})(),m=(()=>{class C{static \u0275fac=function(e){return new(e||C)};static \u0275mod=c.oAB({type:C});static \u0275inj=c.cJS({imports:[p.ez]})}return C})()}}]);